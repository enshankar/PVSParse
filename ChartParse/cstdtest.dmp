
%% PVS Version 7.1.63 - International Allegro CL Enterprise Edition 10.1 [64-bit Mac OS X (Intel)] (Sep 8, 2021 10:00)
%% 10.1 [64-bit Mac OS X (Intel)] (Sep 8, 2021 10:00)
$$$PVSHOME/.pvs.lisp
(in-package :pvs)


$$$arrayCount.pvs
arrayCount   [T: TYPE ]
		: THEORY

  BEGIN

  len: VAR nat

  P: VAR [T -> bool]

   arr(len): TYPE = [below(len) -> T]

   count(len)(P)(A : arr(len)): upto(len) =
     card({i : below(len) | P(A(i))})

   u, v: VAR T

   count_update0: LEMMA
     (FORALL (i: below(len)), (A : arr(len)):
       NOT P(A(i)) AND P(u)
         IMPLIES  count(len)(P)(A WITH [(i) := u]) = count(len)(P)(A) + 1)

   count_update: LEMMA
     (FORALL (i: below(len)), (A : arr(len)):
       NOT P(A(i)) AND P(u)
         IMPLIES count(len)(P)(A) < count(len)(P)(A WITH [(i) := u]))

   count_update00: LEMMA
      (FORALL (i: below(len)), (A : arr(len)):
          count(len)(P)(A WITH [(i) := u]) =
	   IF P(A(i)) THEN IF P(u) THEN count(len)(P)(A) ELSE count(len)(P)(A) - 1 ENDIF
	    ELSIF P(u) THEN count(len)(P)(A) + 1 ELSE count(len)(P)(A) ENDIF)


   count_update1: LEMMA
     (FORALL (i: below(len)), (A : arr(len)):
       NOT P(A(i)) AND P(u)
         IMPLIES count(len)(P)(A) < count(len)(P)(A WITH [(i) |-> u]))

   count_update2: LEMMA
     (FORALL (i: below(len)), (A : arr(len)):
       P(A(i)) AND NOT P(u)
         IMPLIES count(len)(P)(A WITH [(i) := u]) < count(len)(P)(A))

   count_update3: LEMMA
     (FORALL (i: below(len)), (A : arr(len)):
       P(A(i)) AND NOT P(u)
         IMPLIES count(len)(P)(A WITH [(i) |-> u]) < count(len)(P)(A))


  END arrayCount

$$$arrayCount.prf
(arrayCount
 (count_TCC1 0
  (count_TCC1-1 nil 3798315575
   ("" (skeep)
    (("" (expand "is_finite")
      (("" (inst + "len" "id")
        (("" (typepred "id")
          (("" (expand "bijective?") (("" (ground) nil nil)) nil))
          nil))
        nil))
      nil))
    nil)
   ((is_finite const-decl "bool" finite_sets nil)
    (NOT const-decl "[bool -> bool]" booleans nil)
    (id const-decl "(bijective?[T, T])" identity nil)
    (bijective? const-decl "bool" functions nil)
    (below type-eq-decl nil nat_types nil)
    (arr type-eq-decl nil arrayCount nil)
    (T formal-type-decl nil arrayCount nil)
    (below type-eq-decl nil naturalnumbers nil)
    (< const-decl "bool" reals nil)
    (nat nonempty-type-eq-decl nil naturalnumbers nil)
    (>= const-decl "bool" reals nil)
    (bool nonempty-type-eq-decl nil booleans nil)
    (int nonempty-type-eq-decl nil integers nil)
    (integer_pred const-decl "[rational -> boolean]" integers nil)
    (rational nonempty-type-from-decl nil rationals nil)
    (rational_pred const-decl "[real -> boolean]" rationals nil)
    (real nonempty-type-from-decl nil reals nil)
    (real_pred const-decl "[number_field -> boolean]" reals nil)
    (number_field nonempty-type-from-decl nil number_fields nil)
    (number_field_pred const-decl "[number -> boolean]" number_fields
     nil)
    (boolean nonempty-type-decl nil booleans nil)
    (number nonempty-type-decl nil numbers nil))
   nil
   (count subtype
          "{i: naturalnumbers.below(arrayCount.len) | arrayCount.P(arrayCount.A(i))}"
     "finite_set[below(len)]")))
 (count_TCC2 0
  (count_TCC2-1 nil 3798315575
   ("" (skeep)
    (("" (typepred "card[below(len)]({i: below(len) | P(A(i))})")
      (("1" (replace -1 :hide? t)
        (("1" (rewrite "Card_injection")
          (("1" (inst + "id")
            (("1" (typepred "id")
              (("1" (expand "bijective?") (("1" (ground) nil nil))
                nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (use "count_TCC1") nil nil))
      nil))
    nil)
   ((arr type-eq-decl nil arrayCount nil)
    (T formal-type-decl nil arrayCount nil)
    (card const-decl "{n: nat | n = Card(S)}" finite_sets nil)
    (Card const-decl "nat" finite_sets nil)
    (is_finite const-decl "bool" finite_sets nil)
    (set type-eq-decl nil sets nil)
    (finite_set type-eq-decl nil finite_sets nil)
    (below type-eq-decl nil naturalnumbers nil)
    (< const-decl "bool" reals nil)
    (nat nonempty-type-eq-decl nil naturalnumbers nil)
    (>= const-decl "bool" reals nil)
    (int nonempty-type-eq-decl nil integers nil)
    (integer_pred const-decl "[rational -> boolean]" integers nil)
    (rational nonempty-type-from-decl nil rationals nil)
    (rational_pred const-decl "[real -> boolean]" rationals nil)
    (real nonempty-type-from-decl nil reals nil)
    (real_pred const-decl "[number_field -> boolean]" reals nil)
    (number_field nonempty-type-from-decl nil number_fields nil)
    (number_field_pred const-decl "[number -> boolean]" number_fields
     nil)
    (= const-decl "[T, T -> boolean]" equalities nil)
    (number nonempty-type-decl nil numbers nil)
    (NOT const-decl "[bool -> bool]" booleans nil)
    (bool nonempty-type-eq-decl nil booleans nil)
    (boolean nonempty-type-decl nil booleans nil)
    (Card_injection formula-decl nil finite_sets nil)
    (real_le_is_total_order name-judgement "(total_order?[real])"
     real_props nil)
    (below type-eq-decl nil nat_types nil)
    (bijective? const-decl "bool" functions nil)
    (id const-decl "(bijective?[T, T])" identity nil)
    (count_TCC1 subtype-tcc nil arrayCount nil))
   nil
   (count subtype
          "finite_sets[naturalnumbers.below(arrayCount.len)].card({i: naturalnumbers.below(arrayCount.len) | arrayCount.P(arrayCount.A(i))})"
     "naturalnumbers.upto(arrayCount.len)")))
 (count_update0 0
  (count_update0-1 nil 3804561128
   ("" (skeep)
    (("" (expand "count")
      ((""
        (case "{i_1: below(len) | P(A WITH [(i) := u](i_1))} = add(i, {i: below(len) | P(A(i))})")
        (("1" (replace -1 :hide? t)
          (("1" (rewrite "card_add")
            (("1" (grind) nil nil)
             ("2"
              (rewrite "finite_subset" :subst
               ("A" "{i: below(len) | TRUE}"))
              (("1" (grind) nil nil)
               ("2" (hide-all-but 1)
                (("2" (expand "is_finite")
                  (("2" (inst + "len" "LAMBDA (i: below(len)): i")
                    (("2" (grind) nil nil)) nil))
                  nil))
                nil))
              nil))
            nil))
          nil)
         ("2" (hide 3) (("2" (grind-with-ext) nil nil)) nil))
        nil))
      nil))
    nil)
   ((add const-decl "(nonempty?)" sets nil)
    (nonempty? const-decl "bool" sets nil)
    (set type-eq-decl nil sets nil)
    (arr type-eq-decl nil arrayCount nil)
    (T formal-type-decl nil arrayCount nil)
    (= const-decl "[T, T -> boolean]" equalities nil)
    (below type-eq-decl nil naturalnumbers nil)
    (< const-decl "bool" reals nil)
    (nat nonempty-type-eq-decl nil naturalnumbers nil)
    (>= const-decl "bool" reals nil)
    (bool nonempty-type-eq-decl nil booleans nil)
    (int nonempty-type-eq-decl nil integers nil)
    (integer_pred const-decl "[rational -> boolean]" integers nil)
    (rational nonempty-type-from-decl nil rationals nil)
    (rational_pred const-decl "[real -> boolean]" rationals nil)
    (real nonempty-type-from-decl nil reals nil)
    (real_pred const-decl "[number_field -> boolean]" reals nil)
    (number_field nonempty-type-from-decl nil number_fields nil)
    (number_field_pred const-decl "[number -> boolean]" number_fields
     nil)
    (boolean nonempty-type-decl nil booleans nil)
    (number nonempty-type-decl nil numbers nil)
    (finite_set type-eq-decl nil finite_sets nil)
    (is_finite const-decl "bool" finite_sets nil)
    (card_add formula-decl nil finite_sets nil)
    (posint_plus_nnint_is_posint application-judgement "posint"
     integers nil)
    (nnint_plus_nnint_is_nnint application-judgement "nonneg_int"
     integers nil)
    (below type-eq-decl nil nat_types nil)
    (NOT const-decl "[bool -> bool]" booleans nil)
    (injective? const-decl "bool" functions nil)
    (member const-decl "bool" sets nil)
    (subset? const-decl "bool" sets nil)
    (subset_is_partial_order name-judgement "(partial_order?[set[T]])"
     sets_lemmas nil)
    (finite_subset formula-decl nil finite_sets nil)
    (TRUE const-decl "bool" booleans nil)
    (count const-decl "upto(len)" arrayCount nil))
   shostak))
 (count_update 0
  (count_update-1 nil 3798315577
   ("" (skeep)
    (("" (expand "count")
      ((""
        (case "{i_1: below(len) | P(A WITH [(i) := u](i_1))} = add(i, {i: below(len) | P(A(i))})")
        (("1" (replace -1 :hide? t)
          (("1" (rewrite "card_add")
            (("1" (grind) nil nil)
             ("2"
              (rewrite "finite_subset" :subst
               ("A" "{i: below(len) | TRUE}"))
              (("1" (grind) nil nil)
               ("2" (hide-all-but 1)
                (("2" (expand "is_finite")
                  (("2" (inst + "len" "LAMBDA (i: below(len)): i")
                    (("2" (grind) nil nil)) nil))
                  nil))
                nil))
              nil))
            nil))
          nil)
         ("2" (hide 3) (("2" (grind-with-ext) nil nil)) nil))
        nil))
      nil))
    nil)
   ((count const-decl "upto(len)" arrayCount nil)
    (TRUE const-decl "bool" booleans nil)
    (finite_subset formula-decl nil finite_sets nil)
    (subset_is_partial_order name-judgement "(partial_order?[set[T]])"
     sets_lemmas nil)
    (subset? const-decl "bool" sets nil)
    (member const-decl "bool" sets nil)
    (injective? const-decl "bool" functions nil)
    (NOT const-decl "[bool -> bool]" booleans nil)
    (below type-eq-decl nil nat_types nil)
    (nnint_plus_nnint_is_nnint application-judgement "nonneg_int"
     integers nil)
    (real_lt_is_strict_total_order name-judgement
     "(strict_total_order?[real])" real_props nil)
    (card_add formula-decl nil finite_sets nil)
    (is_finite const-decl "bool" finite_sets nil)
    (finite_set type-eq-decl nil finite_sets nil)
    (number nonempty-type-decl nil numbers nil)
    (boolean nonempty-type-decl nil booleans nil)
    (number_field_pred const-decl "[number -> boolean]" number_fields
     nil)
    (number_field nonempty-type-from-decl nil number_fields nil)
    (real_pred const-decl "[number_field -> boolean]" reals nil)
    (real nonempty-type-from-decl nil reals nil)
    (rational_pred const-decl "[real -> boolean]" rationals nil)
    (rational nonempty-type-from-decl nil rationals nil)
    (integer_pred const-decl "[rational -> boolean]" integers nil)
    (int nonempty-type-eq-decl nil integers nil)
    (bool nonempty-type-eq-decl nil booleans nil)
    (>= const-decl "bool" reals nil)
    (nat nonempty-type-eq-decl nil naturalnumbers nil)
    (< const-decl "bool" reals nil)
    (below type-eq-decl nil naturalnumbers nil)
    (= const-decl "[T, T -> boolean]" equalities nil)
    (T formal-type-decl nil arrayCount nil)
    (arr type-eq-decl nil arrayCount nil)
    (set type-eq-decl nil sets nil)
    (nonempty? const-decl "bool" sets nil)
    (add const-decl "(nonempty?)" sets nil))
   shostak))
 (count_update00 0
  (count_update00-1 nil 3806985200
   ("" (skeep)
    (("" (lift-if)
      (("" (ground)
        (("1" (expand count)
          (("1"
            (case-replace
             "{i_1: below(len) | P(A WITH [(i) := u](i_1))} = {i: below(len) | P(A(i))}")
            (("1" (hide 2) (("1" (grind-with-ext) nil nil)) nil)) nil))
          nil)
         ("2" (expand count)
          (("2"
            (case-replace
             "{i_1: below(len) | P(A WITH [(i) := u](i_1))} = remove(i, {i: below(len) | P(A(i))})")
            (("1" (rewrite card_remove)
              (("1" (use count_TCC1) nil nil)) nil)
             ("2" (grind-with-ext) nil nil))
            nil))
          nil)
         ("3" (expand count)
          (("3"
            (case-replace
             "{i_1: below(len) | P(A WITH [(i) := u](i_1))} = add(i, {i: below(len) | P(A(i))})")
            (("1" (rewrite card_add) (("1" (use count_TCC1) nil nil))
              nil)
             ("2" (grind-with-ext) nil nil))
            nil))
          nil)
         ("4" (expand count)
          (("4"
            (case-replace
             "{i_1: below(len) | P(A WITH [(i) := u](i_1))} = {i: below(len) | P(A(i))}")
            (("4" (grind-with-ext) nil nil)) nil))
          nil))
        nil))
      nil))
    nil)
   ((card_add formula-decl nil finite_sets nil)
    (nnint_plus_nnint_is_nnint application-judgement "nonneg_int"
     integers nil)
    (posint_plus_nnint_is_posint application-judgement "posint"
     integers nil)
    (add const-decl "(nonempty?)" sets nil)
    (nonempty? const-decl "bool" sets nil)
    (member const-decl "bool" sets nil)
    (/= const-decl "boolean" notequal nil)
    (card_remove formula-decl nil finite_sets nil)
    (is_finite const-decl "bool" finite_sets nil)
    (finite_set type-eq-decl nil finite_sets nil)
    (count_TCC1 subtype-tcc nil arrayCount nil)
    (remove const-decl "set" sets nil) (set type-eq-decl nil sets nil)
    (count const-decl "upto(len)" arrayCount nil)
    (arr type-eq-decl nil arrayCount nil)
    (T formal-type-decl nil arrayCount nil)
    (= const-decl "[T, T -> boolean]" equalities nil)
    (below type-eq-decl nil naturalnumbers nil)
    (< const-decl "bool" reals nil)
    (nat nonempty-type-eq-decl nil naturalnumbers nil)
    (>= const-decl "bool" reals nil)
    (bool nonempty-type-eq-decl nil booleans nil)
    (int nonempty-type-eq-decl nil integers nil)
    (integer_pred const-decl "[rational -> boolean]" integers nil)
    (rational nonempty-type-from-decl nil rationals nil)
    (rational_pred const-decl "[real -> boolean]" rationals nil)
    (real nonempty-type-from-decl nil reals nil)
    (real_pred const-decl "[number_field -> boolean]" reals nil)
    (number_field nonempty-type-from-decl nil number_fields nil)
    (number_field_pred const-decl "[number -> boolean]" number_fields
     nil)
    (boolean nonempty-type-decl nil booleans nil)
    (number nonempty-type-decl nil numbers nil)
    (int_minus_int_is_int application-judgement "int" integers nil)
    (nnint_plus_posint_is_posint application-judgement "posint"
     integers nil))
   shostak))
 (count_update1 0
  (count_update1-1 nil 3799389970
   ("" (skeep)
    (("" (expand "count")
      ((""
        (case "{i_1: below(len) | P(A WITH [(i) := u](i_1))} = add(i, {i: below(len) | P(A(i))})")
        (("1" (replace -1 :hide? t)
          (("1" (rewrite "card_add")
            (("1" (grind) nil nil)
             ("2"
              (rewrite "finite_subset" :subst
               ("A" "{i: below(len) | TRUE}"))
              (("1" (grind) nil nil)
               ("2" (hide-all-but 1)
                (("2" (expand "is_finite")
                  (("2" (inst + "len" "LAMBDA (i: below(len)): i")
                    (("2" (grind) nil nil)) nil))
                  nil))
                nil))
              nil))
            nil))
          nil)
         ("2" (hide 3) (("2" (grind-with-ext) nil nil)) nil))
        nil))
      nil))
    nil)
   ((count const-decl "upto(len)" arrayCount nil)
    (TRUE const-decl "bool" booleans nil)
    (finite_subset formula-decl nil finite_sets nil)
    (subset_is_partial_order name-judgement "(partial_order?[set[T]])"
     sets_lemmas nil)
    (subset? const-decl "bool" sets nil)
    (member const-decl "bool" sets nil)
    (injective? const-decl "bool" functions nil)
    (NOT const-decl "[bool -> bool]" booleans nil)
    (below type-eq-decl nil nat_types nil)
    (nnint_plus_nnint_is_nnint application-judgement "nonneg_int"
     integers nil)
    (real_lt_is_strict_total_order name-judgement
     "(strict_total_order?[real])" real_props nil)
    (card_add formula-decl nil finite_sets nil)
    (is_finite const-decl "bool" finite_sets nil)
    (finite_set type-eq-decl nil finite_sets nil)
    (number nonempty-type-decl nil numbers nil)
    (boolean nonempty-type-decl nil booleans nil)
    (number_field_pred const-decl "[number -> boolean]" number_fields
     nil)
    (number_field nonempty-type-from-decl nil number_fields nil)
    (real_pred const-decl "[number_field -> boolean]" reals nil)
    (real nonempty-type-from-decl nil reals nil)
    (rational_pred const-decl "[real -> boolean]" rationals nil)
    (rational nonempty-type-from-decl nil rationals nil)
    (integer_pred const-decl "[rational -> boolean]" integers nil)
    (int nonempty-type-eq-decl nil integers nil)
    (bool nonempty-type-eq-decl nil booleans nil)
    (>= const-decl "bool" reals nil)
    (nat nonempty-type-eq-decl nil naturalnumbers nil)
    (< const-decl "bool" reals nil)
    (below type-eq-decl nil naturalnumbers nil)
    (= const-decl "[T, T -> boolean]" equalities nil)
    (T formal-type-decl nil arrayCount nil)
    (arr type-eq-decl nil arrayCount nil)
    (set type-eq-decl nil sets nil)
    (nonempty? const-decl "bool" sets nil)
    (add const-decl "(nonempty?)" sets nil))
   shostak))
 (count_update2 0
  (count_update2-1 nil 3799389749
   ("" (skeep)
    (("" (expand "count")
      ((""
        (case "{i_1: below(len) | P(A WITH [(i) := u](i_1))} = remove(i, {i: below(len) | P(A(i))})")
        (("1" (replace -1 :hide? t)
          (("1" (rewrite "card_remove")
            (("1" (grind) nil nil)
             ("2"
              (rewrite "finite_subset" :subst
               ("A" "{i: below(len) | TRUE}"))
              (("1" (grind) nil nil)
               ("2" (hide-all-but 1)
                (("2" (expand "is_finite")
                  (("2" (inst + "len" "LAMBDA (i: below(len)): i")
                    (("2" (grind) nil nil)) nil))
                  nil))
                nil))
              nil))
            nil))
          nil)
         ("2" (hide 3) (("2" (grind-with-ext) nil nil)) nil))
        nil))
      nil))
    nil)
   ((count const-decl "upto(len)" arrayCount nil)
    (/= const-decl "boolean" notequal nil)
    (TRUE const-decl "bool" booleans nil)
    (finite_subset formula-decl nil finite_sets nil)
    (subset_is_partial_order name-judgement "(partial_order?[set[T]])"
     sets_lemmas nil)
    (subset? const-decl "bool" sets nil)
    (member const-decl "bool" sets nil)
    (injective? const-decl "bool" functions nil)
    (NOT const-decl "[bool -> bool]" booleans nil)
    (below type-eq-decl nil nat_types nil)
    (int_minus_int_is_int application-judgement "int" integers nil)
    (real_lt_is_strict_total_order name-judgement
     "(strict_total_order?[real])" real_props nil)
    (finite_set type-eq-decl nil finite_sets nil)
    (is_finite const-decl "bool" finite_sets nil)
    (card_remove formula-decl nil finite_sets nil)
    (number nonempty-type-decl nil numbers nil)
    (boolean nonempty-type-decl nil booleans nil)
    (number_field_pred const-decl "[number -> boolean]" number_fields
     nil)
    (number_field nonempty-type-from-decl nil number_fields nil)
    (real_pred const-decl "[number_field -> boolean]" reals nil)
    (real nonempty-type-from-decl nil reals nil)
    (rational_pred const-decl "[real -> boolean]" rationals nil)
    (rational nonempty-type-from-decl nil rationals nil)
    (integer_pred const-decl "[rational -> boolean]" integers nil)
    (int nonempty-type-eq-decl nil integers nil)
    (bool nonempty-type-eq-decl nil booleans nil)
    (>= const-decl "bool" reals nil)
    (nat nonempty-type-eq-decl nil naturalnumbers nil)
    (< const-decl "bool" reals nil)
    (below type-eq-decl nil naturalnumbers nil)
    (= const-decl "[T, T -> boolean]" equalities nil)
    (T formal-type-decl nil arrayCount nil)
    (arr type-eq-decl nil arrayCount nil)
    (set type-eq-decl nil sets nil) (remove const-decl "set" sets nil))
   shostak))
 (count_update3 0
  (count_update3-1 nil 3799420828
   ("" (skeep)
    (("" (expand "count")
      ((""
        (case "{i_1: below(len) | P(A WITH [(i) := u](i_1))} = remove(i, {i: below(len) | P(A(i))})")
        (("1" (replace -1 :hide? t)
          (("1" (rewrite "card_remove")
            (("1" (grind) nil nil)
             ("2"
              (rewrite "finite_subset" :subst
               ("A" "{i: below(len) | TRUE}"))
              (("1" (grind) nil nil)
               ("2" (hide-all-but 1)
                (("2" (expand "is_finite")
                  (("2" (inst + "len" "LAMBDA (i: below(len)): i")
                    (("2" (grind) nil nil)) nil))
                  nil))
                nil))
              nil))
            nil))
          nil)
         ("2" (hide 3) (("2" (grind-with-ext) nil nil)) nil))
        nil))
      nil))
    nil)
   ((count const-decl "upto(len)" arrayCount nil)
    (/= const-decl "boolean" notequal nil)
    (TRUE const-decl "bool" booleans nil)
    (finite_subset formula-decl nil finite_sets nil)
    (subset_is_partial_order name-judgement "(partial_order?[set[T]])"
     sets_lemmas nil)
    (subset? const-decl "bool" sets nil)
    (member const-decl "bool" sets nil)
    (injective? const-decl "bool" functions nil)
    (NOT const-decl "[bool -> bool]" booleans nil)
    (below type-eq-decl nil nat_types nil)
    (int_minus_int_is_int application-judgement "int" integers nil)
    (real_lt_is_strict_total_order name-judgement
     "(strict_total_order?[real])" real_props nil)
    (finite_set type-eq-decl nil finite_sets nil)
    (is_finite const-decl "bool" finite_sets nil)
    (card_remove formula-decl nil finite_sets nil)
    (number nonempty-type-decl nil numbers nil)
    (boolean nonempty-type-decl nil booleans nil)
    (number_field_pred const-decl "[number -> boolean]" number_fields
     nil)
    (number_field nonempty-type-from-decl nil number_fields nil)
    (real_pred const-decl "[number_field -> boolean]" reals nil)
    (real nonempty-type-from-decl nil reals nil)
    (rational_pred const-decl "[real -> boolean]" rationals nil)
    (rational nonempty-type-from-decl nil rationals nil)
    (integer_pred const-decl "[rational -> boolean]" integers nil)
    (int nonempty-type-eq-decl nil integers nil)
    (bool nonempty-type-eq-decl nil booleans nil)
    (>= const-decl "bool" reals nil)
    (nat nonempty-type-eq-decl nil naturalnumbers nil)
    (< const-decl "bool" reals nil)
    (below type-eq-decl nil naturalnumbers nil)
    (= const-decl "[T, T -> boolean]" equalities nil)
    (T formal-type-decl nil arrayCount nil)
    (arr type-eq-decl nil arrayCount nil)
    (set type-eq-decl nil sets nil) (remove const-decl "set" sets nil))
   shostak)))


$$$cstopdown.pvs
cstopdown	: THEORY

  BEGIN

byte: TYPE = below(256)
strings(len: uint32): TYPE = [below(len) -> byte]
num_non_terminals: byte = 255
non_terminal: TYPE = below(num_non_terminals)



ent: DATATYPE
  BEGIN
  fail(dep: uint64): fail?
  pending: pending?
  loop: loop?
  good(dep: uint64, span: uint32): good?
  push(pos: uint32, nt: uint8): push?
  END ent

peg  : DATATYPE
  BEGIN
   epsilon : epsilon?
   failure : failure?
   any(p : [byte -> bool]) : any?
   terminal(a: byte) : terminal?
   concat(e1, e2: non_terminal) : concat?
   choice(e1, e2: non_terminal) : or?
   check(e: non_terminal) : and?
   neg(e: non_terminal) : not?
  END peg

len: VAR uint32 %the length of the input

JUDGEMENT upto(len) SUBTYPE_OF uint32
JUDGEMENT non_terminal SUBTYPE_OF uint8

%The scaffold entry can be fail, loop, good(span), or pending.
good_good_entry?(len, (pos: upto(len)))(x: (good?)): bool =  (pos + span(x) <= len)

%nt(x) = num_non_terminals at the end of the list. 
good_push_entry?(len)(x: ent): bool = (push?(x) AND pos(x) <= len AND nt(x) <= num_non_terminals)

fine_push_entry?(len)(x: ent): bool = good_push_entry?(len)(x) AND nt(x) < num_non_terminals

nice_entry?(len, (pos: upto(len)))(x: ent): bool =
    (good?(x) => good_good_entry?(len, pos)(x)) AND (push?(x) => good_push_entry?(len)(x))
    
scaffold(len) : TYPE = [pos: upto(len) -> [non_terminal -> (nice_entry?(len, pos))]]

m, n: VAR non_terminal

loop_or_push?(e: ent): bool = (loop?(e) or push?(e))

lang_spec: TYPE = [non_terminal -> peg]

G: VAR lang_spec

instack(len, (A : scaffold(len)))(pos: upto(len), nt: non_terminal):  bool =
   push?(A(pos)(nt))

f: VAR {g : [(push?) -> uint64] | FORALL (x : (push?)): nt(x) = num_non_terminals IMPLIES g(x) = 0}

successor(len, G, (A: scaffold(len)))(entry1, entry2: (good_push_entry?(len))): bool =
  (LET p1 = pos(entry1),
       nt1 = nt(entry1),
       p2 = pos(entry2),
       nt2 = nt(entry2)
     IN nt1 >= num_non_terminals
        OR CASES G(nt1) OF
           concat(n1, n2):  (p2 = p1 AND nt2 = n1) OR
	                   (good?(A(p1)(n1)) AND nt2 = n2 AND p2 = p1 + span(A(p1)(n1))),
           choice(n1, n2): (p2 = p1 AND nt2 = n1) OR
	                   (fail?(A(p1)(n1)) AND nt2 = n2 AND p2 = p1),
           check(n1): (nt2 = n1 AND p2 = p1),
  	   neg(n1): (nt2 = n1 AND p2 = p1)
           ELSE FALSE
	   ENDCASES)

depth: VAR uint64

root, stack: VAR (push?)

IMPORTING  arrayCount
IMPORTING reals@sigma


sigma_restrict: LEMMA
   (FORALL (A: scaffold(len)), (j, k: upto(len)):
   j <= k => 
 sigma(0, j, LAMBDA (i: upto(j)) : count(num_non_terminals)(push?)(A(i))) =
 sigma(0, j, LAMBDA (i: upto(k)) : count(num_non_terminals)(push?)(A(i))))

sigma_restrict_len: LEMMA
   (FORALL (A: scaffold(len)), (j: upto(len)):
  sigma(0, j, LAMBDA (i: upto(j)) : count(num_non_terminals)(push?)(A(i))) =
 sigma(0, j, LAMBDA (i: upto(len)) : count(num_non_terminals)(push?)(A(i))))


sigma_nat: LEMMA
(FORALL (i: upto(len)), (F: [upto(len) -> nat]): 
      sigma(0, i, F) >= 0)

sigma_pos: LEMMA
      (FORALL (F: [upto(len) -> nat]), (i, j: upto(len)):
         F(i) > 0 AND j >= i IMPLIES sigma(0, j, F) > 0)

sigma_dec: LEMMA
      (FORALL (F: [upto(len) -> nat]), (i, j: upto(len)):
         F(i) > 0 IMPLIES 
         sigma(0, j, F WITH [(i) := F(i) - 1]) = (IF j < i THEN sigma(0, j, F) ELSE sigma(0, j, F) - 1 ENDIF))

sigma_inc: LEMMA 
      (FORALL (F: [upto(len) -> nat]), (i, j: upto(len)):
         sigma(0, j, F WITH [(i) := F(i) + 1]) = (IF j < i THEN sigma(0, j, F) ELSE sigma(0, j, F) + 1 ENDIF))

scafcount(len, (A: scaffold(len)), (P: [ent->bool]), (j: upto(len))): uint64 = sigma(0, j, LAMBDA (i: upto(len)) : count(num_non_terminals)(P)(A(i)))

sigma_max: LEMMA
   (FORALL (A: scaffold(len), (P: [ent -> bool]), (j: uint32)):
     j <= len => 
      scafcount(len, A, P, j) <= (j + 1) * num_non_terminals)

scafcount_max: LEMMA
(FORALL (A: scaffold(len), (P: [ent -> bool]), (j: uint32)):
     j <= len => 
      scafcount(len, A, P, j) <= exp2(40))
   

scafcount0: LEMMA
 (FORALL len, (A: scaffold(len)), (P: [ent->bool]): 
    scafcount(len, A, P, 0) = count(num_non_terminals)(P)(A(0)))

scafcount_step: LEMMA
  (FORALL len, (A: scaffold(len)), (P: [ent->bool]), (j: below(len)): 
    scafcount(len, A, P, j+1) = count(num_non_terminals)(P)(A(j+1)) + scafcount(len, A, P, j))

scafcount_update: LEMMA
 (FORALL len, (A: scaffold(len)), (P: [ent->bool]), (i, j: upto(len)), (n: non_terminal), (u: (nice_entry?(len, i))):
   scafcount(len, A WITH [(i)(n) := u], P, j) =
   IF i > j THEN scafcount(len, A, P, j)
   ELSIF P(u) THEN
        IF P(A(i)(n)) THEN scafcount(len, A, P, j) ELSE scafcount(len, A, P, j) + 1 ENDIF
   ELSIF P(A(i)(n)) THEN scafcount(len, A, P, j) - 1 ELSE scafcount(len, A, P, j) ENDIF)

pushcount(len, (A: scaffold(len))): uint64 = scafcount(len, A, push?, len)

good_or_fail?(entry: ent): bool = (good?(entry) OR fail?(entry))

gfcount(len, (A: scaffold(len))): uint64 = scafcount(len, A, good_or_fail?, len)

good_depth?(len, (A : scaffold(len)))(depth: uint64): bool =
  (pushcount(len, A) = depth)

good_stack?(len, G, depth, (A : scaffold(len)))(stack: (good_push_entry?(len))):
   RECURSIVE bool =
   (IF nt(stack) >= num_non_terminals
     THEN depth = 0
     ELSE LET entry = A(pos(stack))(nt(stack))
	    IN good_push_entry?(len)(entry)
	       AND (nt(entry) = num_non_terminals OR successor(len, G, A)(entry, stack))
	            AND depth > 0 AND 
	              good_stack?(len, G, depth - 1, A)(entry)
    ENDIF)
    MEASURE depth

mem_stack?(len, G, depth, (A : scaffold(len)))(entry: (fine_push_entry?(len)), stack: (good_stack?(len, G, depth, A))): RECURSIVE bool
 = (IF nt(stack) >= num_non_terminals
     THEN FALSE
     ELSE entry = stack OR mem_stack?(len, G, depth - 1, A)(entry, A(pos(stack))(nt(stack)))
    ENDIF)
    MEASURE depth

mem_stack_push: LEMMA
  (FORALL (A: scaffold(len)), (entry: (fine_push_entry?(len))), (stack:  (good_stack?(len, G, depth, A))), (u: (nice_entry?(len, (pos(entry))))):
    good_stack?(len, G, depth, A)(stack) AND 
    mem_stack?(len, G, depth, A)(entry, stack) => push?(A(pos(entry))(nt(entry))))

push_or_pending?(entry: ent): bool =
  push?(entry) OR pending?(entry)

good_mem_stack: LEMMA
  (FORALL (A: scaffold(len)), (entry, stack: (good_push_entry?(len))), (u: (nice_entry?(len, (pos(entry))))): 
   good_stack?(len, G, depth, A)(stack) AND
   fine_push_entry?(len)(entry) AND
   NOT mem_stack?(len, G, depth, A)(entry, stack) AND
   push_or_pending?(A(pos(entry))(nt(entry)))
   IMPLIES good_stack?(len, G, depth, A WITH [(pos(entry))(nt(entry)):= u])(stack))

mem_mem_stack: LEMMA
  (FORALL (A: scaffold(len)), (entry, v, stack: (good_push_entry?(len))), (u: (nice_entry?(len, (pos(entry))))): 
   good_stack?(len, G, depth, A)(stack) AND
   fine_push_entry?(len)(entry) AND fine_push_entry?(len)(v) AND
   NOT mem_stack?(len, G, depth, A)(entry, stack) AND
   push_or_pending?(A(pos(entry))(nt(entry)))
   IMPLIES mem_stack?(len, G, depth, A WITH [(pos(entry))(nt(entry)):= u])(v, stack)
           = mem_stack?(len, G, depth, A)(v, stack))

good_mem_stack_push: LEMMA
  (FORALL (A: scaffold(len)), (pos: upto(len)),  (stack: (good_push_entry?(len))):
   depth <= exp2(40) AND 
   good_stack?(len, G, depth, A)(stack) AND
   pending?(A(pos)(n)) AND
   successor(len, G, A)(stack, push(pos, n))
   IMPLIES good_stack?(len, G, depth + 1, A WITH [(pos)(n) := stack])(push(pos, n)))



fine_stack?(len, G, depth, (A: scaffold(len)))(stack: (good_stack?(len, G, depth, A))): RECURSIVE bool =
   (IF nt(stack) >= num_non_terminals
     THEN TRUE
     ELSE LET rest = A(pos(stack))(nt(stack))
          IN NOT mem_stack?(len, G, depth - 1, A)(stack, rest) AND
             fine_stack?(len, G, depth - 1, A)(A(pos(stack))(nt(stack)))
    ENDIF)
    MEASURE depth

fine_mem_stack: LEMMA
  (FORALL (A: scaffold(len)), (entry, stack: (good_push_entry?(len))), (u: (nice_entry?(len, (pos(entry))))): 
   good_stack?(len, G, depth, A)(stack) AND
   fine_push_entry?(len)(entry) AND 
   NOT mem_stack?(len, G, depth, A)(entry, stack) AND
   push_or_pending?(A(pos(entry))(nt(entry)))
   IMPLIES fine_stack?(len, G, depth, A WITH [(pos(entry))(nt(entry)):= u])(stack)
           = fine_stack?(len, G, depth, A)(stack))

% dgood?(d: uint64, u: ent): bool = good?(u) AND dep(u) < d
% dfail?(d: uint64, u: ent): bool = fail?(u) AND dep(u) < d

loop_ready?(len, G, (A: scaffold(len)), (i: upto(len)), n): bool =
   (CASES G(n) OF
           concat(n1, n2):  loop_or_push?(A(i)(n1)) or
  	                    (good?(A(i)(n1)) 
  			     AND loop_or_push?(A(i + span(A(i)(n1)))(n2))),
           choice(n1, n2): loop_or_push?(A(i)(n1)) or (fail?(A(i)(n1)) AND loop_or_push?(A(i)(n2))),
           check(n1): loop_or_push?(A(i)(n1)),
  	   neg(n1): loop_or_push?(A(i)(n1))
           ELSE FALSE
       ENDCASES)
   				       
good_fail?(len, G, (s: strings(len)))((A: scaffold(len)), (i : upto(len)), n, (d: uint64)): bool =
  (CASES G(n) OF
           any(p): (i = len OR NOT p(s(i))) AND d = 0,
           terminal(a): (i = len OR a /= s(i)) AND d = 0,
           concat(n1, n2):  (fail?(A(i)(n1)) AND d = 1 + dep(A(i)(n1))) OR
                             (good?(A(i)(n1)) AND 
  			      fail?(A(i + span(A(i)(n1)))(n2)) AND d = 1 + max(dep(A(i)(n1)), dep(A(i + span(A(i)(n1)))(n2)))),
           choice(n1, n2): fail?(A(i)(n1)) AND fail?(A(i)(n2)) AND d = 1 + max(dep(A(i)(n1)), dep(A(i)(n2))),
           check(n1): fail?(A(i)(n1)) AND d = 1 + dep(A(i)(n1)),
  	   neg(n1): good?(A(i)(n1)) AND d = 1 + dep(A(i)(n1)),
  	   failure: d = 0
           ELSE FALSE
       ENDCASES)

good_loop?(len, G)(A: scaffold(len), (i: upto(len)), n): bool =
(CASES G(n) OF
           concat(n1, n2):  loop?(A(i)(n1)) or
  	                    (good?(A(i)(n1)) 
  			     AND loop?(A(i + span(A(i)(n1)))(n2))),
           choice(n1, n2): loop?(A(i)(n1)) or (fail?(A(i)(n1)) AND loop?(A(i)(n2))),
           check(n1): loop?(A(i)(n1)),
  	   neg(n1): loop?(A(i)(n1))
           ELSE FALSE
       ENDCASES)

good_good?(len, G, (s: strings(len)))((A: scaffold(len)), (i: upto(len)), n, (d: uint64), (sp :upto(len - i))): bool =
 (CASES G(n) OF
         epsilon: sp = 0 AND d = 0,
  	 any(p): sp = 1 AND p(s(i)) AND d = 0,
  	 terminal(a): sp = 1 AND s(i) = a AND d = 0,
  	 concat(n1, n2): good?(A(i)(n1)) 
  	                 AND good?(A(i + span(A(i)(n1)))(n2)) AND d = 1 + max(dep(A(i)(n1)), dep(A(i + span(A(i)(n1)))(n2))),
  	 choice(n1, n2): (good?(A(i)(n1)) AND d = 1 + dep(A(i)(n1)))
	                OR (fail?(A(i)(n1)) AND good?(A(i)(n2)) AND d = 1 + max(dep(A(i)(n1)), dep(A(i)(n2)))),
  	 check(n1): good?(A(i)(n1)) AND sp = 0 AND d = 1 + dep(A(i)(n1)),
  	 neg(n1): fail?(A(i)(n1)) AND sp = 0 AND d = 1 + dep(A(i)(n1)),
  	 failure: FALSE
  	 ENDCASES)

good_entry?(len, G, (s: strings(len)))(A : scaffold(len), (i : upto(len)), n, (u: ent)): bool =
   CASES u OF
    fail(d): good_fail?(len, G, s)(A, i, n, d),
    loop: loop_ready?(len, G, A,  i, n), %don't need good_loop?
    good(d, sp):  sp <= len - i AND good_good?(len, G, s)(A, i, n, d, sp)
    ELSE TRUE
    ENDCASES

fine_entry?(len, G, (s: strings(len)))(A : scaffold(len), (i : upto(len)), n, (u: ent)): bool =
   CASES u OF
    fail(d): good_fail?(len, G, s)(A, i, n, d),
    loop: loop_ready?(len, G, A,  i, n), %don't need good_loop?
    good(d, sp):  sp <= len - i AND good_good?(len, G, s)(A, i, n, d, sp)
    ELSE push?(u) AND pending?(A(i)(n))
    ENDCASES

good_tscaffold?(len, G, (s: strings(len)))(A : scaffold(len)): bool =
 (FORALL (i: upto(len)), n: good_entry?(len, G, s)(A, i, n, A(i)(n)) AND
              (good_or_fail?(A(i)(n)) => dep(A(i)(n)) <= gfcount(len, A)))

% full_stack?(len, G, depth, (A : scaffold(len)))(stack: (good_stack?(len, G, depth, A))): bool =
%    (FORALL (pos: upto(len)), m : instack(len, A)(pos, m) => mem_stack?(len, G, depth, A)(push(pos, m), stack))

good_root?(len, (A: scaffold(len)))((rootpos: upto(len)), rootnt : non_terminal): bool =
  (NOT pending?(A(rootpos)(rootnt)))

fine_scaffold?(len, G, (s: strings(len)))((rootpos : upto(len)), (rootnt: non_terminal))(A : scaffold(len)): bool =
         good_root?(len, A)(rootpos, rootnt) AND
   good_tscaffold?(len, G, s)(A)

good_good_tscaffold: LEMMA
  (FORALL (s: strings(len)), (A: scaffold(len)), (pos: upto(len)), (nt: non_terminal), (u: (nice_entry?(len, pos))):
   push_or_pending?(A(pos)(nt)) AND
   good_tscaffold?(len, G, s)(A) AND
   fine_entry?(len, G, s)(A, pos, nt, u) AND
   (FORALL (j: upto(len)), m: loop?(A(j)(m)) IMPLIES loop_ready?(len, G, A, pos, nt))
   IMPLIES good_tscaffold?(len, G, s)(A WITH [(pos)(nt):= u]))

% fine_scaffold(len, G, s : strings(len))(rootpos: upto(len), rootnt : non_terminal)): TYPE
%  = (fine_scaffold(len, G, s)(rootpos, rootnt))

% update_entry(len, G, s: strings(len))(rootpos : upto(len), rootnt: non_terminal)(A : fine_scaffold(len, G, s)(rootpos, rootnt), entry: (good_push_entry?(len)), u : (fine_entry?(len, G, s)(A, pos(entry), nt(entry)): fine_scaffold(len, G, s)(rootpos, rootnt)
%  = A WITH [(pos(entry))(nt(entry)):= u]





state(len, G, (s: strings(len)), (rootpos: upto(len)), (rootnt: non_terminal)): TYPE
    = [# scaf: (fine_scaffold?(len, G, s)(rootpos, rootnt)), 
         depth: (good_depth?(len, scaf)),
	 stack: (fine_stack?(len, G, depth, scaf)),
	 lflag: {b: bool | IF b
	                     THEN nt(stack) = num_non_terminals OR loop_ready?(len, G, scaf, pos(stack), nt(stack))
			     ELSE (FORALL (i: upto(len)), n: NOT loop?(scaf(i)(n))) ENDIF}
	#]
         

empty?(stack): bool = (nt(stack) = num_non_terminals)

% putstack(len, G, (s: strings(len)), (start: upto(len)), (root: non_terminal))(St: state(len, G, s, start, root) | NOT empty?(St`stack))((pos: upto(len)), (n| (pending?(St`scaf(pos)(n)) OR push?(St`scaf(pos)(n))) AND successor(len, G, St`scaf)(St`stack, push(pos, n))))
%    : state(len, G, s, start, root)
%  = (IF instack(len, St`scaf)(pos, n)
%        THEN St WITH [`scaf(pos)(n) := loop]
%        ELSE St WITH [`stack := push(pos, n), depth := St`depth + 1, `scaf(pos)(n) := St`stack]
%        ENDIF)

step(len, G, (s: strings(len)), (start: upto(len)), (rootnt: non_terminal))(St : state(len, G, s, start, rootnt)): state(len, G, s, start, rootnt)
 = (LET scaf = St`scaf,
	stack = St`stack,
	depth = St`depth,
	lflag = St`lflag
     IN
    IF empty?(stack)
    THEN St
    ELSE LET pos = pos(stack),
             cur = nt(stack),
	     rest = scaf(pos)(cur)
	  IN CASES G(cur) OF
            epsilon: St WITH [`scaf(pos)(cur) := good(0, 0), `stack := rest, `depth := depth - 1],
	    failure: St WITH [`scaf(pos)(cur) := fail(0), `stack := rest, `depth := depth - 1],
	    any(p): (LET v = IF pos = len OR NOT p(s(pos)) THEN fail(0) ELSE good(0, 1) ENDIF
	           IN St WITH [`scaf(pos)(cur) := v, `stack := rest, `depth := depth - 1]),
            terminal(a): (LET v = IF pos = len OR a /= s(pos) THEN fail(0) ELSE good(0, 1) ENDIF
	                   IN St WITH [`scaf(pos)(cur) := v, `stack := rest, `depth := depth - 1]),
            concat(n1, n2): (CASES St`scaf(pos)(n1) OF
	                      fail(d1): St WITH [`scaf(pos)(cur) := fail(d1+1), `stack := rest, `depth := depth - 1],
			      good(d1, sp): CASES St`scaf(pos + sp)(n2) OF
			                   fail(d2): St WITH [`scaf(pos)(cur) := fail(1 + max(d1, d2)), `stack := rest, `depth := depth - 1],
					   good(d2, sp2): St WITH [`scaf(pos)(cur) := good(1+max(d1, d2), sp + sp2), `stack := rest, `depth := depth - 1],
					   pending: St WITH [`stack := push(pos + sp, n2), `depth := St`depth + 1, `scaf(pos+sp)(n2) := St`stack]
					   ELSE St WITH [`scaf(pos)(cur) := loop, `depth := depth - 1, `stack := rest, lflag := TRUE]
					ENDCASES,
			      pending: St WITH [`stack := push(pos, n1), depth := depth + 1, `scaf(pos)(n1) := stack]
			      ELSE St WITH [`scaf(pos)(cur) := loop, `depth := depth - 1, `stack := rest, lflag := TRUE]
			      ENDCASES),
	    choice(n1, n2): (CASES scaf(pos)(n1) OF
	                      fail(d1): CASES scaf(pos)(n2) OF
			                   fail(d2): St WITH [`scaf(pos)(cur) := fail(max(d1,d2)+1), `stack := rest, `depth := depth - 1],
					   good(d2, sp): St WITH [`scaf(pos)(cur) := good(max(d1, d2) + 1, sp), `stack := rest, `depth := depth - 1],
					   pending: St WITH [`stack := push(pos, n2), `depth := depth + 1, `scaf(pos)(n2) := stack]
					   ELSE St WITH [`scaf(pos)(cur) := loop, `depth := depth - 1, `stack := rest, lflag := TRUE]
					ENDCASES,
			      good(d1, sp): St WITH [`scaf(pos)(cur) := good(d1+1, sp), `stack := rest, `depth := depth - 1],
			      pending: St WITH [`stack := push(pos, n1), `depth := depth + 1, `scaf(pos)(n1) := stack]
			      ELSE St WITH [`scaf(pos)(cur) := loop, `depth := depth - 1, `stack := rest, lflag := TRUE]
			      ENDCASES),
	    check(n1): (CASES scaf(pos)(n1) OF
	                      fail(d1): St WITH [`scaf(pos)(cur) := fail(d1+1), `stack := rest, `depth := depth - 1],
			      good(d1, sp): St WITH [`scaf(pos)(cur) := good(d1+1, 0), `stack := rest, `depth := depth - 1],
			      pending: St WITH [`stack := push(pos, n1), `depth := depth + 1, `scaf(pos)(n1) := stack]
			      ELSE St WITH [`scaf(pos)(cur) := loop, `depth := depth - 1, `stack := rest, lflag := TRUE]
			      ENDCASES),
	    neg(n1): (CASES scaf(pos)(n1) OF
	                      fail(d1): St WITH [`scaf(pos)(cur) := good(d1+1, 0), `stack := rest, `depth := depth - 1],
			      good(d1, sp): St WITH [`scaf(pos)(cur) := fail(d1+1), `stack := rest, `depth := depth - 1],
			      pending: St WITH [`stack := push(pos, n1), `depth := depth + 1, `scaf(pos)(n1) := stack]
			      ELSE St WITH [`scaf(pos)(cur) := loop, `depth := depth - 1, `stack := rest, lflag := TRUE]
			      ENDCASES)
          ENDCASES			      
    ENDIF)

IMPORTING lex4, arrayCount


%cmember(len)(l: list[stackentry(len)])(pn: stackentry(len)): bool = member(pn, l)

% membership_update: LEMMA
%    (FORALL (a: non_terminal), (l: list[non_terminal]): 
%       count(num_non_terminals)(id[bool])(cmember(cons(a, l))) =
%       count(num_non_terminals)(id[bool])(cmember(l) WITH [(a) := TRUE]))


 size(len, G, (s: strings(len)), pos: upto(len), n)(St : state(len, G, s, pos, n)): ordinal
=
    lex2(scafcount(len, St`scaf, push_or_pending?, len), 
         ((len + 1) * num_non_terminals) - St`depth)

% size_putstack:
%   JUDGEMENT putstack(len, G, (s: strings(len)))(St: state(len, G, s) | NOT null?(St`stack))(n | pending?(St`scaf(St`pos)(n)))
%    HAS_TYPE {St1: state(len, G, s) | size(len, G, s)(St1) < size(len, G, s)(St)}

% size_step: LEMMA
%  FORALL len, G, (s: strings(len)), (St: state(len, G, s)): 
%    NOT (St`pos = 0 AND St`root = num_non_terminals)
%    IMPLIES size(len, G, s)(step(len, G, s)(St)) < size(len, G, s)(St)

endstate(len, G, (s: strings(len)), (rootpos: upto(len)), (rootnt: non_terminal)): TYPE
 = {st: state(len, G, s, rootpos, rootnt) |
      empty?(st`stack)}


 parse(len, G, (s: strings(len)), (start: upto(len)), (root: non_terminal))(St : state(len, G, s, start, root)): RECURSIVE endstate(len, G, s, start, root)
  = (IF St`depth = 0
      THEN St
      ELSE parse(len, G, s, start, root)(step(len, G, s, start, root)(St))
      ENDIF)
      MEASURE size(len, G, s, start, root)(St) BY <

 doparse(len, G, (s: strings(len)), n): ent
   = (LET pend = (LAMBDA n: pending),
          St: state(len, G, s, 0, n) = (# 
 		 stack := push(0, n),
		 depth := 1,
 		 scaf := (LAMBDA (i: upto(len)): pend) WITH [(0)(n) := push(0, num_non_terminals)],
		 lflag := FALSE #)
      IN parse(len, G, s, 0, n)(St)`scaf(0)(n))
       
  END cstopdown

$$$cstopdown.prf
(cstopdown
 (subtype_TCC1 0
  (subtype_TCC1-1 nil 3804536638 ("" (grind) nil nil) nil nil
   (subtype_ subtype "cstopdown.x" "uint32")))
 (subtype_TCC2 0
  (subtype_TCC2-1 nil 3804564519 ("" (grind) nil nil) nil nil
   (subtype_ subtype "cstopdown.x" "uint8")))
 (fine_push_entry?_TCC1 0
  (fine_push_entry?_TCC1-1 nil 3807728459 ("" (subtype-tcc) nil nil)
   nil nil
   (fine_push_entry? subtype "cstopdown.x" "(cstopdown.push?)")))
 (successor_TCC1 0
  (successor_TCC1-1 nil 3804904050 ("" (subtype-tcc) nil nil) nil nil
   (successor subtype "cstopdown.entry1" "(cstopdown.push?)")))
 (successor_TCC2 0
  (successor_TCC2-1 nil 3804904050 ("" (subtype-tcc) nil nil) nil nil
   (successor subtype "cstopdown.entry2" "(cstopdown.push?)")))
 (successor_TCC3 0
  (successor_TCC1-1 nil 3804547853 ("" (subtype-tcc) nil nil) nil nil
   (successor subtype "cstopdown.nt1" "non_terminal")))
 (successor_TCC4 0
  (successor_TCC1-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (successor subtype "cstopdown.p1"
    "naturalnumbers.upto(cstopdown.len)")))
 (successor_TCC5 0
  (successor_TCC2-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (successor subtype "cstopdown.p1"
    "naturalnumbers.upto(cstopdown.len)")))
 (sigma_restrict_TCC1 0
  (sigma_restrict_TCC1-1 nil 3806355895 ("" (subtype-tcc) nil nil) nil
   nil (sigma_restrict subtype "0" "T_low[upto(j)]")))
 (sigma_restrict_TCC2 0
  (sigma_restrict_TCC2-1 nil 3806355895 ("" (subtype-tcc) nil nil) nil
   nil (sigma_restrict subtype "cstopdown.j" "T_high[upto(j)]")))
 (sigma_restrict_TCC3 0
  (sigma_restrict_TCC3-1 nil 3806355895 ("" (subtype-tcc) nil nil) nil
   nil
   (sigma_restrict subtype "cstopdown.i"
    "naturalnumbers.upto(cstopdown.len)")))
 (sigma_restrict_TCC4 0
  (sigma_restrict_TCC4-1 nil 3806355895 ("" (assuming-tcc) nil nil) nil
   nil
   (sigma_restrict assuming
    "reals@sigma[naturalnumbers.upto(cstopdown.j)].sigma"
    "connected_domain: ASSUMPTION (FORALL (x, y: sigma.T), (z: integers.integer): booleans.IMPLIES(booleans.AND(reals.<=(x, z), reals.<=(z, y)), sigma.T_pred(z)))")))
 (sigma_restrict_TCC5 0
  (sigma_restrict_TCC5-1 nil 3806360457 ("" (subtype-tcc) nil nil) nil
   nil (sigma_restrict subtype "0" "T_low[upto(k)]")))
 (sigma_restrict_TCC6 0
  (sigma_restrict_TCC5-1 nil 3806358823 ("" (subtype-tcc) nil nil) nil
   nil (sigma_restrict subtype "cstopdown.j" "T_high[upto(k)]")))
 (sigma_restrict_TCC7 0
  (sigma_restrict_TCC7-1 nil 3806360457 ("" (subtype-tcc) nil nil) nil
   nil
   (sigma_restrict subtype "cstopdown.i"
    "naturalnumbers.upto(cstopdown.len)")))
 (sigma_restrict_TCC8 0
  (sigma_restrict_TCC8-1 nil 3806360457 ("" (assuming-tcc) nil nil) nil
   nil
   (sigma_restrict assuming
    "reals@sigma[naturalnumbers.upto(cstopdown.k)].sigma"
    "connected_domain: ASSUMPTION (FORALL (x, y: sigma.T), (z: integers.integer): booleans.IMPLIES(booleans.AND(reals.<=(x, z), reals.<=(z, y)), sigma.T_pred(z)))")))
 (sigma_restrict 0
  (sigma_restrict-1 nil 3806355895
   ("" (skolem + ("len" "A" "_" "_"))
    (("" (induct j)
      (("1" (grind) nil nil)
       ("2" (skeep*)
        (("2" (expand "sigma" +)
          (("2" (inst-cp - k)
            (("2" (inst - "jt + 1")
              (("1" (ground) nil nil) ("2" (assert) nil nil)) nil))
            nil))
          nil))
        nil)
       ("3" (hide 2) (("3" (grind) nil nil)) nil)
       ("4" (hide 2) (("4" (grind) nil nil)) nil))
      nil))
    nil)
   ((T_low type-eq-decl nil sigma reals)
    (T_high type-eq-decl nil sigma reals)
    (sigma def-decl "real" sigma reals)
    (arr type-eq-decl nil arrayCount nil)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   shostak))
 (sigma_restrict_len_TCC1 0
  (sigma_restrict_len_TCC1-1 nil 3806360811 ("" (subtype-tcc) nil nil)
   nil nil (sigma_restrict_len subtype "0" "T_low[upto(j)]")))
 (sigma_restrict_len_TCC2 0
  (sigma_restrict_len_TCC2-1 nil 3806360811 ("" (subtype-tcc) nil nil)
   nil nil
   (sigma_restrict_len subtype "cstopdown.j" "T_high[upto(j)]")))
 (sigma_restrict_len_TCC3 0
  (sigma_restrict_len_TCC3-1 nil 3806360811 ("" (subtype-tcc) nil nil)
   nil nil
   (sigma_restrict_len subtype "cstopdown.i"
    "naturalnumbers.upto(cstopdown.len)")))
 (sigma_restrict_len_TCC4 0
  (sigma_restrict_len_TCC4-1 nil 3806360811 ("" (assuming-tcc) nil nil)
   nil nil
   (sigma_restrict_len assuming
    "reals@sigma[naturalnumbers.upto(cstopdown.j)].sigma"
    "connected_domain: ASSUMPTION (FORALL (x, y: sigma.T), (z: integers.integer): booleans.IMPLIES(booleans.AND(reals.<=(x, z), reals.<=(z, y)), sigma.T_pred(z)))")))
 (sigma_restrict_len_TCC5 0
  (sigma_restrict_len_TCC5-1 nil 3806936723 ("" (subtype-tcc) nil nil)
   nil nil (sigma_restrict_len subtype "0" "T_low[upto(len)]")))
 (sigma_restrict_len_TCC6 0
  (sigma_restrict_len_TCC6-1 nil 3806936723 ("" (subtype-tcc) nil nil)
   nil nil
   (sigma_restrict_len subtype "cstopdown.j" "T_high[upto(len)]")))
 (sigma_restrict_len_TCC7 0
  (sigma_restrict_len_TCC7-1 nil 3806936723 ("" (assuming-tcc) nil nil)
   nil nil
   (sigma_restrict_len assuming
    "reals@sigma[naturalnumbers.upto(cstopdown.len)].sigma"
    "connected_domain: ASSUMPTION (FORALL (x, y: sigma.T), (z: integers.integer): booleans.IMPLIES(booleans.AND(reals.<=(x, z), reals.<=(z, y)), sigma.T_pred(z)))")))
 (sigma_restrict_len 0
  (sigma_restrict_len-1 nil 3806360812
   ("" (skeep*)
    (("" (lemma "sigma_restrict")
      (("" (inst - len A j len) (("" (ground) nil nil)) nil)) nil))
    nil)
   nil shostak))
 (sigma_nat_TCC1 0
  (sigma_nat_TCC1-1 nil 3804912405 ("" (subtype-tcc) nil nil) nil nil
   (sigma_nat subtype "0" "T_low[upto(len)]")))
 (sigma_nat_TCC2 0
  (sigma_nat_TCC2-1 nil 3804912405 ("" (subtype-tcc) nil nil) nil nil
   (sigma_nat subtype "cstopdown.i" "T_high[upto(len)]")))
 (sigma_nat 0
  (sigma_nat-1 nil 3804912406
   ("" (skolem + ("len" _ _)) (("" (induct-and-simplify i) nil nil))
    nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (sigma def-decl "real" sigma reals)
    (T_high type-eq-decl nil sigma reals)
    (T_low type-eq-decl nil sigma reals))
   shostak))
 (sigma_pos_TCC1 0
  (sigma_pos_TCC1-1 nil 3804912405 ("" (subtype-tcc) nil nil) nil nil
   (sigma_pos subtype "cstopdown.j" "T_high[upto(len)]")))
 (sigma_pos 0
  (sigma_pos-1 nil 3804912491
   ("" (skolem + ("len" _ _ _)) (("" (induct-and-simplify j) nil nil))
    nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (sigma def-decl "real" sigma reals)
    (T_high type-eq-decl nil sigma reals)
    (T_low type-eq-decl nil sigma reals))
   shostak))
 (sigma_dec_TCC1 0
  (sigma_dec_TCC1-1 nil 3804994284 ("" (subtype-tcc) nil nil) nil nil
   (sigma_dec subtype "cstopdown.j" "T_high[upto(len)]")))
 (sigma_dec 0
  (sigma_dec-1 nil 3804993479
   ("" (skolem + ("len" _ _ _))
    (("" (induct "j")
      (("1" (grind) nil nil)
       ("2" (skeep*)
        (("2" (expand sigma +) (("2" (grind) nil nil)) nil)) nil))
      nil))
    nil)
   ((T_low type-eq-decl nil sigma reals)
    (T_high type-eq-decl nil sigma reals)
    (sigma def-decl "real" sigma reals)
    (sigma_nat application-judgement "nat" sigma reals))
   shostak))
 (sigma_inc_TCC1 0
  (sigma_inc_TCC1-1 nil 3804991042 ("" (subtype-tcc) nil nil) nil nil
   (sigma_inc subtype "cstopdown.j" "T_high[upto(len)]")))
 (sigma_inc_TCC2 0
  (sigma_inc_TCC2-1 nil 3805854734 ("" (subtype-tcc) nil nil) nil nil
   (sigma_inc subtype "cstopdown.j" "T_high[upto(len)]")))
 (sigma_inc 0
  (sigma_inc-1 nil 3804994355
   ("" (skolem + ("len" _ _ _))
    (("" (induct "j") (("1" (grind) nil nil) ("2" (grind) nil nil))
      nil))
    nil)
   ((T_low type-eq-decl nil sigma reals)
    (T_high type-eq-decl nil sigma reals)
    (sigma def-decl "real" sigma reals)
    (sigma_nat application-judgement "nat" sigma reals))
   shostak))
 (scafcount_TCC1 0
  (scafcount_TCC4-1 nil 3806632141
   ("" (skolem + (len A P "_"))
    ((""
      (case "FORALL ((j: upto(len))):
        sigma[upto(len)]
            (0, j,
             LAMBDA (i: upto(len)): count[ent](num_non_terminals)(P)(A(i)))
         <= (j + 1) * num_non_terminals")
      (("1" (skeep)
        (("1" (inst?)
          (("1" (case "(j + 1) * num_non_terminals <= exp2(64) - 1")
            (("1" (assert) nil nil)
             ("2" (hide -1 2)
              (("2"
                (use le_times_le_pos :subst
                     (nnx "j + 1" y "exp2(32)" nnz num_non_terminals w
                      "exp2(8)"))
                (("2" (ground)
                  (("1" (rewrite exp2_sum :dir RL)
                    (("1" (grind) nil nil)) nil)
                   ("2" (assert)
                    (("2" (typepred "num_non_terminals")
                      (("2" (grind) nil nil)) nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (hide 2)
        (("2" (induct-and-simplify j :exclude count) nil nil)) nil))
      nil))
    nil)
   ((count const-decl "upto(len)" arrayCount nil)
    (arr type-eq-decl nil arrayCount nil)
    (sigma def-decl "real" sigma reals)
    (T_high type-eq-decl nil sigma reals)
    (T_low type-eq-decl nil sigma reals)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (scafcount subtype
    "sigma[naturalnumbers.upto(cstopdown.len)].sigma(0, cstopdown.j, LAMBDA (i: naturalnumbers.upto(cstopdown.len)): arrayCount[cstopdown.ent].count(cstopdown.num_non_terminals)(cstopdown.P)(cstopdown.A(i)))"
    "uint64")))
 (sigma_max 0
  (sigma_max-1 nil 3806353166
   ("" (induct j)
    (("1" (skeep)
      (("1" (expand scafcount)
        (("1" (expand "sigma" +)
          (("1" (expand "sigma" +)
            (("1" (typepred "count(num_non_terminals)(push?)(A(0))")
              (("1" (assert) nil nil)) nil))
            nil))
          nil))
        nil))
      nil)
     ("2" (skeep*)
      (("2" (expand scafcount)
        (("2" (expand "sigma" +)
          (("2" (inst - len A P) (("2" (ground) nil nil)) nil)) nil))
        nil))
      nil)
     ("3" (hide 2) (("3" (grind) nil nil)) nil))
    nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (sigma def-decl "real" sigma reals)
    (arr type-eq-decl nil arrayCount nil)
    (count const-decl "upto(len)" arrayCount nil))
   shostak))
 (scafcount_max 0
  (scafcount_max-1 nil 3807566158
   ("" (skeep*)
    (("" (use sigma_max)
      (("" (use "le_times_le_pos" :subst (y "exp2(32)" w "exp2(8)"))
        (("" (ground)
          (("1" (rewrite exp2_sum :dir RL) (("1" (assert) nil nil))
            nil)
           ("2" (assert)
            (("2" (typepred num_non_terminals) (("2" (grind) nil nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil))
   shostak))
 (scafcount0_TCC1 0
  (scafcount0_TCC1-1 nil 3806988426 ("" (subtype-tcc) nil nil) nil nil
   (scafcount0 subtype "0" "naturalnumbers.upto(cstopdown.len)")))
 (scafcount0 0
  (scafcount0-1 nil 3806988426
   ("" (grind :rewrites count_update00) nil nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil))
   shostak))
 (scafcount_step_TCC1 0
  (scafcount_step_TCC1-1 nil 3806977775 ("" (subtype-tcc) nil nil) nil
   nil
   (scafcount_step subtype "(number_fields.+)(cstopdown.j, 1)"
    "naturalnumbers.upto(cstopdown.len)")))
 (scafcount_step_TCC2 0
  (scafcount_step_TCC2-1 nil 3806977775 ("" (subtype-tcc) nil nil) nil
   nil
   (scafcount_step subtype "cstopdown.j"
    "naturalnumbers.upto(cstopdown.len)")))
 (scafcount_step 0
  (scafcount_step-1 nil 3806977775
   ("" (skolem + (len "_" "_" "_"))
    (("" (induct "j")
      (("1" (grind) nil nil)
       ("2" (skeep*)
        (("2" (expand "scafcount" +)
          (("2" (inst?) (("2" (inst?) (("2" (grind) nil nil)) nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((arr type-eq-decl nil arrayCount nil)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma def-decl "real" sigma reals)
    (sigma_nat application-judgement "nat" sigma reals))
   shostak))
 (scafcount_update 0
  (scafcount_update-1 nil 3806936723
   ("" (skolem + (len "_" "_" "_" "_" "_" "_"))
    (("" (induct j)
      (("1" (skeep*)
        (("1" (rewrite scafcount0)
          (("1" (lift-if :updates? nil)
            (("1" (ground)
              (("1" (grind) nil nil)
               ("2" (case "i  = 0")
                (("1" (assert)
                  (("1" (rewrite count_update00)
                    (("1" (grind) nil nil)) nil))
                  nil)
                 ("2" (assert) nil nil))
                nil)
               ("3" (case "i  = 0")
                (("1" (assert)
                  (("1" (rewrite count_update00)
                    (("1" (grind) nil nil)) nil))
                  nil)
                 ("2" (case "i  = 0")
                  (("1" (propax) nil nil) ("2" (assert) nil nil)) nil))
                nil)
               ("4" (case "i  = 0")
                (("1" (assert)
                  (("1" (rewrite count_update00)
                    (("1" (grind) nil nil)) nil))
                  nil)
                 ("2" (case "i  = 0")
                  (("1" (propax) nil nil) ("2" (grind) nil nil)) nil))
                nil)
               ("5" (case "i  = 0")
                (("1" (assert)
                  (("1" (rewrite count_update00)
                    (("1" (grind) nil nil)) nil))
                  nil)
                 ("2" (assert) nil nil))
                nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (skeep*)
        (("2" (rewrite scafcount_step)
          (("2" (rewrite -2)
            (("2" (hide -2)
              (("2" (case "i = 1 + jt")
                (("1" (assert)
                  (("1" (rewrite count_update00)
                    (("1"
                      (grind :rewrites scafcount_step :exclude count)
                      nil nil))
                    nil))
                  nil)
                 ("2" (assert)
                  (("2" (grind :rewrites scafcount_step :exclude count)
                    nil nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (count_update00 formula-decl nil arrayCount nil)
    (arr type-eq-decl nil arrayCount nil))
   shostak))
 (pushcount_TCC1 0
  (pushcount_TCC1-1 nil 3806632141 ("" (subtype-tcc) nil nil) nil nil
   (pushcount subtype "cstopdown.len"
    "naturalnumbers.upto(cstopdown.len)")))
 (good_stack?_TCC1 0
  (good_stack?_TCC1-1 nil 3804904050 ("" (subtype-tcc) nil nil) nil nil
   (good_stack? subtype "cstopdown.stack" "(cstopdown.push?)")))
 (good_stack?_TCC2 0
  (good_stack?_TCC2-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (good_stack? subtype "cstopdown.entry" "(cstopdown.push?)")))
 (good_stack?_TCC3 0
  (good_stack?_TCC3-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (good_stack? subtype "(number_fields.-)(cstopdown.depth, 1)"
    "uint64")))
 (good_stack?_TCC4 0
  (good_stack?_TCC4-1 nil 3804455654 ("" (termination-tcc) nil nil) nil
   nil
   (good_stack? termination
    "cstopdown.good_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.A)"
    "nil")))
 (good_stack?_TCC5 0
  (good_stack?_TCC5-1 nil 3804547853 ("" (subtype-tcc) nil nil) nil nil
   (good_stack? subtype "cstopdown.nt(cstopdown.stack)"
    "non_terminal")))
 (good_stack?_TCC6 0
  (good_stack?_TCC5-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (good_stack? subtype "cstopdown.pos(cstopdown.stack)"
    "naturalnumbers.upto(cstopdown.len)")))
 (mem_stack?_TCC1 0
  (mem_stack?_TCC1-1 nil 3804455654
   ("" (skeep* :preds? t)
    (("" (expand "good_stack?") (("" (ground) nil nil)) nil)) nil)
   nil nil
   (mem_stack? subtype "(number_fields.-)(cstopdown.depth, 1)"
    "uint64")))
 (mem_stack?_TCC2 0
  (mem_stack?_TCC2-1 nil 3804455654 ("" (termination-tcc) nil nil) nil
   nil
   (mem_stack? termination
    "cstopdown.mem_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.A)"
    "nil")))
 (mem_stack?_TCC3 0
  (mem_stack?_TCC3-1 nil 3804455654 ("" (grind) nil nil) nil nil
   (mem_stack? subtype
    "cstopdown.A(cstopdown.pos(cstopdown.stack))(cstopdown.nt(cstopdown.stack))"
    "(cstopdown.good_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.A))")))
 (mem_stack_push_TCC1 0
  (mem_stack_push_TCC2-1 nil 3807675826 ("" (subtype-tcc) nil nil) nil
   nil (mem_stack_push subtype "cstopdown.entry" "(cstopdown.push?)")))
 (mem_stack_push_TCC2 0
  (mem_stack_push_TCC1-1 nil 3807675826 ("" (subtype-tcc) nil nil) nil
   nil
   (mem_stack_push subtype "(cstopdown.pos(cstopdown.entry))"
    "naturalnumbers.upto(cstopdown.len)")))
 (mem_stack_push_TCC3 0
  (mem_stack_push_TCC3-1 nil 3807675826 ("" (subtype-tcc) nil nil) nil
   nil
   (mem_stack_push subtype "cstopdown.nt(cstopdown.entry)"
    "non_terminal")))
 (mem_stack_push 0
  (mem_stack_push-1 nil 3807675827
   ("" (induct depth)
    (("1" (lazy-grind :defs nil) nil nil)
     ("2" (skeep*)
      (("2" (expand mem_stack?)
        (("2" (typepred stack) (("2" (grind) nil nil)) nil)) nil))
      nil)
     ("3" (skeep*)
      (("3" (expand mem_stack? -4)
        (("3" (ground)
          (("1" (typepred stack) (("1" (grind) nil nil)) nil)
           ("2" (inst?)
            (("2" (inst?)
              (("1" (ground) nil nil)
               ("2" (typepred entry) (("2" (grind) nil nil)) nil))
              nil))
            nil))
          nil))
        nil))
      nil)
     ("4" (hide 2)
      (("4" (skeep*)
        (("4" (typepred entry) (("4" (grind) nil nil)) nil)) nil))
      nil)
     ("5" (hide 2)
      (("5" (skeep*)
        (("5" (typepred entry) (("5" (grind) nil nil)) nil)) nil))
      nil)
     ("6" (hide 2)
      (("6" (skeep*)
        (("6" (typepred entry) (("6" (grind) nil nil)) nil)) nil))
      nil)
     ("7" (hide 2)
      (("7" (skeep*)
        (("7" (typepred entry) (("7" (grind) nil nil)) nil)) nil))
      nil)
     ("8" (hide 2)
      (("8" (skeep*)
        (("8" (typepred entry) (("8" (grind) nil nil)) nil)) nil))
      nil)
     ("9" (hide 2) (("9" (grind) nil nil)) nil))
    nil)
   nil shostak))
 (good_mem_stack_TCC1 0
  (good_mem_stack_TCC1-1 nil 3807728459 ("" (subtype-tcc) nil nil) nil
   nil
   (good_mem_stack subtype "(cstopdown.pos(cstopdown.entry))"
    "naturalnumbers.upto(cstopdown.len)")))
 (good_mem_stack_TCC2 0
  (good_mem_stack_TCC2-1 nil 3807728459 ("" (subtype-tcc) nil nil) nil
   nil
   (good_mem_stack subtype "cstopdown.nt(cstopdown.entry)"
    "non_terminal")))
 (good_mem_stack 0
  (good_mem_stack-1 nil 3804823624
   ("" (induct "depth")
    (("1" (grind)
      (("1" (expand "good_stack?") (("1" (propax) nil nil)) nil)
       ("2" (grind)
        (("2" (expand "good_stack?") (("2" (propax) nil nil)) nil))
        nil)
       ("3" (expand "good_stack?") (("3" (propax) nil nil)) nil)
       ("4" (expand good_stack?) (("4" (propax) nil nil)) nil)
       ("5" (expand good_stack?) (("5" (propax) nil nil)) nil)
       ("6" (expand good_stack?) (("6" (propax) nil nil)) nil))
      nil)
     ("2" (skeep*)
      (("2" (expand "mem_stack?" +)
        (("2" (ground)
          (("1" (typepred stack) (("1" (grind :if-match nil) nil nil))
            nil)
           ("2" (expand "good_stack?" :fnum (-3 4))
            (("2" (ground)
              (("1" (hide -3 4)
                (("1" (grind)
                  (("1" (typepred entry)
                    (("1" (grind)
                      (("1" (typepred stack)
                        (("1" (grind)
                          (("1" (extensionality "(push?)")
                            (("1" (inst?) (("1" (ground) nil nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil)
                   ("2" (extensionality "(push?)")
                    (("2" (inst?) (("2" (ground) nil nil)) nil)) nil)
                   ("3" (extensionality "(push?)")
                    (("3" (inst?) (("3" (ground) nil nil)) nil)) nil))
                  nil))
                nil)
               ("2" (hide -3 2 5)
                (("2" (lift-if)
                  (("2" (ground)
                    (("2" (lift-if)
                      (("2" (ground)
                        (("2" (extensionality "(push?)")
                          (("2" (inst?) (("2" (ground) nil nil)) nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil)
               ("3" (inst?)
                (("3" (ground)
                  (("1" (hide 2)
                    (("1" (lift-if)
                      (("1" (typepred entry)
                        (("1" (grind)
                          (("1" (extensionality "(push?)")
                            (("1" (inst?) (("1" (ground) nil nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil)
                   ("2" (lift-if)
                    (("2" (ground)
                      (("2" (ground)
                        (("2" (extensionality "(push?)")
                          (("2" (inst?) (("2" (ground) nil nil)) nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil)
               ("4" (hide -3 4)
                (("4" (hide -1)
                  (("4" (lift-if)
                    (("4" (ground)
                      (("4" (ground)
                        (("4" (extensionality "(push?)")
                          (("4" (inst?) (("4" (ground) nil nil)) nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil)
               ("5" (hide -3 5)
                (("5" (case "pos(stack) = pos(entry)")
                  (("1" (case "nt(stack) = nt(entry)")
                    (("1" (extensionality "(push?)")
                      (("1" (assert)
                        (("1" (inst?) (("1" (ground) nil nil)) nil))
                        nil))
                      nil)
                     ("2" (assert)
                      (("2" (typepred u) (("2" (grind) nil nil)) nil))
                      nil))
                    nil)
                   ("2" (grind) nil nil))
                  nil))
                nil)
               ("6" (inst? :polarity? t)
                (("6" (ground)
                  (("1" (hide 2)
                    (("1" (lift-if)
                      (("1" (ground)
                        (("1" (ground)
                          (("1" (extensionality "(push?)")
                            (("1" (inst?) (("1" (ground) nil nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil)
                   ("2" (lift-if)
                    (("2" (ground)
                      (("2" (ground)
                        (("2" (extensionality "(push?)")
                          (("2" (inst?) (("2" (ground) nil nil)) nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil)
     ("3" (hide 2) (("3" (grind) nil nil)) nil)
     ("4" (hide 2) (("4" (grind) nil nil)) nil)
     ("5" (hide 2) (("5" (grind) nil nil)) nil)
     ("6" (hide 2) (("6" (grind) nil nil)) nil)
     ("7" (hide 2) (("7" (grind) nil nil)) nil)
     ("8" (hide 2) (("8" (grind) nil nil)) nil)
     ("9" (hide 2) (("9" (grind) nil nil)) nil)
     ("10" (hide 2) (("10" (grind) nil nil)) nil)
     ("11" (hide 2) (("11" (grind) nil nil)) nil))
    nil)
   nil shostak))
 (mem_mem_stack_TCC1 0
  (mem_mem_stack_TCC1-1 nil 3804967699
   ("" (skeep*)
    (("" (lemma good_mem_stack)
      (("" (inst?) (("" (ground) nil nil)) nil)) nil))
    nil)
   nil nil
   (mem_mem_stack subtype "cstopdown.stack"
    "(cstopdown.good_stack?(cstopdown.len, cstopdown.G, cstopdown.depth, cstopdown.A WITH [(cstopdown.pos(cstopdown.entry))(cstopdown.nt(cstopdown.entry)) := cstopdown.u]))")))
 (mem_mem_stack 0
  (mem_mem_stack-2 "" 3807748697
   ("" (induct depth)
    (("1" (skeep*)
      (("1" (expand good_stack?) (("1" (grind) nil nil)) nil)) nil)
     ("2" (skeep*)
      (("2" (expand mem_stack? +)
        (("2" (lift-if)
          (("2" (ground)
            (("2" (case "v = stack")
              (("1" (assert) nil nil)
               ("2" (assert)
                (("2" (inst?)
                  (("2" (ground)
                    (("1" (lift-if -)
                      (("1" (ground)
                        (("1" (lift-if -)
                          (("1" (ground)
                            (("1" (extensionality "(push?)")
                              (("1"
                                (forward-chain -)
                                (("1" (assert) nil nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil)
                     ("2" (expand good_stack? -)
                      (("2" (ground)
                        (("1" (case "pos(stack) = pos(entry)")
                          (("1" (case "nt(stack) = nt(entry)")
                            (("1" (assert)
                              (("1"
                                (extensionality "(push?)")
                                (("1"
                                  (inst - stack entry)
                                  (("1" (ground) nil nil))
                                  nil))
                                nil))
                              nil)
                             ("2" (assert) nil nil))
                            nil)
                           ("2" (assert) nil nil))
                          nil)
                         ("2" (case "pos(stack) = pos(entry)")
                          (("1" (case "nt(stack) = nt(entry)")
                            (("1" (assert)
                              (("1"
                                (extensionality "(push?)")
                                (("1"
                                  (inst - stack entry)
                                  (("1" (ground) nil nil))
                                  nil))
                                nil))
                              nil)
                             ("2" (assert) nil nil))
                            nil)
                           ("2" (assert) nil nil))
                          nil))
                        nil))
                      nil)
                     ("3" (case "pos(stack) = pos(entry)")
                      (("1" (case "nt(stack) = nt(entry)")
                        (("1" (extensionality "(push?)")
                          (("1" (inst - stack entry)
                            (("1" (ground) nil nil)) nil))
                          nil)
                         ("2" (assert) nil nil))
                        nil)
                       ("2" (assert) nil nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil)
     ("3" (hide 2) (("3" (grind) nil nil)) nil)
     ("4" (hide 2) (("4" (grind) nil nil)) nil)
     ("5" (hide 2) (("5" (grind) nil nil)) nil)
     ("6" (hide 2)
      (("6" (skeep*)
        (("6" (use good_mem_stack) (("6" (ground) nil nil)) nil)) nil))
      nil)
     ("7" (hide 2)
      (("7" (skeep*)
        (("7" (typepred entry) (("7" (grind) nil nil)) nil)) nil))
      nil)
     ("8" (hide 2) (("8" (grind) nil nil)) nil)
     ("9" (hide 2) (("9" (grind) nil nil)) nil)
     ("10" (hide 2) (("10" (grind) nil nil)) nil)
     ("11" (hide 2) (("11" (grind) nil nil)) nil)
     ("12" (hide 2) (("12" (grind) nil nil)) nil))
    nil)
   nil shostak)
  (mem_mem_stack-1 nil 3804967700
   ("" (induct depth)
    (("1" (skeep*) (("1" (inst?) (("1" (ground) nil nil)) nil)) nil)
     ("2" (skeep*)
      (("2" (expand good_stack?) (("2" (grind) nil nil)) nil)) nil)
     ("3" (skeep*)
      (("3" (expand mem_stack? +)
        (("3" (lift-if)
          (("3" (ground)
            (("3" (case "v = stack")
              (("1" (assert) nil nil)
               ("2" (assert)
                (("2" (inst?)
                  (("2" (ground)
                    (("1" (lift-if -)
                      (("1" (ground)
                        (("1" (lift-if -)
                          (("1" (ground)
                            (("1" (extensionality "(push?)")
                              (("1"
                                (forward-chain -)
                                (("1" (assert) nil nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil)
                     ("2" (expand good_stack? -)
                      (("2" (ground)
                        (("1" (grind) nil nil)
                         ("2" (lift-if 1)
                          (("2" (ground)
                            (("2" (ground)
                              (("2"
                                (extensionality "(push?)")
                                (("2"
                                  (forward-chain -)
                                  (("2" (assert) nil nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil)
                     ("3" (lift-if -)
                      (("3" (ground)
                        (("3" (lift-if -)
                          (("3" (ground)
                            (("3" (extensionality "(push?)")
                              (("3"
                                (forward-chain -)
                                (("3" (assert) nil nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil)
     ("4" (hide 2) (("4" (grind) nil nil)) nil)
     ("5" (hide 2) (("5" (grind) nil nil)) nil)
     ("6" (hide 2)
      (("6" (skeep*)
        (("6" (lemma good_mem_stack)
          (("6" (inst?) (("6" (ground) nil nil)) nil)) nil))
        nil))
      nil)
     ("7" (hide 2) (("7" (grind) nil nil)) nil)
     ("8" (hide 2) (("8" (grind) nil nil)) nil)
     ("9" (hide 2) (("9" (grind) nil nil)) nil)
     ("10" (hide 2) (("10" (grind) nil nil)) nil)
     ("11" (hide 2) (("11" (grind) nil nil)) nil)
     ("12" (hide 2) (("12" (grind) nil nil)) nil))
    nil)
   nil shostak))
 (good_mem_stack_push_TCC1 0
  (good_mem_stack_push_TCC2-1 nil 3807665403 ("" (subtype-tcc) nil nil)
   nil nil
   (good_mem_stack_push subtype
    "cstopdown.push(cstopdown.pos, cstopdown.n)"
    "(cstopdown.good_push_entry?(cstopdown.len))")))
 (good_mem_stack_push_TCC2 0
  (good_mem_stack_push_TCC3-1 nil 3807665403
   ("" (skeep*)
    (("" (use exp2_lt :subst (n 41 m 64)) (("" (grind) nil nil)) nil))
    nil)
   nil nil
   (good_mem_stack_push subtype "(number_fields.+)(cstopdown.depth, 1)"
    "uint64")))
 (good_mem_stack_push_TCC3 0
  (good_mem_stack_push_TCC4-1 nil 3807665403 ("" (subtype-tcc) nil nil)
   nil nil
   (good_mem_stack_push subtype "cstopdown.stack"
    "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (good_mem_stack_push 0
  (good_mem_stack_push-2 "" 3807671734
   ("" (skeep*)
    (("" (expand good_stack? +)
      (("" (ground)
        (("1" (grind) nil nil)
         ("2"
          (use good_mem_stack :subst (len len entry "push(pos!1, n)"))
          (("1" (ground)
            (("1" (grind) nil nil)
             ("2" (use mem_stack_push) (("2" (ground) nil nil)) nil)
             ("3" (grind) nil nil))
            nil)
           ("2" (typepred stack) (("2" (grind) nil nil)) nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak)
  (good_mem_stack_push-1 nil 3807665405
   ("" (skeep*)
    (("" (expand good_stack? +)
      (("" (ground)
        (("1" (postpone) nil nil) ("2" (postpone) nil nil)
         ("3" (postpone) nil nil))
        nil))
      nil))
    nil)
   nil shostak))
 (fine_stack?_TCC1 0
  (fine_stack?_TCC1-1 nil 3807728459 ("" (subtype-tcc) nil nil) nil nil
   (fine_stack? subtype "cstopdown.stack"
    "(cstopdown.fine_push_entry?(cstopdown.len))")))
 (fine_stack?_TCC2 0
  (fine_stack?_TCC1-1 nil 3804908888
   ("" (skeep*) (("" (typepred stack) (("" (grind) nil nil)) nil)) nil)
   nil nil
   (fine_stack? subtype "cstopdown.rest"
    "(cstopdown.good_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.A))")))
 (fine_stack?_TCC3 0
  (fine_stack?_TCC2-1 nil 3804908888
   ("" (skeep*)
    (("" (ground) (("" (typepred stack) (("" (grind) nil nil)) nil))
      nil))
    nil)
   nil nil
   (fine_stack? subtype "(number_fields.-)(cstopdown.depth, 1)"
    "uint64")))
 (fine_stack?_TCC4 0
  (fine_stack?_TCC3-1 nil 3804908888
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred "stack") (("1" (grind) nil nil)) nil)
       ("2" (typepred "stack") (("2" (grind) nil nil)) nil))
      nil))
    nil)
   nil nil
   (fine_stack? subtype
    "cstopdown.A(cstopdown.pos(cstopdown.stack))(cstopdown.nt(cstopdown.stack))"
    "(cstopdown.good_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.A))")))
 (fine_stack?_TCC5 0
  (fine_stack?_TCC4-1 nil 3804908888 ("" (termination-tcc) nil nil) nil
   nil
   (fine_stack? termination
    "cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.A)"
    "nil")))
 (fine_mem_stack_TCC1 0
  (fine_mem_stack_TCC1-1 nil 3804969900
   ("" (skeep*)
    (("" (rewrite good_mem_stack) (("" (grind) nil nil)) nil)) nil)
   nil nil
   (fine_mem_stack subtype "cstopdown.stack"
    "(cstopdown.good_stack?(cstopdown.len, cstopdown.G, cstopdown.depth, cstopdown.A WITH [(cstopdown.pos(cstopdown.entry))(cstopdown.nt(cstopdown.entry)) := cstopdown.u]))")))
 (fine_mem_stack 0
  (fine_mem_stack-1 nil 3804969200
   ("" (induct "depth")
    (("1" (skeep*)
      (("1" (expand fine_stack?)
        (("1" (expand good_stack? -) (("1" (ground) nil nil)) nil))
        nil))
      nil)
     ("2" (skeep*)
      (("2" (expand fine_stack? +)
        (("2" (expand good_stack? -3)
          (("2" (ground)
            (("1" (rewrite mem_mem_stack)
              (("1" (expand mem_stack? 2)
                (("1" (ground)
                  (("1" (lift-if +)
                    (("1" (ground)
                      (("1" (lift-if +)
                        (("1" (ground)
                          (("1" (extensionality "(push?)")
                            (("1" (forward-chain -)
                              (("1" (assert) nil nil)) nil))
                            nil)
                           ("2" (inst?)
                            (("2" (ground)
                              (("2"
                                (replace -1)
                                (("2" (propax) nil nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil)
                       ("2" (grind) nil nil))
                      nil))
                    nil))
                  nil))
                nil)
               ("2" (hide -5 4)
                (("2" (lift-if +)
                  (("2" (ground)
                    (("2" (ground)
                      (("2" (expand mem_stack? +)
                        (("2" (ground)
                          (("2" (extensionality "(push?)")
                            (("2" (forward-chain -)
                              (("2" (assert) nil nil)) nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil)
               ("3" (hide -5 4) (("3" (grind) nil nil)) nil)
               ("4" (hide -6 3)
                (("4" (grind)
                  (("4" (extensionality "(push?)")
                    (("4" (inst?) (("4" (ground) nil nil)) nil)) nil))
                  nil))
                nil)
               ("5" (hide -5 4)
                (("5" (grind)
                  (("1" (extensionality "(push?)")
                    (("1" (inst?) (("1" (ground) nil nil)) nil)) nil)
                   ("2" (extensionality "(push?)")
                    (("2" (inst?) (("2" (ground) nil nil)) nil)) nil)
                   ("3" (extensionality "(push?)")
                    (("3" (inst?) (("3" (ground) nil nil)) nil)) nil))
                  nil))
                nil))
              nil)
             ("2" (rewrite mem_mem_stack)
              (("1" (expand mem_stack? 2)
                (("1" (ground)
                  (("1" (lift-if +)
                    (("1" (ground)
                      (("1" (lift-if +)
                        (("1" (ground)
                          (("1" (extensionality "(push?)")
                            (("1" (forward-chain -)
                              (("1" (assert) nil nil)) nil))
                            nil)
                           ("2" (inst?)
                            (("2" (ground)
                              (("2"
                                (replace -1)
                                (("2" (propax) nil nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil)
                       ("2" (grind) nil nil))
                      nil))
                    nil))
                  nil))
                nil)
               ("2" (hide -5 4)
                (("2" (hide -1)
                  (("2" (grind)
                    (("2" (extensionality "(push?)")
                      (("2" (inst?) (("2" (ground) nil nil)) nil))
                      nil))
                    nil))
                  nil))
                nil)
               ("3" (hide -5 4)
                (("3" (hide -1) (("3" (grind) nil nil)) nil)) nil)
               ("4" (hide -6 3)
                (("4" (hide -2)
                  (("4" (grind)
                    (("4" (extensionality "(push?)")
                      (("4" (inst?) (("4" (ground) nil nil)) nil))
                      nil))
                    nil))
                  nil))
                nil)
               ("5" (hide -5 4)
                (("5" (hide -1)
                  (("5" (grind)
                    (("1" (hide -5 4)
                      (("1" (hide -1)
                        (("1" (grind)
                          (("1" (extensionality "(push?)")
                            (("1" (inst?) (("1" (ground) nil nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil)
                     ("2" (extensionality "(push?)")
                      (("2" (inst?) (("2" (ground) nil nil)) nil)) nil)
                     ("3" (extensionality "(push?)")
                      (("3" (inst?) (("3" (ground) nil nil)) nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil)
     ("3" (hide 2) (("3" (grind) nil nil)) nil)
     ("4" (hide 2) (("4" (grind) nil nil)) nil)
     ("5" (hide 2) (("5" (grind) nil nil)) nil)
     ("6" (hide 2)
      (("6" (skeep*)
        (("6" (use good_mem_stack) (("6" (ground) nil nil)) nil)) nil))
      nil)
     ("7" (grind) nil nil) ("8" (hide 2) (("8" (grind) nil nil)) nil)
     ("9" (hide 2) (("9" (grind) nil nil)) nil)
     ("10" (hide 2) (("10" (grind) nil nil)) nil)
     ("11" (hide 2) (("11" (grind) nil nil)) nil)
     ("12" (hide 2) (("12" (grind) nil nil)) nil))
    nil)
   nil shostak))
 (loop_ready?_TCC1 0
  (loop_ready?_TCC1-1 nil 3804455654
   ("" (skeep* :preds? t)
    (("" (typepred "A(i)(n1)") (("" (grind) nil nil)) nil)) nil)
   nil nil
   (loop_ready? subtype
    "(number_fields.+)(cstopdown.i, cstopdown.span(cstopdown.A(cstopdown.i)(cstopdown.n1)))"
    "naturalnumbers.upto(cstopdown.len)")))
 (good_fail?_TCC1 0
  (good_fail?_TCC1-1 nil 3804455654 ("" (grind) nil nil) nil nil
   (good_fail? subtype "cstopdown.i"
    "naturalnumbers.below(cstopdown.len)")))
 (good_fail?_TCC2 0
  (good_fail?_TCC2-1 nil 3804455654 ("" (grind) nil nil) nil nil
   (good_fail? subtype "cstopdown.i"
    "naturalnumbers.below(cstopdown.len)")))
 (good_fail?_TCC3 0
  (good_fail?_TCC3-1 nil 3804991042 ("" (subtype-tcc) nil nil) nil nil
   (good_fail? subtype "cstopdown.A(cstopdown.i)(cstopdown.n1)"
    "{x: cstopdown.ent | booleans.OR(cstopdown.fail?(x), cstopdown.good?(x))}")))
 (good_fail?_TCC4 0
  (good_fail?_TCC3-1 nil 3804455654
   ("" (grind)
    (("" (typepred "A!1(i!1)(n1!1)") (("" (grind) nil nil)) nil)) nil)
   nil nil
   (good_fail? subtype
    "(number_fields.+)(cstopdown.i, cstopdown.span(cstopdown.A(cstopdown.i)(cstopdown.n1)))"
    "naturalnumbers.upto(cstopdown.len)")))
 (good_fail?_TCC5 0
  (good_fail?_TCC5-1 nil 3806878024 ("" (subtype-tcc) nil nil) nil nil
   (good_fail? subtype "cstopdown.A(cstopdown.i)(cstopdown.n1)"
    "{x: cstopdown.ent | booleans.OR(cstopdown.fail?(x), cstopdown.good?(x))}")))
 (good_fail?_TCC6 0
  (good_fail?_TCC6-1 nil 3806878024 ("" (subtype-tcc) nil nil) nil nil
   (good_fail? subtype
    "cstopdown.A((number_fields.+)(cstopdown.i, cstopdown.span(cstopdown.A(cstopdown.i)(cstopdown.n1))))(cstopdown.n2)"
    "{x: cstopdown.ent | booleans.OR(cstopdown.fail?(x), cstopdown.good?(x))}")))
 (good_fail?_TCC7 0
  (good_fail?_TCC7-1 nil 3806878024 ("" (subtype-tcc) nil nil) nil nil
   (good_fail? subtype "cstopdown.A(cstopdown.i)(cstopdown.n1)"
    "{x: cstopdown.ent | booleans.OR(cstopdown.fail?(x), cstopdown.good?(x))}")))
 (good_fail?_TCC8 0
  (good_fail?_TCC8-1 nil 3806878024 ("" (subtype-tcc) nil nil) nil nil
   (good_fail? subtype "cstopdown.A(cstopdown.i)(cstopdown.n2)"
    "{x: cstopdown.ent | booleans.OR(cstopdown.fail?(x), cstopdown.good?(x))}")))
 (good_fail?_TCC9 0
  (good_fail?_TCC9-1 nil 3806878024 ("" (subtype-tcc) nil nil) nil nil
   (good_fail? subtype "cstopdown.A(cstopdown.i)(cstopdown.n1)"
    "{x: cstopdown.ent | booleans.OR(cstopdown.fail?(x), cstopdown.good?(x))}")))
 (good_fail?_TCC10 0
  (good_fail?_TCC10-1 nil 3806878024 ("" (subtype-tcc) nil nil) nil nil
   (good_fail? subtype "cstopdown.A(cstopdown.i)(cstopdown.n1)"
    "{x: cstopdown.ent | booleans.OR(cstopdown.fail?(x), cstopdown.good?(x))}")))
 (good_loop?_TCC1 0
  (good_loop?_TCC1-1 nil 3804455654
   ("" (skeep* :preds? t)
    (("" (typepred "A(i)(n1)") (("" (grind) nil nil)) nil)) nil)
   nil nil
   (good_loop? subtype
    "(number_fields.+)(cstopdown.i, cstopdown.span(cstopdown.A(cstopdown.i)(cstopdown.n1)))"
    "naturalnumbers.upto(cstopdown.len)")))
 (good_good?_TCC1 0
  (good_good?_TCC1-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (good_good? subtype "(number_fields.-)(cstopdown.len, cstopdown.i)"
    "nat")))
 (good_good?_TCC2 0
  (good_good?_TCC2-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (good_good? subtype "cstopdown.i"
    "naturalnumbers.below(cstopdown.len)")))
 (good_good?_TCC3 0
  (good_good?_TCC3-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (good_good? subtype "cstopdown.i"
    "naturalnumbers.below(cstopdown.len)")))
 (good_good?_TCC4 0
  (good_good?_TCC4-1 nil 3804455654
   ("" (skeep* :preds? t)
    (("" (typepred "A(i)(n1)") (("" (grind) nil nil)) nil)) nil)
   nil nil
   (good_good? subtype
    "(number_fields.+)(cstopdown.i, cstopdown.span(cstopdown.A(cstopdown.i)(cstopdown.n1)))"
    "naturalnumbers.upto(cstopdown.len)")))
 (good_good?_TCC5 0
  (good_good?_TCC5-1 nil 3804991042 ("" (subtype-tcc) nil nil) nil nil
   (good_good? subtype "cstopdown.A(cstopdown.i)(cstopdown.n1)"
    "{x: cstopdown.ent | booleans.OR(cstopdown.fail?(x), cstopdown.good?(x))}")))
 (good_good?_TCC6 0
  (good_good?_TCC6-1 nil 3806878024 ("" (subtype-tcc) nil nil) nil nil
   (good_good? subtype
    "cstopdown.A((number_fields.+)(cstopdown.i, cstopdown.span(cstopdown.A(cstopdown.i)(cstopdown.n1))))(cstopdown.n2)"
    "{x: cstopdown.ent | booleans.OR(cstopdown.fail?(x), cstopdown.good?(x))}")))
 (good_good?_TCC7 0
  (good_good?_TCC7-1 nil 3806878024 ("" (subtype-tcc) nil nil) nil nil
   (good_good? subtype "cstopdown.A(cstopdown.i)(cstopdown.n1)"
    "{x: cstopdown.ent | booleans.OR(cstopdown.fail?(x), cstopdown.good?(x))}")))
 (good_good?_TCC8 0
  (good_good?_TCC8-1 nil 3806878024 ("" (subtype-tcc) nil nil) nil nil
   (good_good? subtype "cstopdown.A(cstopdown.i)(cstopdown.n1)"
    "{x: cstopdown.ent | booleans.OR(cstopdown.fail?(x), cstopdown.good?(x))}")))
 (good_good?_TCC9 0
  (good_good?_TCC9-1 nil 3806878024 ("" (subtype-tcc) nil nil) nil nil
   (good_good? subtype "cstopdown.A(cstopdown.i)(cstopdown.n2)"
    "{x: cstopdown.ent | booleans.OR(cstopdown.fail?(x), cstopdown.good?(x))}")))
 (good_good?_TCC10 0
  (good_good?_TCC10-1 nil 3806878024 ("" (subtype-tcc) nil nil) nil nil
   (good_good? subtype "cstopdown.A(cstopdown.i)(cstopdown.n1)"
    "{x: cstopdown.ent | booleans.OR(cstopdown.fail?(x), cstopdown.good?(x))}")))
 (good_good?_TCC11 0
  (good_good?_TCC11-1 nil 3806878024 ("" (subtype-tcc) nil nil) nil nil
   (good_good? subtype "cstopdown.A(cstopdown.i)(cstopdown.n1)"
    "{x: cstopdown.ent | booleans.OR(cstopdown.fail?(x), cstopdown.good?(x))}")))
 (good_tscaffold?_TCC1 0
  (good_tscaffold?_TCC1-1 nil 3806632141 ("" (subtype-tcc) nil nil) nil
   nil
   (good_tscaffold? subtype "cstopdown.A(cstopdown.i)(cstopdown.n)"
    "{x: cstopdown.ent | booleans.OR(cstopdown.fail?(x), cstopdown.good?(x))}")))
 (good_good_tscaffold 0
  (good_good_tscaffold-2 "updated with depth bound" 3806872130
   ("" (skeep*)
    (("" (expand "good_tscaffold?")
      (("" (skeep*)
        (("" (inst - i n)
          (("" (expand good_entry?)
            (("" (lift-if + :updates? nil)
              (("" (ground)
                (("1" (case "i = pos!1" "n = nt!1")
                  (("1" (assert) (("1" (grind) nil nil)) nil)
                   ("2" (assert)
                    (("2" (expand "good_fail?")
                      (("2" (lift-if)
                        (("2" (ground)
                          (("1" (grind) nil nil)
                           ("2" (hide -11)
                            (("2" (grind :exclude gfcount) nil nil))
                            nil)
                           ("3" (hide -11)
                            (("3" (grind :exclude gfcount) nil nil))
                            nil)
                           ("4" (hide -10)
                            (("4" (grind :exclude gfcount) nil nil))
                            nil)
                           ("5" (hide -10)
                            (("5" (grind :exclude gfcount) nil nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil)
                   ("3" (hide -6)
                    (("3" (grind :exclude gfcount) nil nil)) nil))
                  nil)
                 ("2" (hide -5)
                  (("2" (expand "gfcount" +)
                    (("2" (rewrite "scafcount_update")
                      (("2" (hide -6)
                        (("2" (reveal -3)
                          (("2"
                            (lazy-grind :if-match all :exclude
                             scafcount)
                            nil nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil)
                 ("3" (inst? -)
                  (("3" (grind :exclude gfcount) nil nil)) nil)
                 ("4" (hide -7)
                  (("4" (reveal -2)
                    (("4" (lazy-grind :if-match all :exclude scafcount)
                      nil nil))
                    nil))
                  nil)
                 ("5" (typepred u)
                  (("5" (hide -5 -7)
                    (("5" (typepred "A(i)(n)")
                      (("5" (grind :exclude gfcount) nil nil)) nil))
                    nil))
                  nil)
                 ("6" (hide -6)
                  (("6" (hide -2)
                    (("6" (lift-if)
                      (("6" (ground)
                        (("1" (grind) nil nil) ("2" (grind) nil nil)
                         ("3" (lift-if)
                          (("3" (ground)
                            (("1" (expand good_good?)
                              (("1"
                                (lift-if)
                                (("1"
                                  (ground)
                                  (("1"
                                    (ground)
                                    (("1" (grind) nil nil)
                                     ("2"
                                      (grind :exclude max)
                                      nil
                                      nil))
                                    nil)
                                   ("2" (grind :exclude max) nil nil)
                                   ("3" (grind :exclude max) nil nil)
                                   ("4" (grind :exclude max) nil nil)
                                   ("5" (grind :exclude max) nil nil)
                                   ("6" (grind) nil nil)
                                   ("7" (grind) nil nil)
                                   ("8" (grind) nil nil))
                                  nil))
                                nil))
                              nil)
                             ("2" (grind :exclude (max gfcount)) nil
                              nil))
                            nil))
                          nil)
                         ("4" (grind :exclude max) nil nil)
                         ("5" (grind :exclude max) nil nil))
                        nil))
                      nil))
                    nil))
                  nil)
                 ("7" (hide -5 -7)
                  (("7" (typepred "A(i)(n)")
                    (("7" (expand "gfcount" +)
                      (("7" (rewrite scafcount_update)
                        (("7" (reveal -3)
                          (("7"
                            (lazy-grind :if-match all :exclude
                             scafcount)
                            nil nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil)
                 ("8" (hide -4 -6)
                  (("8" (reveal -3)
                    (("8" (lazy-grind :if-match all :exclude scafcount)
                      nil nil))
                    nil))
                  nil)
                 ("9" (hide -5) (("9" (grind :exclude max) nil nil))
                  nil)
                 ("10" (hide -6)
                  (("10" (expand gfcount)
                    (("10" (reveal -2)
                      (("10" (hide -5)
                        (("10" (rewrite "scafcount_update")
                          (("10" (lift-if)
                            (("10" (ground)
                              (("10"
                                (lift-if)
                                (("10"
                                  (ground)
                                  (("10"
                                    (expand fine_entry?)
                                    (("10"
                                      (expand "good_fail?")
                                      (("10"
                                        (lift-if)
                                        (("10"
                                          (ground)
                                          (("1"
                                            (inst?)
                                            (("1"
                                              (grind
                                               :exclude
                                               scafcount)
                                              nil
                                              nil))
                                            nil)
                                           ("2"
                                            (inst? :copy? t)
                                            (("2"
                                              (inst
                                               -
                                               "span(A(pos!1)(e1(G(nt!1)))) + pos!1"
                                               "e2(G(nt!1))")
                                              (("2"
                                                (grind
                                                 :exclude
                                                 scafcount)
                                                nil
                                                nil))
                                              nil))
                                            nil)
                                           ("3"
                                            (inst? :copy? t)
                                            (("3"
                                              (inst
                                               -
                                               "pos!1"
                                               "e2(G(nt!1))")
                                              (("3"
                                                (grind
                                                 :exclude
                                                 scafcount)
                                                nil
                                                nil))
                                              nil))
                                            nil)
                                           ("4"
                                            (inst?)
                                            (("4"
                                              (grind
                                               :exclude
                                               scafcount)
                                              nil
                                              nil))
                                            nil)
                                           ("5"
                                            (inst?)
                                            (("5" (grind) nil nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil)
                 ("11" (inst?)
                  (("11" (grind :exclude (max gfcount)) nil nil)) nil)
                 ("12" (hide -4 -6)
                  (("12" (expand gfcount)
                    (("12" (rewrite scafcount_update)
                      (("12" (reveal -3)
                        (("12"
                          (lazy-grind :if-match all :exclude
                           (max scafcount))
                          nil nil))
                        nil))
                      nil))
                    nil))
                  nil)
                 ("13" (typepred "A(i)(n)")
                  (("13" (typepred "u")
                    (("13" (hide -5 -7)
                      (("13" (grind :exclude (max gfcount)) nil nil))
                      nil))
                    nil))
                  nil)
                 ("14" (hide -5)
                  (("14" (typepred "A(i)(n)")
                    (("14" (typepred "u")
                      (("14" (grind :exclude (max gfcount)) nil nil))
                      nil))
                    nil))
                  nil)
                 ("15" (hide -6)
                  (("15" (reveal -2)
                    (("15" (expand gfcount)
                      (("15" (rewrite scafcount_update)
                        (("15" (lift-if)
                          (("15" (ground)
                            (("1" (lift-if)
                              (("1"
                                (ground)
                                (("1"
                                  (hide -15)
                                  (("1"
                                    (grind :exclude (max scafcount))
                                    nil
                                    nil))
                                  nil))
                                nil))
                              nil)
                             ("2" (lift-if)
                              (("2"
                                (ground)
                                (("2"
                                  (hide -15)
                                  (("2"
                                    (grind :exclude (max scafcount))
                                    nil
                                    nil))
                                  nil))
                                nil))
                              nil)
                             ("3" (lift-if)
                              (("3"
                                (ground)
                                (("3"
                                  (hide -16)
                                  (("3"
                                    (grind :exclude (max scafcount))
                                    nil
                                    nil))
                                  nil))
                                nil))
                              nil)
                             ("4" (lift-if)
                              (("4"
                                (ground)
                                (("4"
                                  (expand fine_entry?)
                                  (("4"
                                    (ground)
                                    (("4"
                                      (expand "good_good?")
                                      (("4"
                                        (lift-if)
                                        (("4"
                                          (ground)
                                          (("1"
                                            (inst? :copy? t)
                                            (("1"
                                              (inst
                                               -
                                               "span(A(pos!1)(e1(G(nt!1)))) + pos!1"
                                               "e2(G(nt!1))")
                                              (("1"
                                                (grind
                                                 :exclude
                                                 scafcount)
                                                nil
                                                nil))
                                              nil))
                                            nil)
                                           ("2"
                                            (inst?)
                                            (("2"
                                              (grind
                                               :exclude
                                               scafcount)
                                              nil
                                              nil))
                                            nil)
                                           ("3"
                                            (inst? :copy? t)
                                            (("3"
                                              (inst
                                               -
                                               "pos!1"
                                               "e2(G(nt!1))")
                                              (("3"
                                                (grind
                                                 :exclude
                                                 scafcount)
                                                nil
                                                nil))
                                              nil))
                                            nil)
                                           ("4"
                                            (inst?)
                                            (("4"
                                              (grind
                                               :exclude
                                               scafcount)
                                              nil
                                              nil))
                                            nil)
                                           ("5"
                                            (inst?)
                                            (("5"
                                              (grind
                                               :exclude
                                               scafcount)
                                              nil
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil)
                 ("16" (expand "gfcount" +)
                  (("16" (rewrite scafcount_update)
                    (("16" (hide -5)
                      (("16" (reveal -2)
                        (("16"
                          (lazy-grind :if-match all :exclude
                           (max scafcount))
                          nil nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma def-decl "real" sigma reals))
   shostak)
  (good_good_tscaffold-1 nil 3804994419
   ("" (skeep*)
    (("" (expand "good_tscaffold?")
      (("" (skeep*)
        (("" (inst - i n)
          (("" (expand good_entry?)
            (("" (lift-if + :updates? nil)
              (("" (ground)
                (("1" (case "i = pos(entry)" "n = nt(entry)")
                  (("1" (assert) (("1" (grind) nil nil)) nil)
                   ("2" (assert)
                    (("2" (hide -7 -8) (("2" (grind) nil nil)) nil))
                    nil)
                   ("3" (hide -6 -7) (("3" (grind) nil nil)) nil))
                  nil)
                 ("2" (case "i = pos(entry)" "n = nt(entry)")
                  (("1" (assert) (("1" (grind) nil nil)) nil)
                   ("2" (assert)
                    (("2" (forward-chain -) (("2" (grind) nil nil))
                      nil))
                    nil)
                   ("3" (assert)
                    (("3" (forward-chain -) (("3" (grind) nil nil))
                      nil))
                    nil))
                  nil)
                 ("3" (grind) nil nil) ("4" (grind) nil nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (state_TCC1 0
  (state_TCC1-1 nil 3804904050 ("" (grind) nil nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma def-decl "real" sigma reals))
   nil (state subtype "cstopdown.stack" "(cstopdown.push?)")))
 (state_TCC2 0
  (state_TCC1-1 nil 3804730988 ("" (subtype-tcc) nil nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (count const-decl "upto(len)" arrayCount nil))
   nil
   (state subtype "cstopdown.pos(cstopdown.stack)"
    "naturalnumbers.upto(cstopdown.len)")))
 (state_TCC3 0
  (state_TCC2-1 nil 3804730988 ("" (subtype-tcc) nil nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (count const-decl "upto(len)" arrayCount nil))
   nil (state subtype "cstopdown.nt(cstopdown.stack)" "non_terminal")))
 (step_TCC1 0
  (step_TCC66-1 nil 3804455654 ("" (subtype-tcc) nil nil)
   ((count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil (step subtype "cstopdown.stack" "(cstopdown.push?)")))
 (step_TCC2 0
  (step_TCC1-1 nil 3804547853 ("" (subtype-tcc) nil nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (count const-decl "upto(len)" arrayCount nil))
   nil (step subtype "cstopdown.cur" "non_terminal")))
 (step_TCC3 0
  (step_TCC10-1 nil 3804455654 ("" (subtype-tcc) nil nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (count const-decl "upto(len)" arrayCount nil))
   nil
   (step subtype "cstopdown.pos"
         "naturalnumbers.upto(cstopdown.len)")))
 (step_TCC4 0
  (step_TCC3-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (step subtype "0" "uint64")))
 (step_TCC5 0
  (step_TCC91-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (step subtype "0" "uint32")))
 (step_TCC6 0
  (step_TCC4-1 nil 3804455654 ("" (subtype-tcc) nil nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (count const-decl "upto(len)" arrayCount nil))
   nil
   (step subtype "cstopdown.good(0, 0)"
         "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (step_TCC7 0
  (step_TCC5-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack) (("2" (grind) nil nil)) nil)
               ("3" (skeep*)
                (("3" (typepred lflag)
                  (("3" (ground)
                    (("1" (inst?) nil nil)
                     ("2" (hide 2) (("2" (grind) nil nil)) nil)
                     ("3" (inst?) nil nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (hide -2 2)
              (("2" (typepred stack) (("2" (grind) nil nil)) nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good(0, 0)]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC8 0
  (step_TCC1-1 nil 3804455654
   ("" (skeep*)
    (("" (split +)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred depth) (("2" (grind) nil nil)) nil)
       ("3" (typepred depth)
        (("3" (typepred stack)
          (("3" (expand good_depth?)
            (("3" (expand pushcount)
              (("3" (expand scafcount)
                (("3" (use sigma_dec)
                  (("3" (ground)
                    (("1" (lift-if)
                      (("1" (ground)
                        (("1" (typepred pos (stack))
                          (("1" (grind) nil nil)) nil)
                         ("2"
                          (case-replace "(LAMBDA (i: upto(len)):
                       count(num_non_terminals)(push?)
                            (St`scaf WITH [(pos!1)(cur) := good(0, 0)](i))) = ((LAMBDA (i: upto(len)):
                       count(num_non_terminals)(push?)(St`scaf(i)))
                      WITH [(pos!1)
                              := count(num_non_terminals)(push?)(St`scaf(pos!1)) -
                                  1])")
                          (("1" (hide -1) (("1" (assert) nil nil)) nil)
                           ("2" (hide -1 3)
                            (("2" (apply-extensionality)
                              (("1"
                                (hide 2)
                                (("1"
                                  (expand count)
                                  (("1"
                                    (case "pos!1 = x!1")
                                    (("1"
                                      (assert)
                                      (("1"
                                        (case-replace
                                         "{i: below(num_non_terminals) |
                            push?(St`scaf(x!1) WITH [(cur) := good(0, 0)](i))} = remove(cur, {i_1: below(num_non_terminals) | push?(St`scaf(x!1)(i_1))})")
                                        (("1"
                                          (rewrite card_remove)
                                          (("1"
                                            (hide -1)
                                            (("1"
                                              (lift-if)
                                              (("1"
                                                (ground)
                                                (("1" (grind) nil nil))
                                                nil))
                                              nil))
                                            nil)
                                           ("2"
                                            (hide -1 2)
                                            (("2"
                                              (rewrite "count_TCC1")
                                              nil
                                              nil))
                                            nil))
                                          nil)
                                         ("2"
                                          (hide 2)
                                          (("2"
                                            (apply-extensionality)
                                            (("1"
                                              (hide 2)
                                              (("1"
                                                (hide -3 -4 -6)
                                                (("1" (grind) nil nil))
                                                nil))
                                              nil)
                                             ("2" (grind) nil nil))
                                            nil))
                                          nil)
                                         ("3" (grind) nil nil))
                                        nil))
                                      nil)
                                     ("2" (assert) nil nil))
                                    nil))
                                  nil))
                                nil)
                               ("2"
                                (hide 2)
                                (("2"
                                  (expand count)
                                  (("2"
                                    (lemma
                                     "nonempty_card[below(num_non_terminals)]")
                                    (("2"
                                      (inst?)
                                      (("1"
                                        (ground)
                                        (("1"
                                          (expand nonempty?)
                                          (("1"
                                            (expand empty?)
                                            (("1"
                                              (inst - cur)
                                              (("1" (grind) nil nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil)
                                       ("2"
                                        (rewrite count_TCC1)
                                        nil
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil)
                               ("3"
                                (hide 2)
                                (("3" (grind) nil nil))
                                nil))
                              nil))
                            nil)
                           ("3" (hide -1 3)
                            (("3" (expand count)
                              (("3"
                                (lemma
                                 "nonempty_card[below(num_non_terminals)]")
                                (("3"
                                  (inst?)
                                  (("1" (grind) nil nil)
                                   ("2" (rewrite count_TCC1) nil nil))
                                  nil))
                                nil))
                              nil))
                            nil)
                           ("4" (grind) nil nil))
                          nil))
                        nil))
                      nil)
                     ("2" (expand count)
                      (("2"
                        (lemma
                         "nonempty_card[below(num_non_terminals)]")
                        (("2" (inst?)
                          (("1" (grind) nil nil)
                           ("2" (rewrite count_TCC1) nil nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (arr type-eq-decl nil arrayCount nil)
    (count_TCC1 subtype-tcc nil arrayCount nil))
   nil
   (step subtype "(number_fields.-)(cstopdown.depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good(0, 0)]))")))
 (step_TCC9 0
  (step_TCC2-1 nil 3804455654
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred rest)
        (("1" (typepred stack)
          (("1" (expand good_stack?) (("1" (grind) nil nil)) nil))
          nil))
        nil)
       ("2" (lemma good_mem_stack)
        (("2" (inst - G "depth - 1" len scaf stack rest "good(0, 0)")
          (("1" (ground)
            (("1" (hide 2)
              (("1" (typepred stack)
                (("1" (expand good_stack? -)
                  (("1" (ground) (("1" (grind) nil nil)) nil)) nil))
                nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil)
             ("3" (typepred stack)
              (("3" (expand fine_stack? -)
                (("3" (ground) (("3" (grind) nil nil)) nil)) nil))
              nil)
             ("4" (typepred stack) (("4" (grind) nil nil)) nil))
            nil)
           ("2" (hide 2)
            (("2" (typepred stack) (("2" (grind) nil nil)) nil)) nil)
           ("3" (typepred stack) (("3" (grind) nil nil)) nil))
          nil))
        nil)
       ("3" (typepred stack)
        (("3" (expand fine_stack? -)
          (("3" (ground)
            (("1" (grind) nil nil)
             ("2" (lemma fine_mem_stack)
              (("2" (ground)
                (("2" (expand good_stack? -)
                  (("2"
                    (inst - G "depth - 1" len scaf stack rest
                     "good(0, 0)")
                    (("1" (ground)
                      (("1" (expand good_stack? -)
                        (("1" (propax) nil nil)) nil)
                       ("2" (grind) nil nil) ("3" (grind) nil nil)
                       ("4" (grind) nil nil) ("5" (grind) nil nil)
                       ("6" (grind) nil nil) ("7" (grind) nil nil)
                       ("8" (grind) nil nil) ("9" (grind) nil nil)
                       ("10" (grind) nil nil))
                      nil)
                     ("2" (grind) nil nil) ("3" (grind) nil nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.rest"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good(0, 0)]))")))
 (step_TCC10 0
  (step_TCC83-1 nil 3804706560
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred lflag)
        (("1" (assert)
          (("1" (hide -2)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (expand loop_ready?) (("2" (propax) nil nil)) nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (typepred lflag)
        (("2" (assert)
          (("2" (hide -1) (("2" (lazy-grind) nil nil)) nil)) nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.St`lflag"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.nt(cstopdown.rest) = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good(0, 0)], cstopdown.pos(cstopdown.rest), cstopdown.nt(cstopdown.rest))) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good(0, 0)](i)(cstopdown.n))) ENDIF}")))
 (step_TCC11 0
  (step_TCC100-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (step subtype "0" "uint64")))
 (step_TCC12 0
  (step_TCC8-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (step subtype "cstopdown.fail(0)"
         "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (step_TCC13 0
  (step_TCC9-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack) (("2" (grind) nil nil)) nil)
               ("3" (typepred lflag)
                (("3" (skeep*)
                  (("3" (ground)
                    (("1" (inst?) nil nil) ("2" (grind) nil nil)
                     ("3" (inst?) nil nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (grind) nil nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail(0)]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC14 0
  (step_TCC6-1 nil 3804455654
   ("" (skeep*)
    (("" (split +)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred depth) (("2" (grind) nil nil)) nil)
       ("3" (typepred depth)
        (("3" (typepred stack)
          (("3" (expand good_depth?)
            (("3" (expand pushcount)
              (("3" (expand scafcount)
                (("3" (use sigma_dec)
                  (("3" (ground)
                    (("1" (lift-if)
                      (("1" (ground)
                        (("1" (typepred pos (stack))
                          (("1" (grind) nil nil)) nil)
                         ("2"
                          (case-replace "(LAMBDA (i: upto(len)):
                               count(num_non_terminals)(push?)
                                    (St`scaf WITH [(pos!1)(cur) := fail(0)](i))) = ((LAMBDA (i: upto(len)):
                               count(num_non_terminals)(push?)(St`scaf(i)))
                              WITH [(pos!1)
                                      := count(num_non_terminals)(push?)(St`scaf(pos!1)) -
                                          1])")
                          (("1" (hide -1) (("1" (assert) nil nil)) nil)
                           ("2" (hide -1 3)
                            (("2" (apply-extensionality)
                              (("1"
                                (hide 2)
                                (("1"
                                  (expand count)
                                  (("1"
                                    (case "pos!1 = x!1")
                                    (("1"
                                      (assert)
                                      (("1"
                                        (case-replace
                                         "{i: below(num_non_terminals) |
                                          push?(St`scaf(x!1) WITH [(cur) := fail(0)](i))} = remove(cur, {i_1: below(num_non_terminals) | push?(St`scaf(x!1)(i_1))})")
                                        (("1"
                                          (rewrite card_remove)
                                          (("1"
                                            (hide -1)
                                            (("1"
                                              (lift-if)
                                              (("1"
                                                (ground)
                                                (("1" (grind) nil nil))
                                                nil))
                                              nil))
                                            nil)
                                           ("2"
                                            (hide -1 2)
                                            (("2"
                                              (rewrite "count_TCC1")
                                              nil
                                              nil))
                                            nil))
                                          nil)
                                         ("2"
                                          (hide 2)
                                          (("2"
                                            (apply-extensionality)
                                            (("1"
                                              (hide 2)
                                              (("1"
                                                (hide -3 -4 -6)
                                                (("1" (grind) nil nil))
                                                nil))
                                              nil)
                                             ("2" (grind) nil nil))
                                            nil))
                                          nil)
                                         ("3" (grind) nil nil))
                                        nil))
                                      nil)
                                     ("2" (assert) nil nil))
                                    nil))
                                  nil))
                                nil)
                               ("2"
                                (hide 2)
                                (("2"
                                  (expand count)
                                  (("2"
                                    (lemma
                                     "nonempty_card[below(num_non_terminals)]")
                                    (("2"
                                      (inst?)
                                      (("1"
                                        (ground)
                                        (("1"
                                          (expand nonempty?)
                                          (("1"
                                            (expand empty?)
                                            (("1"
                                              (inst - cur)
                                              (("1" (grind) nil nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil)
                                       ("2"
                                        (rewrite count_TCC1)
                                        nil
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil)
                               ("3"
                                (hide 2)
                                (("3" (grind) nil nil))
                                nil))
                              nil))
                            nil)
                           ("3" (hide -1 3)
                            (("3" (expand count)
                              (("3"
                                (lemma
                                 "nonempty_card[below(num_non_terminals)]")
                                (("3"
                                  (inst?)
                                  (("1" (grind) nil nil)
                                   ("2" (rewrite count_TCC1) nil nil))
                                  nil))
                                nil))
                              nil))
                            nil)
                           ("4" (grind) nil nil))
                          nil))
                        nil))
                      nil)
                     ("2" (expand count)
                      (("2"
                        (lemma
                         "nonempty_card[below(num_non_terminals)]")
                        (("2" (inst?)
                          (("1" (grind) nil nil)
                           ("2" (rewrite count_TCC1) nil nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (arr type-eq-decl nil arrayCount nil)
    (count_TCC1 subtype-tcc nil arrayCount nil))
   nil
   (step subtype "(number_fields.-)(cstopdown.depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail(0)]))")))
 (step_TCC15 0
  (step_TCC7-1 nil 3804455654
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred rest)
        (("1" (typepred stack)
          (("1" (expand good_stack?) (("1" (grind) nil nil)) nil))
          nil))
        nil)
       ("2" (lemma good_mem_stack)
        (("2" (inst - G "depth - 1" len scaf stack rest "fail(0)")
          (("1" (ground)
            (("1" (hide 2)
              (("1" (typepred stack)
                (("1" (expand good_stack? -)
                  (("1" (ground) (("1" (grind) nil nil)) nil)) nil))
                nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil)
             ("3" (typepred stack)
              (("3" (expand fine_stack? -)
                (("3" (ground) (("3" (grind) nil nil)) nil)) nil))
              nil)
             ("4" (typepred stack) (("4" (grind) nil nil)) nil))
            nil)
           ("2" (hide 2)
            (("2" (typepred stack) (("2" (grind) nil nil)) nil)) nil)
           ("3" (typepred stack)
            (("3" (expand fine_stack? -)
              (("3" (ground)
                (("1" (grind) nil nil)
                 ("2" (lemma fine_mem_stack)
                  (("2" (ground)
                    (("2" (expand good_stack? -)
                      (("2" (propax) nil nil)) nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil)
       ("3" (typepred stack)
        (("3" (expand fine_stack? -)
          (("3" (ground)
            (("1" (grind) nil nil)
             ("2" (lemma fine_mem_stack)
              (("2" (ground)
                (("2" (expand good_stack? -)
                  (("2"
                    (inst - G "depth - 1" len scaf stack rest
                     "fail(0)")
                    (("1" (ground)
                      (("1" (expand good_stack? -)
                        (("1" (propax) nil nil)) nil)
                       ("2" (grind) nil nil) ("3" (grind) nil nil)
                       ("4" (grind) nil nil) ("5" (grind) nil nil)
                       ("6" (grind) nil nil) ("7" (grind) nil nil)
                       ("8" (grind) nil nil) ("9" (grind) nil nil)
                       ("10" (grind) nil nil))
                      nil)
                     ("2" (grind) nil nil) ("3" (grind) nil nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.rest"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail(0)]))")))
 (step_TCC16 0
  (step_TCC84-1 nil 3804706560
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred lflag)
        (("1" (assert)
          (("1" (hide -2)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (expand loop_ready?) (("2" (propax) nil nil)) nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (typepred lflag)
        (("2" (assert)
          (("2" (hide -1) (("2" (lazy-grind) nil nil)) nil)) nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.St`lflag"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.nt(cstopdown.rest) = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail(0)], cstopdown.pos(cstopdown.rest), cstopdown.nt(cstopdown.rest))) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail(0)](i)(cstopdown.n))) ENDIF}")))
 (step_TCC17 0
  (step_TCC16-1 nil 3804455654 ("" (subtype-tcc) nil nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (count const-decl "upto(len)" arrayCount nil))
   nil
   (step subtype "cstopdown.pos"
         "naturalnumbers.below(cstopdown.len)")))
 (step_TCC18 0
  (step_TCC24-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (step subtype "0" "uint64")))
 (step_TCC19 0
  (step_TCC25-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (step subtype "0" "uint64")))
 (step_TCC20 0
  (step_TCC11-1 nil 3804455654 ("" (subtype-tcc) nil nil)
   ((count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil (step subtype "1" "uint32")))
 (step_TCC21 0
  (step_TCC14-1 nil 3804455654 ("" (subtype-tcc) nil nil)
   ((count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype "cstopdown.v"
         "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (step_TCC22 0
  (step_TCC15-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack) (("2" (grind) nil nil)) nil)
               ("3" (typepred lflag)
                (("3" (skeep*)
                  (("3" (ground)
                    (("1" (inst?) nil nil) ("2" (grind) nil nil)
                     ("3" (inst?) nil nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (hide -2 2)
              (("2" (typepred stack) (("2" (grind) nil nil)) nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.v]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC23 0
  (step_TCC12-1 nil 3804455654
   ("" (skeep*)
    (("" (split +)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred depth) (("2" (grind) nil nil)) nil)
       ("3" (typepred depth)
        (("3" (typepred stack)
          (("3" (expand good_depth?)
            (("3" (expand pushcount)
              (("3" (expand scafcount)
                (("3" (use sigma_dec)
                  (("3" (ground)
                    (("1" (lift-if -1)
                      (("1" (ground)
                        (("1" (grind) nil nil)
                         ("2"
                          (case-replace "(LAMBDA (i: upto(len)):
                                                       count(num_non_terminals)(push?)
                                                            (St`scaf WITH [(pos!1)(cur) := v](i))) = ((LAMBDA (i: upto(len)):
                                                       count(num_non_terminals)(push?)(St`scaf(i)))
                                                      WITH [(pos!1)
                                                              := count(num_non_terminals)(push?)(St`scaf(pos!1)) -
                                                                  1])")
                          (("1" (hide -1) (("1" (assert) nil nil)) nil)
                           ("2" (hide -1 3)
                            (("2" (apply-extensionality)
                              (("1"
                                (hide 2)
                                (("1"
                                  (expand count)
                                  (("1"
                                    (case "pos!1 = x!1")
                                    (("1"
                                      (assert)
                                      (("1"
                                        (case-replace
                                         "{i: below(num_non_terminals) |
                                                                                    push?(St`scaf(x!1) WITH [(cur) := v](i))} = remove(cur, {i_1: below(num_non_terminals) | push?(St`scaf(x!1)(i_1))})")
                                        (("1"
                                          (rewrite card_remove)
                                          (("1"
                                            (hide -1)
                                            (("1"
                                              (lift-if +)
                                              (("1"
                                                (ground)
                                                (("1" (grind) nil nil))
                                                nil))
                                              nil))
                                            nil)
                                           ("2"
                                            (hide -1 2)
                                            (("2"
                                              (rewrite "count_TCC1")
                                              nil
                                              nil))
                                            nil))
                                          nil)
                                         ("2"
                                          (hide 2)
                                          (("2"
                                            (apply-extensionality)
                                            (("1"
                                              (hide 2)
                                              (("1"
                                                (hide -3 -4 -6)
                                                (("1" (grind) nil nil))
                                                nil))
                                              nil)
                                             ("2" (grind) nil nil))
                                            nil))
                                          nil)
                                         ("3" (grind) nil nil))
                                        nil))
                                      nil)
                                     ("2" (assert) nil nil))
                                    nil))
                                  nil))
                                nil)
                               ("2"
                                (hide 2)
                                (("2"
                                  (expand count)
                                  (("2"
                                    (lemma
                                     "nonempty_card[below(num_non_terminals)]")
                                    (("2"
                                      (inst?)
                                      (("1"
                                        (ground)
                                        (("1"
                                          (expand nonempty?)
                                          (("1"
                                            (expand empty?)
                                            (("1"
                                              (inst - cur)
                                              (("1" (grind) nil nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil)
                                       ("2"
                                        (rewrite count_TCC1)
                                        nil
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil)
                               ("3"
                                (hide 2)
                                (("3" (grind) nil nil))
                                nil))
                              nil))
                            nil)
                           ("3" (hide -1 3)
                            (("3" (expand count)
                              (("3"
                                (lemma
                                 "nonempty_card[below(num_non_terminals)]")
                                (("3"
                                  (inst?)
                                  (("1" (grind) nil nil)
                                   ("2" (rewrite count_TCC1) nil nil))
                                  nil))
                                nil))
                              nil))
                            nil)
                           ("4" (grind) nil nil))
                          nil))
                        nil))
                      nil)
                     ("2" (expand count)
                      (("2"
                        (lemma
                         "nonempty_card[below(num_non_terminals)]")
                        (("2" (inst?)
                          (("1" (grind) nil nil)
                           ("2" (rewrite count_TCC1) nil nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((real_gt_is_strict_total_order name-judgement
     "(strict_total_order?[real])" real_props nil)
    (successor const-decl "bool" cstopdown nil)
    (empty? const-decl "bool" cstopdown nil)
    (real_le_is_total_order name-judgement "(total_order?[real])"
     real_props nil)
    (real_ge_is_total_order name-judgement "(total_order?[real])"
     real_props nil)
    (int_minus_int_is_int application-judgement "int" integers nil)
    (NOT const-decl "[bool -> bool]" booleans nil)
    (number nonempty-type-decl nil numbers nil)
    (number_field_pred const-decl "[number -> boolean]" number_fields
     nil)
    (number_field nonempty-type-from-decl nil number_fields nil)
    (real_pred const-decl "[number_field -> boolean]" reals nil)
    (real nonempty-type-from-decl nil reals nil)
    (rational_pred const-decl "[real -> boolean]" rationals nil)
    (rational nonempty-type-from-decl nil rationals nil)
    (integer_pred const-decl "[rational -> boolean]" integers nil)
    (int nonempty-type-eq-decl nil integers nil)
    (>= const-decl "bool" reals nil)
    (nat nonempty-type-eq-decl nil naturalnumbers nil)
    (<= const-decl "bool" reals nil)
    (numfield nonempty-type-eq-decl nil number_fields nil)
    (- const-decl "[numfield, numfield -> numfield]" number_fields nil)
    (nonneg_int nonempty-type-eq-decl nil integers nil)
    (> const-decl "bool" reals nil)
    (posnat nonempty-type-eq-decl nil integers nil)
    (exp2 def-decl "posnat" exp2 nil)
    (uint32 type-eq-decl nil integertypes nil)
    (ent type-decl nil cstopdown nil)
    (good_push_entry? const-decl "bool" cstopdown nil)
    (< const-decl "bool" reals nil)
    (byte type-eq-decl nil cstopdown nil)
    (num_non_terminals const-decl "byte" cstopdown nil)
    (non_terminal type-eq-decl nil cstopdown nil)
    (peg type-decl nil cstopdown nil)
    (lang_spec type-eq-decl nil cstopdown nil)
    (uint64 type-eq-decl nil integertypes nil)
    (upto nonempty-type-eq-decl nil naturalnumbers nil)
    (nice_entry? const-decl "bool" cstopdown nil)
    (scaffold type-eq-decl nil cstopdown nil)
    (good_stack? def-decl "bool" cstopdown nil)
    (below type-eq-decl nil naturalnumbers nil)
    (strings type-eq-decl nil cstopdown nil)
    (fine_scaffold? const-decl "bool" cstopdown nil)
    (good_depth? const-decl "bool" cstopdown nil)
    (fine_stack? def-decl "bool" cstopdown nil)
    (IF const-decl "[boolean, T, T -> T]" if_def nil)
    (OR const-decl "[bool, bool -> bool]" booleans nil)
    (= const-decl "[T, T -> boolean]" equalities nil)
    (push? adt-recognizer-decl "[ent -> boolean]" cstopdown nil)
    (uint8 type-eq-decl nil integertypes nil)
    (nt adt-accessor-decl "[(push?) -> uint8]" cstopdown nil)
    (loop_ready? const-decl "bool" cstopdown nil)
    (pos adt-accessor-decl "[(push?) -> uint32]" cstopdown nil)
    (loop? adt-recognizer-decl "[ent -> boolean]" cstopdown nil)
    (state type-eq-decl nil cstopdown nil)
    (even_times_int_is_even application-judgement "even_int" integers
     nil)
    (posint_times_posint_is_posint application-judgement "posint"
     integers nil)
    (sigma_nat application-judgement "nat" sigma reals)
    (nnint_plus_nnint_is_nnint application-judgement "nonneg_int"
     integers nil)
    (pushcount const-decl "uint64" cstopdown nil)
    (scafcount const-decl "uint64" cstopdown nil)
    (sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_dec formula-decl nil cstopdown nil)
    (arr type-eq-decl nil arrayCount nil)
    (St skolem-const-decl "state(len, G, s, start, rootnt)" cstopdown
     nil)
    (rootnt skolem-const-decl "non_terminal" cstopdown nil)
    (start skolem-const-decl "upto(len)" cstopdown nil)
    (s skolem-const-decl "strings(len)" cstopdown nil)
    (G skolem-const-decl "lang_spec" cstopdown nil)
    (v skolem-const-decl "ent" cstopdown nil)
    (pos!1 skolem-const-decl "uint32" cstopdown nil)
    (len skolem-const-decl "uint32" cstopdown nil)
    (good_good_entry? const-decl "bool" cstopdown nil)
    (member const-decl "bool" sets nil)
    (/= const-decl "boolean" notequal nil)
    (x!1 skolem-const-decl "upto(len)" cstopdown nil)
    (finite_set type-eq-decl nil finite_sets nil)
    (is_finite const-decl "bool" finite_sets nil)
    (card_remove formula-decl nil finite_sets nil)
    (count_TCC1 subtype-tcc nil arrayCount nil)
    (set type-eq-decl nil sets nil) (remove const-decl "set" sets nil)
    (nonempty? const-decl "bool" sets nil)
    (empty? const-decl "bool" sets nil)
    (nonempty_card formula-decl nil finite_sets nil)
    (real_lt_is_strict_total_order name-judgement
     "(strict_total_order?[real])" real_props nil)
    (boolean nonempty-type-decl nil booleans nil)
    (bool nonempty-type-eq-decl nil booleans nil)
    (TRUE const-decl "bool" booleans nil)
    (nil application-judgement "above(n)" exp2 nil))
   nil
   (step subtype "(number_fields.-)(cstopdown.depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.v]))")))
 (step_TCC24 0
  (step_TCC13-1 nil 3804455654
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred rest)
        (("1" (typepred stack)
          (("1" (expand good_stack?) (("1" (grind) nil nil)) nil))
          nil))
        nil)
       ("2" (lemma good_mem_stack)
        (("2" (inst - G "depth - 1" len scaf stack rest v)
          (("1" (ground)
            (("1" (hide 2)
              (("1" (typepred stack)
                (("1" (expand good_stack? -)
                  (("1" (ground) (("1" (grind) nil nil)) nil)) nil))
                nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil)
             ("3" (typepred stack)
              (("3" (expand fine_stack? -)
                (("3" (ground) (("3" (grind) nil nil)) nil)) nil))
              nil)
             ("4" (typepred stack) (("4" (grind) nil nil)) nil))
            nil)
           ("2" (hide 2)
            (("2" (typepred "stack") (("2" (grind) nil nil)) nil)) nil)
           ("3" (typepred stack) (("3" (grind) nil nil)) nil))
          nil))
        nil)
       ("3" (typepred stack)
        (("3" (expand fine_stack? -)
          (("3" (ground)
            (("1" (grind) nil nil)
             ("2" (lemma fine_mem_stack)
              (("2" (ground)
                (("2" (expand good_stack? -)
                  (("2" (inst - G "depth - 1" len scaf stack rest "v")
                    (("1" (ground)
                      (("1" (expand good_stack? -)
                        (("1" (propax) nil nil)) nil)
                       ("2" (grind) nil nil) ("3" (grind) nil nil)
                       ("4" (grind) nil nil) ("5" (grind) nil nil)
                       ("6" (grind) nil nil) ("7" (grind) nil nil)
                       ("8" (grind) nil nil) ("9" (grind) nil nil)
                       ("10" (grind) nil nil))
                      nil)
                     ("2" (grind) nil nil) ("3" (grind) nil nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.rest"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.v]))")))
 (step_TCC25 0
  (step_TCC89-1 nil 3804455654
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred lflag)
        (("1" (assert)
          (("1" (hide -2)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (expand loop_ready?) (("2" (propax) nil nil)) nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (typepred lflag)
        (("2" (assert)
          (("2" (hide -1) (("2" (lazy-grind) nil nil)) nil)) nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.St`lflag"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.nt(cstopdown.rest) = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.v], cstopdown.pos(cstopdown.rest), cstopdown.nt(cstopdown.rest))) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.v](i)(cstopdown.n))) ENDIF}")))
 (step_TCC26 0
  (step_TCC44-1 nil 3804455654 ("" (subtype-tcc) nil nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (count const-decl "upto(len)" arrayCount nil))
   nil
   (step subtype "cstopdown.pos"
         "naturalnumbers.below(cstopdown.len)")))
 (step_TCC27 0
  (step_TCC33-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (step subtype "0" "uint64")))
 (step_TCC28 0
  (step_TCC34-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (step subtype "0" "uint64")))
 (step_TCC29 0
  (step_TCC17-1 nil 3804455654 ("" (subtype-tcc) nil nil)
   ((count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil (step subtype "1" "uint32")))
 (step_TCC30 0
  (step_TCC20-1 nil 3804455654 ("" (subtype-tcc) nil nil)
   ((count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype "cstopdown.v"
         "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (step_TCC31 0
  (step_TCC21-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack) (("2" (grind) nil nil)) nil)
               ("3" (typepred lflag)
                (("3" (skeep*)
                  (("3" (ground)
                    (("1" (inst?) nil nil) ("2" (grind) nil nil)
                     ("3" (inst?) nil nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (hide -2 2)
              (("2" (typepred stack) (("2" (grind) nil nil)) nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.v]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC32 0
  (step_TCC18-1 nil 3804455654
   ("" (skeep*)
    (("" (split +)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred depth) (("2" (grind) nil nil)) nil)
       ("3" (typepred depth)
        (("3" (typepred stack)
          (("3" (expand good_depth?)
            (("3" (expand pushcount)
              (("3" (expand scafcount)
                (("3" (use sigma_dec)
                  (("3" (ground)
                    (("1" (lift-if -1)
                      (("1" (ground)
                        (("1" (grind) nil nil)
                         ("2"
                          (case-replace "(LAMBDA (i: upto(len)):
                                                       count(num_non_terminals)(push?)
                                                            (St`scaf WITH [(pos!1)(cur) := v](i))) = ((LAMBDA (i: upto(len)):
                                                       count(num_non_terminals)(push?)(St`scaf(i)))
                                                      WITH [(pos!1)
                                                              := count(num_non_terminals)(push?)(St`scaf(pos!1)) -
                                                                  1])")
                          (("1" (hide -1) (("1" (assert) nil nil)) nil)
                           ("2" (hide -1 3)
                            (("2" (apply-extensionality)
                              (("1"
                                (hide 2)
                                (("1"
                                  (expand count)
                                  (("1"
                                    (case "pos!1 = x!1")
                                    (("1"
                                      (assert)
                                      (("1"
                                        (case-replace
                                         "{i: below(num_non_terminals) |
                                                                                    push?(St`scaf(x!1) WITH [(cur) := v](i))} = remove(cur, {i_1: below(num_non_terminals) | push?(St`scaf(x!1)(i_1))})")
                                        (("1"
                                          (rewrite card_remove)
                                          (("1"
                                            (hide -1)
                                            (("1"
                                              (lift-if +)
                                              (("1"
                                                (ground)
                                                (("1" (grind) nil nil))
                                                nil))
                                              nil))
                                            nil)
                                           ("2"
                                            (hide -1 2)
                                            (("2"
                                              (rewrite "count_TCC1")
                                              nil
                                              nil))
                                            nil))
                                          nil)
                                         ("2"
                                          (hide 2)
                                          (("2"
                                            (apply-extensionality)
                                            (("1"
                                              (hide 2)
                                              (("1"
                                                (hide -3 -4 -6)
                                                (("1" (grind) nil nil))
                                                nil))
                                              nil)
                                             ("2" (grind) nil nil))
                                            nil))
                                          nil)
                                         ("3" (grind) nil nil))
                                        nil))
                                      nil)
                                     ("2" (assert) nil nil))
                                    nil))
                                  nil))
                                nil)
                               ("2"
                                (hide 2)
                                (("2"
                                  (expand count)
                                  (("2"
                                    (lemma
                                     "nonempty_card[below(num_non_terminals)]")
                                    (("2"
                                      (inst?)
                                      (("1"
                                        (ground)
                                        (("1"
                                          (expand nonempty?)
                                          (("1"
                                            (expand empty?)
                                            (("1"
                                              (inst - cur)
                                              (("1" (grind) nil nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil)
                                       ("2"
                                        (rewrite count_TCC1)
                                        nil
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil)
                               ("3"
                                (hide 2)
                                (("3" (grind) nil nil))
                                nil))
                              nil))
                            nil)
                           ("3" (hide -1 3)
                            (("3" (expand count)
                              (("3"
                                (lemma
                                 "nonempty_card[below(num_non_terminals)]")
                                (("3"
                                  (inst?)
                                  (("1" (grind) nil nil)
                                   ("2" (rewrite count_TCC1) nil nil))
                                  nil))
                                nil))
                              nil))
                            nil)
                           ("4" (grind) nil nil))
                          nil))
                        nil))
                      nil)
                     ("2" (expand count)
                      (("2"
                        (lemma
                         "nonempty_card[below(num_non_terminals)]")
                        (("2" (inst?)
                          (("1" (grind) nil nil)
                           ("2" (rewrite count_TCC1) nil nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (arr type-eq-decl nil arrayCount nil)
    (count_TCC1 subtype-tcc nil arrayCount nil))
   nil
   (step subtype "(number_fields.-)(cstopdown.depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.v]))")))
 (step_TCC33 0
  (step_TCC19-1 nil 3804455654
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred rest)
        (("1" (typepred stack)
          (("1" (expand good_stack?) (("1" (grind) nil nil)) nil))
          nil))
        nil)
       ("2" (lemma good_mem_stack)
        (("2" (inst - G "depth - 1" len scaf stack rest v)
          (("1" (ground)
            (("1" (hide 2)
              (("1" (typepred stack)
                (("1" (expand good_stack? -)
                  (("1" (ground) (("1" (grind) nil nil)) nil)) nil))
                nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil)
             ("3" (typepred stack)
              (("3" (expand fine_stack? -)
                (("3" (ground) (("3" (grind) nil nil)) nil)) nil))
              nil)
             ("4" (typepred stack) (("4" (grind) nil nil)) nil))
            nil)
           ("2" (hide 2)
            (("2" (typepred "stack") (("2" (grind) nil nil)) nil)) nil)
           ("3" (typepred stack) (("3" (grind) nil nil)) nil))
          nil))
        nil)
       ("3" (typepred stack)
        (("3" (expand fine_stack? -)
          (("3" (ground)
            (("1" (grind) nil nil)
             ("2" (lemma fine_mem_stack)
              (("2" (ground)
                (("2" (expand good_stack? -)
                  (("2" (inst - G "depth - 1" len scaf stack rest "v")
                    (("1" (ground)
                      (("1" (expand good_stack? -)
                        (("1" (propax) nil nil)) nil)
                       ("2" (grind) nil nil) ("3" (grind) nil nil)
                       ("4" (grind) nil nil) ("5" (grind) nil nil)
                       ("6" (grind) nil nil) ("7" (grind) nil nil)
                       ("8" (grind) nil nil) ("9" (grind) nil nil)
                       ("10" (grind) nil nil))
                      nil)
                     ("2" (grind) nil nil) ("3" (grind) nil nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.rest"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.v]))")))
 (step_TCC34 0
  (step_TCC90-1 nil 3804455654
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred lflag)
        (("1" (assert)
          (("1" (hide -2)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (expand loop_ready?) (("2" (propax) nil nil)) nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (typepred lflag)
        (("2" (assert)
          (("2" (hide -1) (("2" (lazy-grind) nil nil)) nil)) nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.St`lflag"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.nt(cstopdown.rest) = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.v], cstopdown.pos(cstopdown.rest), cstopdown.nt(cstopdown.rest))) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.v](i)(cstopdown.n))) ENDIF}")))
 (step_TCC35 0
  (step_TCC42-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred scaf)
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("" (expand "good_tscaffold?")
            (("" (inst - pos!1 n1)
              (("" (ground)
                (("1" (expand gfcount)
                  (("1" (use "sigma_max")
                    (("1" (ground)
                      (("1"
                        (case "len * num_non_terminals + num_non_terminals < exp2(64) - 2")
                        (("1" (assert)
                          (("1"
                            (name-replace lnn
                             "len * num_non_terminals + num_non_terminals")
                            (("1" (assert)
                              (("1"
                                (case-replace
                                 "dep(scaf(pos!1)(n1)) = d1")
                                (("1" (assert) nil nil)
                                 ("2" (grind) nil nil))
                                nil))
                              nil))
                            nil))
                          nil)
                         ("2" (assert)
                          (("2"
                            (case "len * num_non_terminals <= exp2(46)")
                            (("1" (assert) (("1" (grind) nil nil)) nil)
                             ("2"
                              (use "lt_times_lt_pos1" :subst
                                   (px
                                    len
                                    nnz
                                    num_non_terminals
                                    y
                                    "exp2(32)"
                                    w
                                    "exp2(8)"))
                              (("1"
                                (hide-all-but (-1 1))
                                (("1"
                                  (grind)
                                  (("1"
                                    (typepred len)
                                    (("1" (grind) nil nil))
                                    nil))
                                  nil))
                                nil)
                               ("2" (assert) nil nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil)
                 ("2" (grind) nil nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil (step subtype "(number_fields.+)(cstopdown.d1, 1)" "uint64")))
 (step_TCC36 0
  (step_TCC43-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (step subtype "cstopdown.fail((number_fields.+)(cstopdown.d1, 1))"
         "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (step_TCC37 0
  (step_TCC55-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack) (("2" (grind) nil nil)) nil)
               ("3" (typepred lflag)
                (("3" (skeep*)
                  (("3" (ground)
                    (("1" (inst?) nil nil) ("2" (grind) nil nil)
                     ("3" (inst?) nil nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (hide -2 2)
              (("2" (typepred stack) (("2" (grind) nil nil)) nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail((number_fields.+)(cstopdown.d1, 1))]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC38 0
  (step_TCC22-1 nil 3804455654
   ("" (skeep*)
    (("" (split +)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred depth) (("2" (grind) nil nil)) nil)
       ("3" (typepred depth)
        (("3" (typepred stack)
          (("3" (expand good_depth?)
            (("3" (expand pushcount)
              (("3" (expand scafcount)
                (("3" (use sigma_dec)
                  (("3" (ground)
                    (("1" (lift-if -1)
                      (("1" (ground)
                        (("1" (grind) nil nil)
                         ("2"
                          (case-replace "(LAMBDA (i: upto(len)):
                                                               count(num_non_terminals)(push?)
                                                                    (St`scaf WITH [(pos!1)(cur) := fail(1 + d1)](i))) = ((LAMBDA (i: upto(len)):
                                                               count(num_non_terminals)(push?)(St`scaf(i)))
                                                              WITH [(pos!1)
                                                                      := count(num_non_terminals)(push?)(St`scaf(pos!1)) -
                                                                          1])")
                          (("1" (hide -1) (("1" (assert) nil nil)) nil)
                           ("2" (hide -1 3)
                            (("2" (apply-extensionality)
                              (("1"
                                (hide 2)
                                (("1"
                                  (expand count)
                                  (("1"
                                    (case "pos!1 = x!1")
                                    (("1"
                                      (assert)
                                      (("1"
                                        (case-replace
                                         "{i: below(num_non_terminals) |
                                                                                                  push?(St`scaf(x!1) WITH [(cur) := fail(1 + d1)](i))} = remove(cur, {i_1: below(num_non_terminals) | push?(St`scaf(x!1)(i_1))})")
                                        (("1"
                                          (rewrite card_remove)
                                          (("1"
                                            (hide -1)
                                            (("1"
                                              (lift-if +)
                                              (("1"
                                                (ground)
                                                (("1" (grind) nil nil))
                                                nil))
                                              nil))
                                            nil)
                                           ("2"
                                            (hide -1 2)
                                            (("2"
                                              (rewrite "count_TCC1")
                                              nil
                                              nil))
                                            nil))
                                          nil)
                                         ("2"
                                          (hide 2)
                                          (("2"
                                            (apply-extensionality)
                                            (("1"
                                              (hide 2)
                                              (("1"
                                                (hide -3 -4 -6)
                                                (("1" (grind) nil nil))
                                                nil))
                                              nil)
                                             ("2" (grind) nil nil)
                                             ("3"
                                              (skeep*)
                                              (("3"
                                                (use step_TCC35)
                                                (("3"
                                                  (ground)
                                                  (("3"
                                                    (inst?)
                                                    (("3"
                                                      (inst?)
                                                      (("3"
                                                        (inst?)
                                                        (("3"
                                                          (ground)
                                                          nil
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil)
                                         ("3"
                                          (hide -6 2)
                                          (("3" (grind) nil nil))
                                          nil)
                                         ("4"
                                          (hide 2)
                                          (("4"
                                            (skeep*)
                                            (("4"
                                              (use step_TCC35)
                                              (("4"
                                                (ground)
                                                (("4"
                                                  (inst?)
                                                  (("4"
                                                    (inst?)
                                                    (("4"
                                                      (inst?)
                                                      (("4"
                                                        (ground)
                                                        nil
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil)
                                     ("2" (assert) nil nil))
                                    nil))
                                  nil))
                                nil)
                               ("2"
                                (hide 2)
                                (("2"
                                  (expand count +)
                                  (("2"
                                    (use
                                     "nonempty_card[below(num_non_terminals)]")
                                    (("1"
                                      (ground)
                                      (("1"
                                        (expand nonempty?)
                                        (("1"
                                          (expand empty?)
                                          (("1"
                                            (inst - "nt(stack)")
                                            (("1" (grind) nil nil)
                                             ("2"
                                              (assert)
                                              (("2"
                                                (typepred "nt(stack)")
                                                (("2"
                                                  (expand
                                                   "good_push_entry?")
                                                  (("2"
                                                    (propax)
                                                    nil
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil)
                                     ("2"
                                      (rewrite "count_TCC1")
                                      nil
                                      nil))
                                    nil))
                                  nil))
                                nil)
                               ("3"
                                (hide 2)
                                (("3" (grind) nil nil))
                                nil)
                               ("4"
                                (hide 2)
                                (("4"
                                  (use step_TCC35)
                                  (("4"
                                    (ground)
                                    (("4"
                                      (inst?)
                                      (("4"
                                        (inst?)
                                        (("4"
                                          (inst?)
                                          (("4" (ground) nil nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil)
                           ("3" (hide -1)
                            (("3" (expand count)
                              (("3"
                                (use
                                 "nonempty_card[below(num_non_terminals)]")
                                (("1"
                                  (ground)
                                  (("1"
                                    (hide -5 5)
                                    (("1" (grind) nil nil))
                                    nil))
                                  nil)
                                 ("2" (rewrite "count_TCC1") nil nil))
                                nil))
                              nil))
                            nil)
                           ("4" (hide -1 3) (("4" (grind) nil nil))
                            nil)
                           ("5" (use step_TCC35)
                            (("5" (ground)
                              (("5"
                                (inst?)
                                (("5"
                                  (inst?)
                                  (("5"
                                    (inst?)
                                    (("5" (ground) nil nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil)
                     ("2" (expand count)
                      (("2"
                        (use "nonempty_card[below(num_non_terminals)]")
                        (("1" (grind) nil nil)
                         ("2" (rewrite count_TCC1) nil nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (arr type-eq-decl nil arrayCount nil)
    (count_TCC1 subtype-tcc nil arrayCount nil))
   nil
   (step subtype "(number_fields.-)(cstopdown.depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail((number_fields.+)(cstopdown.d1, 1))]))")))
 (step_TCC39 0
  (step_TCC23-1 nil 3804455654
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred rest)
        (("1" (typepred stack)
          (("1" (expand good_stack?) (("1" (grind) nil nil)) nil))
          nil))
        nil)
       ("2" (lemma good_mem_stack)
        (("2" (inst - G "depth - 1" len scaf stack rest "fail(1 + d1)")
          (("1" (ground)
            (("1" (hide 2)
              (("1" (typepred stack)
                (("1" (expand good_stack? -)
                  (("1" (ground) (("1" (grind) nil nil)) nil)) nil))
                nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil)
             ("3" (typepred stack)
              (("3" (expand fine_stack? -)
                (("3" (ground) (("3" (grind) nil nil)) nil)) nil))
              nil)
             ("4" (typepred stack) (("4" (grind) nil nil)) nil))
            nil)
           ("2" (hide 2)
            (("2" (expand nice_entry?) (("2" (propax) nil nil)) nil))
            nil)
           ("3" (typepred "stack") (("3" (grind) nil nil)) nil))
          nil))
        nil)
       ("3" (typepred stack)
        (("3" (expand fine_stack? -)
          (("3" (ground)
            (("1" (grind) nil nil)
             ("2" (lemma fine_mem_stack)
              (("2" (ground)
                (("2" (expand good_stack? -)
                  (("2"
                    (inst - G "depth - 1" len scaf stack rest
                     "fail(1 + d1)")
                    (("1" (ground)
                      (("1" (expand good_stack? -)
                        (("1" (propax) nil nil)) nil)
                       ("2" (grind) nil nil) ("3" (grind) nil nil)
                       ("4" (grind) nil nil) ("5" (grind) nil nil)
                       ("6" (grind) nil nil) ("7" (grind) nil nil)
                       ("8" (grind) nil nil) ("9" (grind) nil nil)
                       ("10" (grind) nil nil))
                      nil)
                     ("2" (grind) nil nil) ("3" (grind) nil nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.rest"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail((number_fields.+)(cstopdown.d1, 1))]))")))
 (step_TCC40 0
  (step_TCC95-1 nil 3804706560
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred lflag)
        (("1" (assert)
          (("1" (hide -2)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (typepred lflag)
        (("2" (assert)
          (("2" (hide -1) (("2" (lazy-grind) nil nil)) nil)) nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.St`lflag"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.nt(cstopdown.rest) = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail((number_fields.+)(1, cstopdown.d1))], cstopdown.pos(cstopdown.rest), cstopdown.nt(cstopdown.rest))) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail((number_fields.+)(1, cstopdown.d1))](i)(cstopdown.n))) ENDIF}")))
 (step_TCC41 0
  (step_TCC30-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred "St`scaf(pos!1)(n1)") (("" (grind) nil nil)) nil))
    nil)
   nil nil
   (step subtype "(number_fields.+)(cstopdown.pos, cstopdown.sp)"
         "naturalnumbers.upto(cstopdown.len)")))
 (step_TCC42 0
  (step_TCC75-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred scaf)
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("" (expand "good_tscaffold?")
            (("" (inst-cp - pos!1 n1)
              (("" (inst - pos!1+sp n2)
                (("" (ground)
                  (("1" (expand gfcount)
                    (("1" (use "sigma_max")
                      (("1" (ground)
                        (("1"
                          (case "len * num_non_terminals + num_non_terminals < exp2(64) - 2")
                          (("1" (assert)
                            (("1"
                              (name-replace lnn
                               "len * num_non_terminals + num_non_terminals")
                              (("1"
                                (assert)
                                (("1"
                                  (case-replace
                                   "dep(scaf(pos!1 + sp)(n2)) = d2")
                                  (("1"
                                    (case-replace
                                     "dep(scaf(pos!1)(n1)) = d1")
                                    (("1"
                                      (assert)
                                      (("1"
                                        (expand max)
                                        (("1"
                                          (lift-if)
                                          (("1" (ground) nil nil))
                                          nil))
                                        nil))
                                      nil)
                                     ("2" (grind) nil nil))
                                    nil)
                                   ("2" (grind) nil nil))
                                  nil))
                                nil))
                              nil))
                            nil)
                           ("2" (assert)
                            (("2"
                              (case "len * num_non_terminals <= exp2(46)")
                              (("1"
                                (assert)
                                (("1" (grind) nil nil))
                                nil)
                               ("2"
                                (use
                                 "lt_times_lt_pos1"
                                 :subst
                                 (px
                                  len
                                  nnz
                                  num_non_terminals
                                  y
                                  "exp2(32)"
                                  w
                                  "exp2(8)"))
                                (("1"
                                  (hide-all-but (-1 1))
                                  (("1"
                                    (grind)
                                    (("1"
                                      (typepred len)
                                      (("1" (grind) nil nil))
                                      nil))
                                    nil))
                                  nil)
                                 ("2" (assert) nil nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil)
                   ("2" (grind) nil nil) ("3" (grind) nil nil)
                   ("4" (grind) nil nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "(number_fields.+)(1, real_defs.max(cstopdown.d1, cstopdown.d2))"
         "uint64")))
 (step_TCC43 0
  (step_TCC56-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred scaf)
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("" (expand "good_tscaffold?")
            (("" (expand nice_entry?) (("" (propax) nil nil)) nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype
         "cstopdown.fail((number_fields.+)(1, real_defs.max(cstopdown.d1, cstopdown.d2)))"
         "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (step_TCC44 0
  (step_TCC63-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack) (("2" (grind) nil nil)) nil)
               ("3" (typepred lflag)
                (("3" (skeep*)
                  (("3" (ground)
                    (("1" (inst?) nil nil) ("2" (grind) nil nil)
                     ("3" (inst?) nil nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (hide -2 2)
              (("2" (typepred stack) (("2" (grind) nil nil)) nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail((number_fields.+)(1, real_defs.max(cstopdown.d1, cstopdown.d2)))]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC45 0
  (step_TCC31-1 nil 3804455654
   ("" (skeep*)
    (("" (split +)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred depth) (("2" (grind) nil nil)) nil)
       ("3" (typepred depth)
        (("3" (typepred stack)
          (("3" (expand good_depth?)
            (("3" (expand pushcount)
              (("3" (rewrite scafcount_update)
                (("1" (grind :exclude scafcount) nil nil)
                 ("2" (hide 2) (("2" (grind) nil nil)) nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil))
   nil
   (step subtype "(number_fields.-)(cstopdown.depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail((number_fields.+)(1, real_defs.max(cstopdown.d1, cstopdown.d2)))]))")))
 (step_TCC46 0
  (step_TCC32-1 nil 3804455654
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred rest)
        (("1" (typepred stack)
          (("1" (expand good_stack?) (("1" (grind) nil nil)) nil))
          nil))
        nil)
       ("2" (lemma good_mem_stack)
        (("2"
          (inst - G "depth - 1" len scaf stack rest
           "fail(1 + max(d1, d2))")
          (("1" (ground)
            (("1" (hide 2)
              (("1" (typepred stack)
                (("1" (expand good_stack? -)
                  (("1" (ground) (("1" (grind) nil nil)) nil)) nil))
                nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil)
             ("3" (typepred stack)
              (("3" (expand fine_stack? -)
                (("3" (ground) (("3" (grind) nil nil)) nil)) nil))
              nil)
             ("4" (typepred stack) (("4" (grind) nil nil)) nil))
            nil)
           ("2" (hide 2)
            (("2" (expand nice_entry?) (("2" (propax) nil nil)) nil))
            nil)
           ("3" (typepred "stack") (("3" (grind) nil nil)) nil))
          nil))
        nil)
       ("3" (typepred stack)
        (("3" (expand fine_stack? -)
          (("3" (ground)
            (("1" (grind) nil nil)
             ("2" (lemma fine_mem_stack)
              (("2" (ground)
                (("2" (expand good_stack? -)
                  (("2"
                    (inst - G "depth - 1" len scaf stack rest
                     "fail(1 + max(d1, d2))")
                    (("1" (ground)
                      (("1" (expand good_stack? -)
                        (("1" (propax) nil nil)) nil)
                       ("2" (grind) nil nil) ("3" (grind) nil nil)
                       ("4" (grind) nil nil) ("5" (grind) nil nil)
                       ("6" (grind) nil nil) ("7" (grind) nil nil)
                       ("8" (grind) nil nil) ("9" (grind) nil nil)
                       ("10" (grind) nil nil))
                      nil)
                     ("2" (grind) nil nil) ("3" (grind) nil nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.rest"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail((number_fields.+)(1, real_defs.max(cstopdown.d1, cstopdown.d2)))]))")))
 (step_TCC47 0
  (step_TCC117-1 nil 3804706560
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred lflag)
        (("1" (assert)
          (("1" (hide -2)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (typepred lflag)
        (("2" (assert)
          (("2" (hide -1) (("2" (lazy-grind) nil nil)) nil)) nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.St`lflag"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.nt(cstopdown.rest) = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail((number_fields.+)(1, real_defs.max(cstopdown.d1, cstopdown.d2)))], cstopdown.pos(cstopdown.rest), cstopdown.nt(cstopdown.rest))) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail((number_fields.+)(1, real_defs.max(cstopdown.d1, cstopdown.d2)))](i)(cstopdown.n))) ENDIF}")))
 (step_TCC48 0
  (step_TCC64-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred scaf)
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("" (expand "good_tscaffold?")
            (("" (inst-cp - pos!1 n1)
              (("" (inst - pos!1+sp n2)
                (("" (ground)
                  (("1" (expand gfcount)
                    (("1" (use "sigma_max")
                      (("1" (ground)
                        (("1"
                          (case "len * num_non_terminals + num_non_terminals < exp2(64) - 2")
                          (("1" (assert)
                            (("1"
                              (name-replace lnn
                               "len * num_non_terminals + num_non_terminals")
                              (("1"
                                (assert)
                                (("1"
                                  (case-replace
                                   "dep(scaf(pos!1 + sp)(n2)) = d2")
                                  (("1"
                                    (case-replace
                                     "dep(scaf(pos!1)(n1)) = d1")
                                    (("1"
                                      (assert)
                                      (("1"
                                        (expand max)
                                        (("1"
                                          (lift-if)
                                          (("1" (ground) nil nil))
                                          nil))
                                        nil))
                                      nil)
                                     ("2" (grind) nil nil))
                                    nil)
                                   ("2" (grind) nil nil))
                                  nil))
                                nil))
                              nil))
                            nil)
                           ("2" (assert)
                            (("2"
                              (case "len * num_non_terminals <= exp2(46)")
                              (("1"
                                (assert)
                                (("1" (grind) nil nil))
                                nil)
                               ("2"
                                (use
                                 "lt_times_lt_pos1"
                                 :subst
                                 (px
                                  len
                                  nnz
                                  num_non_terminals
                                  y
                                  "exp2(32)"
                                  w
                                  "exp2(8)"))
                                (("1"
                                  (hide-all-but (-1 1))
                                  (("1"
                                    (grind)
                                    (("1"
                                      (typepred len)
                                      (("1" (grind) nil nil))
                                      nil))
                                    nil))
                                  nil)
                                 ("2" (assert) nil nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil)
                   ("2" (grind) nil nil) ("3" (grind) nil nil)
                   ("4" (grind) nil nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "(number_fields.+)(1, real_defs.max(cstopdown.d1, cstopdown.d2))"
         "uint64")))
 (step_TCC49 0
  (step_TCC41-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred "St`scaf(pos!1)(n1)")
      (("" (typepred "St`scaf(pos!1 + sp)(n2)")
        (("" (typepred len) (("" (grind) nil nil)) nil)) nil))
      nil))
    nil)
   nil nil
   (step subtype "(number_fields.+)(cstopdown.sp, cstopdown.sp2)"
         "uint32")))
 (step_TCC50 0
  (step_TCC76-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred "St`scaf(pos!1)(n1)")
      (("" (typepred "St`scaf(pos!1 + sp)(n2)") (("" (grind) nil nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype
         "cstopdown.good((number_fields.+)(1, real_defs.max(cstopdown.d1, cstopdown.d2)), (number_fields.+)(cstopdown.sp, cstopdown.sp2))"
         "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (step_TCC51 0
  (step_TCC83-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack)
                (("2" (hide 2)
                  (("2" (expand fine_entry?)
                    (("2" (ground)
                      (("1" (typepred "St`scaf(pos!1 + sp)(n2)")
                        (("1" (grind) nil nil)) nil)
                       ("2" (expand good_good?)
                        (("2" (grind :exclude (max gfcount)) nil nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil)
               ("3" (hide 2)
                (("3" (typepred lflag)
                  (("3" (skeep*)
                    (("3" (ground)
                      (("1" (inst?) nil nil) ("2" (grind) nil nil)
                       ("3" (inst?) nil nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (hide 2)
              (("2" (typepred "St`scaf(pos!1 + sp)(n2)")
                (("2" (typepred "St`scaf(pos!1)(n1)")
                  (("2" (grind) nil nil)) nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good((number_fields.+)(1, real_defs.max(cstopdown.d1, cstopdown.d2)), (number_fields.+)(cstopdown.sp, cstopdown.sp2))]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC52 0
  (step_TCC39-1 nil 3804455654
   ("" (skeep*)
    (("" (split +)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred depth) (("2" (grind) nil nil)) nil)
       ("3" (typepred depth)
        (("3" (typepred stack)
          (("3" (expand good_depth?)
            (("3" (expand pushcount)
              (("3" (expand scafcount)
                (("3" (use sigma_dec)
                  (("3" (ground)
                    (("1" (lift-if -1)
                      (("1" (ground)
                        (("1" (grind) nil nil)
                         ("2"
                          (case-replace "(LAMBDA (i: upto(len)):
                                                                       count(num_non_terminals)(push?)
                                                                            (St`scaf WITH [(pos!1)(cur) := good(1 + max(d1, d2), sp2 + sp)](i))) = ((LAMBDA (i: upto(len)):
                                                                       count(num_non_terminals)(push?)(St`scaf(i)))
                                                                      WITH [(pos!1)
                                                                              := count(num_non_terminals)(push?)(St`scaf(pos!1)) -
                                                                                  1])")
                          (("1" (hide -1) (("1" (assert) nil nil)) nil)
                           ("2" (hide -1 3)
                            (("2" (apply-extensionality)
                              (("1"
                                (hide 2)
                                (("1"
                                  (expand count)
                                  (("1"
                                    (case "pos!1 = x!1")
                                    (("1"
                                      (assert)
                                      (("1"
                                        (case-replace
                                         "{i: below(num_non_terminals) |
                                                                                                                push?(St`scaf(x!1) WITH [(cur) := good(1 + max(d1, d2), sp2 + sp)](i))} = remove(cur, {i_1: below(num_non_terminals) | push?(St`scaf(x!1)(i_1))})")
                                        (("1"
                                          (rewrite card_remove)
                                          (("1"
                                            (hide -1)
                                            (("1"
                                              (lift-if +)
                                              (("1"
                                                (ground)
                                                (("1" (grind) nil nil))
                                                nil))
                                              nil))
                                            nil)
                                           ("2"
                                            (hide -1 2)
                                            (("2"
                                              (rewrite "count_TCC1")
                                              nil
                                              nil))
                                            nil))
                                          nil)
                                         ("2"
                                          (hide 2)
                                          (("2"
                                            (apply-extensionality)
                                            (("1"
                                              (hide 2)
                                              (("1"
                                                (hide -3 -4 -6)
                                                (("1" (grind) nil nil))
                                                nil))
                                              nil)
                                             ("2"
                                              (hide 2)
                                              (("2"
                                                (typepred
                                                 "St`scaf(pos!1)(n1)")
                                                (("2"
                                                  (typepred
                                                   "St`scaf(pos!1 + sp)(n2)")
                                                  (("2"
                                                    (grind)
                                                    nil
                                                    nil))
                                                  nil))
                                                nil))
                                              nil)
                                             ("3"
                                              (skeep*)
                                              (("3"
                                                (use step_TCC49)
                                                (("3"
                                                  (ground)
                                                  (("3"
                                                    (inst?)
                                                    (("3"
                                                      (inst?)
                                                      (("3"
                                                        (inst?)
                                                        (("3"
                                                          (ground)
                                                          nil
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil)
                                             ("4"
                                              (hide -6 2)
                                              (("4"
                                                (typepred
                                                 "St`scaf(pos!1)(n1)")
                                                (("4"
                                                  (typepred
                                                   "St`scaf(pos!1 + sp)(n2)")
                                                  (("4"
                                                    (skeep*)
                                                    (("4"
                                                      (use step_TCC48)
                                                      (("4"
                                                        (ground)
                                                        (("4"
                                                          (inst?)
                                                          (("4"
                                                            (inst?)
                                                            (("4"
                                                              (inst?)
                                                              (("4"
                                                                (ground)
                                                                nil
                                                                nil))
                                                              nil))
                                                            nil))
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil)
                                         ("3"
                                          (skeep*)
                                          (("3"
                                            (typepred
                                             "St`scaf(pos!1)(n1)")
                                            (("3"
                                              (typepred
                                               "St`scaf(pos!1 + sp)(n2)")
                                              (("3" (grind) nil nil))
                                              nil))
                                            nil))
                                          nil)
                                         ("4"
                                          (skeep*)
                                          (("4"
                                            (use step_TCC49)
                                            (("4"
                                              (ground)
                                              (("4"
                                                (inst?)
                                                (("4"
                                                  (inst?)
                                                  (("4"
                                                    (inst?)
                                                    (("4"
                                                      (ground)
                                                      nil
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil)
                                         ("5"
                                          (skeep*)
                                          (("5"
                                            (use step_TCC48)
                                            (("5"
                                              (ground)
                                              (("5"
                                                (inst?)
                                                (("5"
                                                  (inst?)
                                                  (("5"
                                                    (inst?)
                                                    (("5"
                                                      (ground)
                                                      nil
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil)
                                     ("2" (assert) nil nil))
                                    nil))
                                  nil))
                                nil)
                               ("2"
                                (expand count)
                                (("2"
                                  (use
                                   "nonempty_card[below(num_non_terminals)]")
                                  (("1" (grind) nil nil)
                                   ("2" (rewrite count_TCC1) nil nil))
                                  nil))
                                nil)
                               ("3"
                                (hide 2)
                                (("3"
                                  (typepred "St`scaf(pos!1)(n1)")
                                  (("3"
                                    (typepred
                                     "St`scaf(pos!1 + sp)(n2)")
                                    (("3" (grind) nil nil))
                                    nil))
                                  nil))
                                nil)
                               ("4"
                                (hide 2)
                                (("4"
                                  (use step_TCC49)
                                  (("4"
                                    (ground)
                                    (("4"
                                      (inst?)
                                      (("4"
                                        (inst?)
                                        (("4"
                                          (inst?)
                                          (("4" (ground) nil nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil)
                               ("5"
                                (hide 2)
                                (("5"
                                  (use step_TCC48)
                                  (("5"
                                    (ground)
                                    (("5"
                                      (inst?)
                                      (("5"
                                        (inst?)
                                        (("5"
                                          (inst?)
                                          (("5" (ground) nil nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil)
                           ("3" (hide -1 3)
                            (("3" (expand count)
                              (("3"
                                (use
                                 "nonempty_card[below(num_non_terminals)]")
                                (("1" (grind) nil nil)
                                 ("2" (rewrite count_TCC1) nil nil))
                                nil))
                              nil))
                            nil)
                           ("4" (hide -1 3)
                            (("4" (typepred "St`scaf(pos!1)(n1)")
                              (("4"
                                (typepred "St`scaf(pos!1 + sp)(n2)")
                                (("4" (grind) nil nil))
                                nil))
                              nil))
                            nil)
                           ("5" (hide -1 3)
                            (("5" (use step_TCC49)
                              (("5"
                                (ground)
                                (("5"
                                  (inst?)
                                  (("5"
                                    (inst?)
                                    (("5"
                                      (inst?)
                                      (("5" (ground) nil nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil)
                           ("6" (hide -1 3)
                            (("6" (use step_TCC48)
                              (("6"
                                (ground)
                                (("6"
                                  (inst?)
                                  (("6"
                                    (inst?)
                                    (("6"
                                      (inst?)
                                      (("6" (ground) nil nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil)
                     ("2" (hide 2)
                      (("2" (expand count)
                        (("2"
                          (use "nonempty_card[below(num_non_terminals)]")
                          (("1" (grind) nil nil)
                           ("2" (rewrite count_TCC1) nil nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (arr type-eq-decl nil arrayCount nil)
    (count_TCC1 subtype-tcc nil arrayCount nil))
   nil
   (step subtype "(number_fields.-)(cstopdown.depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good((number_fields.+)(1, real_defs.max(cstopdown.d1, cstopdown.d2)), (number_fields.+)(cstopdown.sp, cstopdown.sp2))]))")))
 (step_TCC53 0
  (step_TCC40-1 nil 3804455654
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred rest)
        (("1" (typepred stack)
          (("1" (expand good_stack?) (("1" (grind) nil nil)) nil))
          nil))
        nil)
       ("2" (lemma good_mem_stack)
        (("2"
          (inst - G "depth - 1" len scaf stack rest
           "good(1 + max(d1, d2), sp2 + sp)")
          (("1" (ground)
            (("1" (hide 2)
              (("1" (typepred stack)
                (("1" (expand good_stack? -)
                  (("1" (ground) (("1" (grind) nil nil)) nil)) nil))
                nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil)
             ("3" (typepred stack)
              (("3" (expand fine_stack? -)
                (("3" (ground) (("3" (grind) nil nil)) nil)) nil))
              nil)
             ("4" (typepred stack) (("4" (grind) nil nil)) nil))
            nil)
           ("2" (hide 2)
            (("2" (typepred "stack")
              (("2" (typepred "St`scaf(pos!1)(n1)")
                (("2" (typepred "St`scaf(pos!1 + sp)(n2)")
                  (("2" (grind) nil nil)) nil))
                nil))
              nil))
            nil)
           ("3" (use step_TCC52)
            (("3" (ground)
              (("3" (inst?)
                (("3" (inst?)
                  (("3" (inst?) (("3" (ground) nil nil)) nil)) nil))
                nil))
              nil))
            nil))
          nil))
        nil)
       ("3" (typepred stack)
        (("3" (expand fine_stack? -)
          (("3" (ground)
            (("1" (grind) nil nil)
             ("2" (lemma fine_mem_stack)
              (("2" (ground)
                (("2" (expand good_stack? -)
                  (("2"
                    (inst - G "depth - 1" len scaf stack rest
                     "good(1 + max(d1, d2), sp2 + sp)")
                    (("1" (ground)
                      (("1" (expand good_stack? -)
                        (("1" (propax) nil nil)) nil)
                       ("2" (grind) nil nil) ("3" (grind) nil nil)
                       ("4" (grind) nil nil) ("5" (grind) nil nil)
                       ("6" (grind) nil nil) ("7" (grind) nil nil)
                       ("8" (grind) nil nil) ("9" (grind) nil nil)
                       ("10" (grind) nil nil))
                      nil)
                     ("2" (typepred "St`scaf(pos!1)(n1)")
                      (("2" (typepred "St`scaf(pos!1 + sp)(n2)")
                        (("2" (grind) nil nil)) nil))
                      nil)
                     ("3" (grind) nil nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.rest"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good((number_fields.+)(1, real_defs.max(cstopdown.d1, cstopdown.d2)), (number_fields.+)(cstopdown.sp, cstopdown.sp2))]))")))
 (step_TCC54 0
  (step_TCC81-1 nil 3804455654
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred lflag)
        (("1" (assert)
          (("1" (hide -2)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (typepred lflag)
        (("2" (assert)
          (("2" (hide -1) (("2" (lazy-grind) nil nil)) nil)) nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.St`lflag"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.nt(cstopdown.rest) = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good((number_fields.+)(1, real_defs.max(cstopdown.d1, cstopdown.d2)), (number_fields.+)(cstopdown.sp2, cstopdown.sp))], cstopdown.pos(cstopdown.rest), cstopdown.nt(cstopdown.rest))) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good((number_fields.+)(1, real_defs.max(cstopdown.d1, cstopdown.d2)), (number_fields.+)(cstopdown.sp2, cstopdown.sp))](i)(cstopdown.n))) ENDIF}")))
 (step_TCC55 0
  (step_TCC45-1 nil 3804455654 ("" (subtype-tcc) nil nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (count const-decl "upto(len)" arrayCount nil))
   nil
   (step subtype "cstopdown.St`stack"
         "(cstopdown.nice_entry?(cstopdown.len, (number_fields.+)(cstopdown.pos, cstopdown.sp)))")))
 (step_TCC56 0
  (step_TCC46-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack)
                (("2" (hide 2)
                  (("2" (expand fine_entry?)
                    (("2" (typepred "St`scaf(pos!1 + sp)(n2)")
                      (("2" (grind) nil nil)) nil))
                    nil))
                  nil))
                nil)
               ("3" (hide 2)
                (("3" (skeep*)
                  (("3" (typepred lflag)
                    (("3" (case lflag)
                      (("1" (assert)
                        (("1" (hide -3)
                          (("1" (ground)
                            (("1" (grind) nil nil)
                             ("2" (hide -5) (("2" (grind) nil nil))
                              nil))
                            nil))
                          nil))
                        nil)
                       ("2" (assert)
                        (("2" (hide -1) (("2" (inst?) nil nil)) nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (hide 2)
              (("2" (hide -2)
                (("2" (typepred stack) (("2" (grind) nil nil)) nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma def-decl "real" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [((number_fields.+)(cstopdown.pos, cstopdown.sp))(cstopdown.n2) := cstopdown.St`stack]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC57 0
  (step_TCC49-1 nil 3804455654
   ("" (skeep*)
    (("" (split +)
      (("1" (typepred depth)
        (("1" (expand good_depth?)
          (("1" (expand pushcount)
            (("1" (use scafcount_max)
              (("1" (assert)
                (("1" (use exp2_lt :subst (n 41 m 64))
                  (("1" (ground) (("1" (grind) nil nil)) nil)) nil))
                nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (expand "good_depth?")
        (("2" (expand pushcount)
          (("2" (rewrite scafcount_update)
            (("1" (lift-if)
              (("1" (ground)
                (("1" (typepred "St`scaf(pos!1)(n1)")
                  (("1" (grind) nil nil)) nil)
                 ("2" (typepred depth)
                  (("2" (grind :exclude (max scafcount)) nil nil)) nil)
                 ("3" (typepred stack) (("3" (grind) nil nil)) nil))
                nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil))
   nil
   (step subtype "(number_fields.+)(cstopdown.St`depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [((number_fields.+)(cstopdown.pos, cstopdown.sp))(cstopdown.n2) := cstopdown.St`stack]))")))
 (step_TCC58 0
  (step_TCC50-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred "St`scaf(pos!1)(n1)")
      (("" (typepred "St`scaf(pos!1 + sp)(n2)")
        (("" (typepred len) (("" (grind) nil nil)) nil)) nil))
      nil))
    nil)
   nil nil
   (step subtype "(number_fields.+)(cstopdown.pos, cstopdown.sp)"
         "uint32")))
 (step_TCC59 0
  (step_TCC65-1 nil 3804455654
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred "St`scaf(pos!1)(n1)") (("1" (grind) nil nil))
        nil)
       ("2" (lemma good_mem_stack)
        (("2" (expand good_stack? +)
          (("2" (ground)
            (("1" (hide -1) (("1" (grind) nil nil)) nil)
             ("2"
              (inst - G "depth" len scaf "push(pos!1 + sp, n2)" "stack"
               stack)
              (("1" (ground)
                (("1" (hide 2)
                  (("1" (typepred "St`scaf(pos!1)(n1)")
                    (("1" (grind) nil nil)) nil))
                  nil)
                 ("2" (use mem_stack_push) (("2" (ground) nil nil))
                  nil)
                 ("3" (hide 2) (("3" (grind) nil nil)) nil))
                nil)
               ("2" (hide 2)
                (("2" (typepred stack) (("2" (grind) nil nil)) nil))
                nil)
               ("3" (hide 2)
                (("3" (typepred "St`scaf(pos!1)(n1)")
                  (("3" (grind) nil nil)) nil))
                nil)
               ("4" (typepred "St`scaf(pos!1)(n1)")
                (("4" (typepred len) (("4" (grind) nil nil)) nil))
                nil))
              nil))
            nil))
          nil))
        nil)
       ("3" (expand fine_stack? +)
        (("3" (ground)
          (("1" (lemma mem_mem_stack)
            (("1" (inst - G depth len scaf _ _ _ _)
              (("1"
                (inst - "push(pos!1 + sp, n2)" "push(pos!1 + sp, n2)"
                 stack stack)
                (("1" (ground)
                  (("1" (use mem_stack_push) (("1" (ground) nil nil))
                    nil)
                   ("2" (typepred "St`scaf(pos!1)(n1)")
                    (("2" (grind) nil nil)) nil)
                   ("3" (typepred "St`scaf(pos!1)(n1)")
                    (("3" (grind) nil nil)) nil)
                   ("4" (use mem_stack_push) (("4" (ground) nil nil))
                    nil)
                   ("5" (typepred "St`scaf(pos!1)(n1)")
                    (("5" (grind) nil nil)) nil))
                  nil)
                 ("2" (typepred stack) (("2" (grind) nil nil)) nil)
                 ("3" (typepred "St`scaf(pos!1)(n1)")
                  (("3" (grind) nil nil)) nil))
                nil))
              nil))
            nil)
           ("2"
            (use fine_mem_stack :subst
                 (len len entry "push(pos!1 + sp, n2)"))
            (("1" (ground)
              (("1" (hide 2)
                (("1" (typepred "St`scaf(pos!1)(n1)")
                  (("1" (grind) nil nil)) nil))
                nil)
               ("2" (use mem_stack_push) (("2" (ground) nil nil)) nil)
               ("3" (grind) nil nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil)
             ("3" (typepred "St`scaf(pos!1)(n1)")
              (("3" (grind) nil nil)) nil)
             ("4" (typepred "St`scaf(pos!1)(n1)")
              (("4" (typepred len) (("4" (grind) nil nil)) nil)) nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype
         "cstopdown.push((number_fields.+)(cstopdown.pos, cstopdown.sp), cstopdown.n2)"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.+)(cstopdown.St`depth, 1), cstopdown.St`scaf WITH [((number_fields.+)(cstopdown.pos, cstopdown.sp))(cstopdown.n2) := cstopdown.St`stack]))")))
 (step_TCC60 0
  (step_TCC82-1 nil 3804455654
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred lflag)
        (("1" (assert)
          (("1" (hide -2)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (typepred lflag)
        (("2" (assert)
          (("2" (hide -1)
            (("2" (skeep*)
              (("2" (lift-if)
                (("2" (ground)
                  (("1" (lift-if)
                    (("1" (ground)
                      (("1" (typepred stack) (("1" (grind) nil nil))
                        nil)
                       ("2" (inst?) nil nil))
                      nil))
                    nil)
                   ("2" (inst?) nil nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.St`lflag"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.n2 = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [((number_fields.+)(cstopdown.pos, cstopdown.sp))(cstopdown.n2) := cstopdown.St`stack], (number_fields.+)(cstopdown.pos, cstopdown.sp), cstopdown.n2)) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [((number_fields.+)(cstopdown.pos, cstopdown.sp))(cstopdown.n2) := cstopdown.St`stack](i)(cstopdown.n))) ENDIF}")))
 (step_TCC61 0
  (step_TCC28-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (step subtype "cstopdown.loop"
         "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (step_TCC62 0
  (step_TCC29-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack)
                (("2" (hide 2)
                  (("2" (expand fine_entry?)
                    (("2" (typepred "St`scaf(pos!1 + sp)(n2)")
                      (("2" (grind) nil nil)) nil))
                    nil))
                  nil))
                nil)
               ("3" (hide 2)
                (("3" (skeep*)
                  (("3" (typepred lflag)
                    (("3" (case lflag)
                      (("1" (assert)
                        (("1" (hide -3)
                          (("1" (ground) (("1" (grind) nil nil)) nil))
                          nil))
                        nil)
                       ("2" (hide -5) (("2" (grind) nil nil)) nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (assert) (("2" (hide 2) (("2" (grind) nil nil)) nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC63 0
  (step_TCC26-1 nil 3804455654
   ("" (skeep*)
    (("" (split +)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred depth) (("2" (grind) nil nil)) nil)
       ("3" (typepred depth)
        (("3" (typepred stack)
          (("3" (expand good_depth?)
            (("3" (expand pushcount)
              (("3" (expand scafcount)
                (("3" (use sigma_dec)
                  (("3" (ground)
                    (("1" (lift-if -1)
                      (("1" (ground)
                        (("1" (typepred "St`scaf(pos!1)(n1)")
                          (("1" (grind :exclude sigma) nil nil)) nil)
                         ("2"
                          (case-replace "(LAMBDA (i: upto(len)):
                                                                               count(num_non_terminals)(push?)
                                                                                    (St`scaf WITH [(pos!1)(cur) := loop](i))) = ((LAMBDA (i: upto(len)):
                                                                               count(num_non_terminals)(push?)(St`scaf(i)))
                                                                              WITH [(pos!1)
                                                                                      := count(num_non_terminals)(push?)(St`scaf(pos!1)) -
                                                                                          1])")
                          (("1" (hide -1)
                            (("1" (replace -1 :hide? t)
                              (("1" (assert) nil nil)) nil))
                            nil)
                           ("2" (hide -1 3)
                            (("2" (apply-extensionality :hide? t)
                              (("1"
                                (expand count)
                                (("1"
                                  (case "pos!1 = x!1")
                                  (("1"
                                    (assert)
                                    (("1"
                                      (case-replace
                                       "{i: below(num_non_terminals) |
                                                                                                                              push?(St`scaf(x!1) WITH [(cur) := loop](i))} = remove(cur, {i_1: below(num_non_terminals) | push?(St`scaf(x!1)(i_1))})")
                                      (("1"
                                        (rewrite card_remove)
                                        (("1"
                                          (hide -1)
                                          (("1"
                                            (lift-if +)
                                            (("1"
                                              (ground)
                                              (("1" (grind) nil nil))
                                              nil))
                                            nil))
                                          nil)
                                         ("2"
                                          (hide -1 2)
                                          (("2"
                                            (rewrite "count_TCC1")
                                            nil
                                            nil))
                                          nil))
                                        nil)
                                       ("2"
                                        (hide 2)
                                        (("2"
                                          (apply-extensionality)
                                          (("1"
                                            (hide 2)
                                            (("1"
                                              (hide -3 -4 -6)
                                              (("1" (grind) nil nil))
                                              nil))
                                            nil)
                                           ("2"
                                            (hide 2)
                                            (("2" (grind) nil nil))
                                            nil))
                                          nil))
                                        nil)
                                       ("3" (grind) nil nil))
                                      nil))
                                    nil)
                                   ("2" (assert) nil nil))
                                  nil))
                                nil)
                               ("2"
                                (expand count)
                                (("2"
                                  (use
                                   "nonempty_card[below(num_non_terminals)]")
                                  (("1" (grind) nil nil)
                                   ("2" (rewrite count_TCC1) nil nil))
                                  nil))
                                nil)
                               ("3" (grind) nil nil))
                              nil))
                            nil)
                           ("3" (expand count)
                            (("3"
                              (use "nonempty_card[below(num_non_terminals)]")
                              (("1" (grind) nil nil)
                               ("2" (rewrite count_TCC1) nil nil))
                              nil))
                            nil)
                           ("4" (grind) nil nil))
                          nil))
                        nil))
                      nil)
                     ("2" (expand count)
                      (("2"
                        (use "nonempty_card[below(num_non_terminals)]")
                        (("1" (grind) nil nil)
                         ("2" (rewrite count_TCC1) nil nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (arr type-eq-decl nil arrayCount nil)
    (count_TCC1 subtype-tcc nil arrayCount nil))
   nil
   (step subtype "(number_fields.-)(cstopdown.depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop]))")))
 (step_TCC64 0
  (step_TCC27-1 nil 3804455654
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred "St`scaf(pos!1)(n1)")
        (("1" (typepred stack) (("1" (grind) nil nil)) nil)) nil)
       ("2" (lemma good_mem_stack)
        (("2"
          (inst - G "depth - 1" len scaf "push(pos!1, cur)" "rest"
           loop)
          (("1" (ground)
            (("1" (hide 2)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)) nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil)
             ("3" (typepred "St`stack")
              (("3" (expand "fine_stack?")
                (("3" (ground)
                  (("1" (grind :exclude mem_stack) nil nil)
                   ("2" (hide -1)
                    (("2" (replace -8)
                      (("2" (replace -9)
                        (("2" (replace -5)
                          (("2"
                            (case-replace
                             "push(pos(St`stack), nt(St`stack)) = St`stack")
                            (("1"
                              (case-replace
                               "St`scaf(pos(St`stack))(nt(St`stack)) = rest")
                              (("1" (assert) nil nil)
                               ("2" (assert) nil nil))
                              nil)
                             ("2" (apply-extensionality 1) nil nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil)
             ("4" (typepred stack) (("4" (grind) nil nil)) nil))
            nil)
           ("2" (grind) nil nil)
           ("3" (typepred stack) (("3" (grind) nil nil)) nil)
           ("4" (typepred stack) (("4" (grind) nil nil)) nil))
          nil))
        nil)
       ("3" (lemma fine_mem_stack)
        (("3"
          (inst - G "depth - 1" len scaf "push(pos!1, cur)" "rest"
           loop)
          (("1" (ground)
            (("1" (hide 2)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)) nil)
             ("2" (hide 2)
              (("2" (typepred stack) (("2" (grind) nil nil)) nil)) nil)
             ("3" (hide 2)
              (("3" (typepred stack) (("3" (grind) nil nil)) nil)) nil)
             ("4" (typepred stack)
              (("4" (hide 1)
                (("4" (expand "fine_stack?")
                  (("4" (ground)
                    (("1" (typepred stack) (("1" (grind) nil nil)) nil)
                     ("2"
                      (case-replace
                       "St`scaf(pos(stack))(nt(stack)) = rest")
                      (("1"
                        (case-replace "push(pos!1, cur) = St`stack")
                        (("1" (assert) nil nil)
                         ("2" (apply-extensionality 1)
                          (("2" (grind) nil nil)) nil))
                        nil)
                       ("2" (assert) nil nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil)
             ("5" (typepred stack) (("5" (grind) nil nil)) nil))
            nil)
           ("2" (grind) nil nil)
           ("3" (typepred stack) (("3" (grind) nil nil)) nil)
           ("4" (typepred stack) (("4" (grind) nil nil)) nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.rest"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop]))")))
 (step_TCC65 0
  (step_TCC103-1 nil 3804706560
   ("" (skeep*)
    (("" (typepred stack) (("" (grind :exclude mem_stack?) nil nil))
      nil))
    nil)
   nil nil
   (step subtype "booleans.TRUE"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.nt(cstopdown.rest) = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop], cstopdown.pos(cstopdown.rest), cstopdown.nt(cstopdown.rest))) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop](i)(cstopdown.n))) ENDIF}")))
 (step_TCC66 0
  (step_TCC95-1 nil 3804455654 ("" (subtype-tcc) nil nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (count const-decl "upto(len)" arrayCount nil))
   nil
   (step subtype "cstopdown.stack"
         "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (step_TCC67 0
  (step_TCC77-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack)
                (("2" (hide 2)
                  (("2" (expand fine_entry?) (("2" (grind) nil nil))
                    nil))
                  nil))
                nil)
               ("3" (hide 2)
                (("3" (skeep*)
                  (("3" (typepred lflag)
                    (("3" (case lflag)
                      (("1" (assert)
                        (("1" (hide -3) (("1" (grind) nil nil)) nil))
                        nil)
                       ("2" (assert) (("2" (inst?) nil nil)) nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.n1) := cstopdown.stack]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC68 0
  (step_TCC78-1 nil 3804455654
   ("" (skeep*)
    (("" (split)
      (("1" (typepred stack)
        (("1" (typepred depth)
          (("1" (expand good_depth?)
            (("1" (expand pushcount)
              (("1" (use scafcount_max)
                (("1" (assert)
                  (("1" (use exp2_lt :subst (n 41 m 64))
                    (("1" (ground) (("1" (grind) nil nil)) nil)) nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (expand "good_depth?")
        (("2" (expand pushcount)
          (("2" (rewrite scafcount_update)
            (("1" (lift-if)
              (("1" (ground)
                (("1" (typepred stack) (("1" (grind) nil nil)) nil)
                 ("2" (typepred depth)
                  (("2" (grind :exclude scafcount) nil nil)) nil)
                 ("3" (typepred stack) (("3" (grind) nil nil)) nil))
                nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((count const-decl "upto(len)" arrayCount nil)
    (sigma def-decl "real" sigma reals)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype "(number_fields.+)(cstopdown.depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.n1) := cstopdown.stack]))")))
 (step_TCC69 0
  (step_TCC94-1 nil 3804455654
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred stack)
        (("2" (expand "good_stack?" +)
          (("2" (ground)
            (("1" (grind) nil nil)
             ("2" (lemma good_mem_stack)
              (("2"
                (inst - G "depth" len scaf "push(pos!1, n1)" "stack"
                 stack)
                (("1" (ground)
                  (("1" (grind) nil nil)
                   ("2" (use mem_stack_push) (("2" (ground) nil nil))
                    nil)
                   ("3" (grind) nil nil))
                  nil)
                 ("2" (grind) nil nil) ("3" (grind) nil nil))
                nil))
              nil))
            nil))
          nil))
        nil)
       ("3" (expand fine_stack? +)
        (("3" (ground)
          (("1" (lemma mem_mem_stack)
            (("1" (inst - G depth len scaf _ _ _ _)
              (("1"
                (inst - "push(pos!1, n1)" "push(pos!1, n1)" stack
                 stack)
                (("1" (ground)
                  (("1" (hide -2)
                    (("1" (use mem_stack_push) (("1" (ground) nil nil))
                      nil))
                    nil)
                   ("2" (typepred stack) (("2" (grind) nil nil)) nil)
                   ("3" (typepred stack) (("3" (grind) nil nil)) nil)
                   ("4" (use mem_stack_push) (("4" (ground) nil nil))
                    nil)
                   ("5" (typepred stack) (("5" (grind) nil nil)) nil))
                  nil)
                 ("2" (typepred stack) (("2" (grind) nil nil)) nil)
                 ("3" (typepred stack) (("3" (grind) nil nil)) nil))
                nil))
              nil))
            nil)
           ("2"
            (use fine_mem_stack :subst
                 (len len entry "push(pos!1, n1)" u stack stack stack))
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (use mem_stack_push) (("2" (ground) nil nil)) nil)
               ("3" (grind) nil nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil)
             ("3" (grind)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack) (("2" (grind) nil nil)) nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.push(cstopdown.pos, cstopdown.n1)"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.+)(cstopdown.depth, 1), cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.n1) := cstopdown.stack]))")))
 (step_TCC70 0
  (step_TCC104-1 nil 3804706560
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred lflag)
        (("1" (assert)
          (("1" (hide -2)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (typepred lflag)
        (("2" (assert)
          (("2" (hide -1)
            (("2" (skeep*)
              (("2" (lift-if)
                (("2" (ground)
                  (("1" (lift-if)
                    (("1" (ground)
                      (("1" (typepred stack) (("1" (grind) nil nil))
                        nil)
                       ("2" (inst?) nil nil))
                      nil))
                    nil)
                   ("2" (inst?) nil nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.St`lflag"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.n1 = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.n1) := cstopdown.stack], cstopdown.pos, cstopdown.n1)) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.n1) := cstopdown.stack](i)(cstopdown.n))) ENDIF}")))
 (step_TCC71 0
  (step_TCC37-1 nil 3804455654 ("" (grind) nil nil) nil nil
   (step subtype "cstopdown.loop"
         "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (step_TCC72 0
  (step_TCC38-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack)
                (("2" (hide 2)
                  (("2" (expand fine_entry?) (("2" (grind) nil nil))
                    nil))
                  nil))
                nil)
               ("3" (hide 2)
                (("3" (skeep*)
                  (("3" (typepred lflag)
                    (("3" (case lflag)
                      (("1" (assert)
                        (("1" (hide -3) (("1" (grind) nil nil)) nil))
                        nil)
                       ("2" (assert) (("2" (inst?) nil nil)) nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC73 0
  (step_TCC35-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred stack)
      (("" (typepred depth)
        (("" (expand good_depth?)
          (("" (expand pushcount)
            (("" (use scafcount_max)
              (("" (assert)
                (("" (use exp2_lt :subst (n 41 m 64))
                  (("" (ground)
                    (("1" (grind) nil nil)
                     ("2" (rewrite scafcount_update)
                      (("1" (lift-if)
                        (("1" (ground)
                          (("1" (typepred stack)
                            (("1" (grind) nil nil)) nil)
                           ("2" (typepred depth)
                            (("2" (grind :exclude scafcount) nil nil))
                            nil))
                          nil))
                        nil)
                       ("2" (typepred stack) (("2" (grind) nil nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype "(number_fields.-)(cstopdown.depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop]))")))
 (step_TCC74 0
  (step_TCC36-1 nil 3804455654
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred stack)
        (("2" (lemma good_mem_stack)
          (("2"
            (inst - G "depth - 1" len scaf "push(pos!1, cur)" "rest"
             loop)
            (("1" (ground)
              (("1" (hide 2) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil)
               ("3" (hide 1)
                (("3" (expand "fine_stack?")
                  (("3" (ground)
                    (("1" (grind) nil nil)
                     ("2" (case-replace "push(pos!1, cur) = stack")
                      (("1" (assert) nil nil)
                       ("2" (apply-extensionality) nil nil))
                      nil))
                    nil))
                  nil))
                nil)
               ("4" (grind) nil nil))
              nil)
             ("2" (grind) nil nil) ("3" (grind) nil nil)
             ("4" (grind) nil nil))
            nil))
          nil))
        nil)
       ("3"
        (use fine_mem_stack :subst
             (len len entry "push(pos!1, cur)" u loop stack rest))
        (("1" (ground)
          (("1" (hide 2)
            (("1" (typepred stack) (("1" (grind) nil nil)) nil)) nil)
           ("2" (typepred stack) (("2" (grind) nil nil)) nil)
           ("3" (hide 2)
            (("3" (typepred stack) (("3" (grind) nil nil)) nil)) nil)
           ("4" (typepred stack)
            (("4" (hide 1)
              (("4" (expand fine_stack?)
                (("4" (ground)
                  (("1" (grind) nil nil)
                   ("2" (case-replace "push(pos!1, cur) = stack")
                    (("1" (assert) nil nil)
                     ("2" (apply-extensionality) nil nil))
                    nil))
                  nil))
                nil))
              nil))
            nil)
           ("5" (typepred stack) (("5" (grind) nil nil)) nil))
          nil)
         ("2" (typepred stack) (("2" (grind) nil nil)) nil)
         ("3" (grind) nil nil)
         ("4" (typepred stack) (("4" (grind) nil nil)) nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.rest"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop]))")))
 (step_TCC75 0
  (step_TCC98-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred stack)
      (("" (expand good_stack?)
        (("" (ground)
          (("1" (grind) nil nil)
           ("2" (grind :exclude (good_stack? fine_stack? mem_stack?))
            nil nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "booleans.TRUE"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.nt(cstopdown.rest) = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop], cstopdown.pos(cstopdown.rest), cstopdown.nt(cstopdown.rest))) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop](i)(cstopdown.n))) ENDIF}")))
 (step_TCC76 0
  (step_TCC84-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred scaf)
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("" (expand "good_tscaffold?")
            (("" (inst-cp - pos!1 n1)
              (("" (inst - pos!1 n2)
                (("" (ground)
                  (("1" (expand gfcount)
                    (("1" (use "sigma_max")
                      (("1" (ground)
                        (("1"
                          (case "len * num_non_terminals + num_non_terminals < exp2(64) - 2")
                          (("1" (assert)
                            (("1"
                              (name-replace lnn
                               "len * num_non_terminals + num_non_terminals")
                              (("1"
                                (assert)
                                (("1"
                                  (case-replace
                                   "dep(scaf(pos!1)(n2)) = d2")
                                  (("1"
                                    (case-replace
                                     "dep(scaf(pos!1)(n1)) = d1")
                                    (("1"
                                      (assert)
                                      (("1" (grind) nil nil))
                                      nil)
                                     ("2" (grind) nil nil))
                                    nil)
                                   ("2" (grind) nil nil))
                                  nil))
                                nil))
                              nil))
                            nil)
                           ("2" (assert)
                            (("2"
                              (case "len * num_non_terminals <= exp2(46)")
                              (("1"
                                (assert)
                                (("1" (grind) nil nil))
                                nil)
                               ("2"
                                (use
                                 "lt_times_lt_pos1"
                                 :subst
                                 (px
                                  len
                                  nnz
                                  num_non_terminals
                                  y
                                  "exp2(32)"
                                  w
                                  "exp2(8)"))
                                (("1"
                                  (hide-all-but (-1 1))
                                  (("1"
                                    (grind)
                                    (("1"
                                      (typepred len)
                                      (("1" (grind) nil nil))
                                      nil))
                                    nil))
                                  nil)
                                 ("2" (assert) nil nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil)
                   ("2" (grind) nil nil) ("3" (grind) nil nil)
                   ("4" (grind) nil nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma def-decl "real" sigma reals))
   nil
   (step subtype
         "(number_fields.+)(real_defs.max(cstopdown.d1, cstopdown.d2), 1)"
         "uint64")))
 (step_TCC77 0
  (step_TCC92-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (step subtype
         "cstopdown.fail((number_fields.+)(real_defs.max(cstopdown.d1, cstopdown.d2), 1))"
         "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (step_TCC78 0
  (step_TCC93-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack) (("2" (grind) nil nil)) nil)
               ("3" (typepred lflag)
                (("3" (skeep*)
                  (("3" (ground)
                    (("1" (inst?) nil nil) ("2" (grind) nil nil)
                     ("3" (inst?) nil nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (hide -2 2)
              (("2" (typepred stack) (("2" (grind) nil nil)) nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail((number_fields.+)(real_defs.max(cstopdown.d1, cstopdown.d2), 1))]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC79 0
  (step_TCC53-1 nil 3804455654
   ("" (skeep*)
    (("" (split +)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred depth) (("2" (grind) nil nil)) nil)
       ("3" (typepred depth)
        (("3" (typepred stack)
          (("3" (expand good_depth?)
            (("3" (expand pushcount)
              (("3" (expand scafcount)
                (("3" (use sigma_dec)
                  (("3" (ground)
                    (("1" (lift-if -1)
                      (("1" (ground)
                        (("1" (grind) nil nil)
                         ("2"
                          (case-replace "(LAMBDA (i: upto(len)):
                                                                               count(num_non_terminals)(push?)
                                                                                    (St`scaf WITH [(pos!1)(cur) := fail(1 + max(d1, d2))](i))) = ((LAMBDA (i: upto(len)):
                                                                               count(num_non_terminals)(push?)(St`scaf(i)))
                                                                              WITH [(pos!1)
                                                                                      := count(num_non_terminals)(push?)(St`scaf(pos!1)) -
                                                                                          1])")
                          (("1" (hide -1) (("1" (assert) nil nil)) nil)
                           ("2" (hide -1 3)
                            (("2" (apply-extensionality)
                              (("1"
                                (hide 2)
                                (("1"
                                  (expand count)
                                  (("1"
                                    (case "pos!1 = x!1")
                                    (("1"
                                      (assert)
                                      (("1"
                                        (case-replace
                                         "{i: below(num_non_terminals) |
                                                                                                                              push?(St`scaf(x!1) WITH [(cur) := fail(1 + max(d1, d2))](i))} = remove(cur, {i_1: below(num_non_terminals) | push?(St`scaf(x!1)(i_1))})")
                                        (("1"
                                          (rewrite card_remove)
                                          (("1"
                                            (hide -1)
                                            (("1"
                                              (lift-if +)
                                              (("1"
                                                (ground)
                                                (("1" (grind) nil nil))
                                                nil))
                                              nil))
                                            nil)
                                           ("2"
                                            (hide -1 2)
                                            (("2"
                                              (rewrite "count_TCC1")
                                              nil
                                              nil))
                                            nil))
                                          nil)
                                         ("2"
                                          (hide 2)
                                          (("2"
                                            (apply-extensionality)
                                            (("1"
                                              (hide 2)
                                              (("1"
                                                (hide -3 -4 -6)
                                                (("1" (grind) nil nil))
                                                nil))
                                              nil)
                                             ("2"
                                              (hide 2)
                                              (("2"
                                                (typepred
                                                 "St`scaf(pos!1)(n1)")
                                                (("2" (grind) nil nil))
                                                nil))
                                              nil)
                                             ("3"
                                              (skeep*)
                                              (("3"
                                                (use step_TCC76)
                                                (("3"
                                                  (ground)
                                                  (("3"
                                                    (inst?)
                                                    (("3"
                                                      (inst?)
                                                      (("3"
                                                        (inst?)
                                                        (("3"
                                                          (ground)
                                                          nil
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil)
                                         ("3"
                                          (hide -6 2)
                                          (("3"
                                            (typepred
                                             "St`scaf(pos!1)(n1)")
                                            (("3"
                                              (typepred
                                               "St`scaf(pos!1)(n2)")
                                              (("3"
                                                (skeep*)
                                                (("3"
                                                  (use step_TCC77)
                                                  (("3"
                                                    (ground)
                                                    (("3"
                                                      (inst?)
                                                      (("3"
                                                        (inst?)
                                                        (("3"
                                                          (inst?)
                                                          (("3"
                                                            (ground)
                                                            (("3"
                                                              (typepred
                                                               "St`scaf(pos!1)(n1)")
                                                              (("3"
                                                                (typepred
                                                                 "St`scaf(pos!1)(n2)")
                                                                (("3"
                                                                  (grind)
                                                                  nil
                                                                  nil))
                                                                nil))
                                                              nil))
                                                            nil))
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil)
                                         ("4"
                                          (skeep*)
                                          (("4"
                                            (use step_TCC76)
                                            (("4"
                                              (ground)
                                              (("4"
                                                (inst?)
                                                (("4"
                                                  (inst?)
                                                  (("4"
                                                    (inst?)
                                                    (("4"
                                                      (ground)
                                                      nil
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil)
                                     ("2" (assert) nil nil))
                                    nil))
                                  nil))
                                nil)
                               ("2"
                                (expand count)
                                (("2"
                                  (use
                                   "nonempty_card[below(num_non_terminals)]")
                                  (("1" (grind) nil nil)
                                   ("2" (rewrite count_TCC1) nil nil))
                                  nil))
                                nil)
                               ("3"
                                (hide 2)
                                (("3"
                                  (typepred "St`scaf(pos!1)(n1)")
                                  (("3"
                                    (typepred "St`scaf(pos!1)(n2)")
                                    (("3" (grind) nil nil))
                                    nil))
                                  nil))
                                nil)
                               ("4"
                                (hide 2)
                                (("4"
                                  (use step_TCC76)
                                  (("4"
                                    (ground)
                                    (("4"
                                      (inst?)
                                      (("4"
                                        (inst?)
                                        (("4"
                                          (inst?)
                                          (("4" (ground) nil nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil)
                           ("3" (expand count)
                            (("3"
                              (use "nonempty_card[below(num_non_terminals)]")
                              (("1" (grind) nil nil)
                               ("2" (rewrite count_TCC1) nil nil))
                              nil))
                            nil)
                           ("4" (use step_TCC77)
                            (("4" (ground)
                              (("4"
                                (inst?)
                                (("4"
                                  (inst?)
                                  (("4"
                                    (inst?)
                                    (("4" (ground) nil nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil)
                           ("5" (hide -1 3)
                            (("5" (use step_TCC76)
                              (("5"
                                (ground)
                                (("5"
                                  (inst?)
                                  (("5"
                                    (inst?)
                                    (("5"
                                      (inst?)
                                      (("5" (ground) nil nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil)
                     ("2" (expand count)
                      (("2"
                        (use "nonempty_card[below(num_non_terminals)]")
                        (("1" (grind) nil nil)
                         ("2" (rewrite count_TCC1) nil nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (arr type-eq-decl nil arrayCount nil)
    (count_TCC1 subtype-tcc nil arrayCount nil))
   nil
   (step subtype "(number_fields.-)(cstopdown.depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail((number_fields.+)(real_defs.max(cstopdown.d1, cstopdown.d2), 1))]))")))
 (step_TCC80 0
  (step_TCC54-1 nil 3804455654
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred rest)
        (("1" (typepred stack)
          (("1" (expand good_stack?) (("1" (grind) nil nil)) nil))
          nil))
        nil)
       ("2" (lemma good_mem_stack)
        (("2"
          (inst - G "depth - 1" len scaf stack rest
           "fail(1 + max(d1, d2))")
          (("1" (ground)
            (("1" (hide 2)
              (("1" (typepred stack)
                (("1" (expand good_stack? -)
                  (("1" (ground) (("1" (grind) nil nil)) nil)) nil))
                nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil)
             ("3" (typepred stack)
              (("3" (expand fine_stack? -)
                (("3" (ground) (("3" (grind) nil nil)) nil)) nil))
              nil)
             ("4" (typepred stack) (("4" (grind) nil nil)) nil))
            nil)
           ("2" (hide 2)
            (("2" (typepred "stack")
              (("2" (typepred "St`scaf(pos!1)(n1)")
                (("2" (typepred "St`scaf(pos!1)(n2)")
                  (("2" (grind) nil nil)) nil))
                nil))
              nil))
            nil)
           ("3" (typepred stack) (("3" (grind) nil nil)) nil))
          nil))
        nil)
       ("3" (typepred stack)
        (("3" (expand fine_stack? -)
          (("3" (ground)
            (("1" (grind) nil nil)
             ("2" (lemma fine_mem_stack)
              (("2" (ground)
                (("2" (expand good_stack? -)
                  (("2"
                    (inst - G "depth - 1" len scaf stack rest
                     "fail(1 + max(d1, d2))")
                    (("1" (ground)
                      (("1" (expand good_stack? -)
                        (("1" (propax) nil nil)) nil)
                       ("2" (grind) nil nil) ("3" (grind) nil nil)
                       ("4" (grind) nil nil) ("5" (grind) nil nil)
                       ("6" (grind) nil nil) ("7" (grind) nil nil)
                       ("8" (grind) nil nil) ("9" (grind) nil nil)
                       ("10" (grind) nil nil))
                      nil)
                     ("2" (typepred "St`scaf(pos!1)(n1)")
                      (("2" (typepred "St`scaf(pos!1)(n2)")
                        (("2" (grind) nil nil)) nil))
                      nil)
                     ("3" (grind) nil nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.rest"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail((number_fields.+)(real_defs.max(cstopdown.d1, cstopdown.d2), 1))]))")))
 (step_TCC81 0
  (step_TCC96-1 nil 3804706560
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred lflag)
        (("1" (assert)
          (("1" (hide -2)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (typepred lflag)
        (("2" (assert)
          (("2" (hide -1) (("2" (lazy-grind) nil nil)) nil)) nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.St`lflag"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.nt(cstopdown.rest) = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail((number_fields.+)(1, real_defs.max(cstopdown.d1, cstopdown.d2)))], cstopdown.pos(cstopdown.rest), cstopdown.nt(cstopdown.rest))) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail((number_fields.+)(1, real_defs.max(cstopdown.d1, cstopdown.d2)))](i)(cstopdown.n))) ENDIF}")))
 (step_TCC82 0
  (step_TCC101-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred scaf)
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("" (expand "good_tscaffold?")
            (("" (inst-cp - pos!1 n1)
              (("" (inst - pos!1 n2)
                (("" (ground)
                  (("1" (expand gfcount)
                    (("1" (use "sigma_max")
                      (("1" (ground)
                        (("1"
                          (case "len * num_non_terminals + num_non_terminals < exp2(64) - 2")
                          (("1" (assert)
                            (("1"
                              (name-replace lnn
                               "len * num_non_terminals + num_non_terminals")
                              (("1"
                                (assert)
                                (("1"
                                  (case-replace
                                   "dep(scaf(pos!1)(n2)) = d2")
                                  (("1"
                                    (case-replace
                                     "dep(scaf(pos!1)(n1)) = d1")
                                    (("1"
                                      (assert)
                                      (("1" (grind) nil nil))
                                      nil)
                                     ("2" (grind) nil nil))
                                    nil)
                                   ("2" (grind) nil nil))
                                  nil))
                                nil))
                              nil))
                            nil)
                           ("2" (assert)
                            (("2"
                              (case "len * num_non_terminals <= exp2(46)")
                              (("1"
                                (assert)
                                (("1" (grind) nil nil))
                                nil)
                               ("2"
                                (use
                                 "lt_times_lt_pos1"
                                 :subst
                                 (px
                                  len
                                  nnz
                                  num_non_terminals
                                  y
                                  "exp2(32)"
                                  w
                                  "exp2(8)"))
                                (("1"
                                  (hide-all-but (-1 1))
                                  (("1"
                                    (grind)
                                    (("1"
                                      (typepred len)
                                      (("1" (grind) nil nil))
                                      nil))
                                    nil))
                                  nil)
                                 ("2" (assert) nil nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil)
                   ("2" (grind) nil nil) ("3" (grind) nil nil)
                   ("4" (grind) nil nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma def-decl "real" sigma reals))
   nil
   (step subtype
         "(number_fields.+)(real_defs.max(cstopdown.d1, cstopdown.d2), 1)"
         "uint64")))
 (step_TCC83 0
  (step_TCC102-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred "St`scaf(pos!1)(n1)")
      (("" (typepred "St`scaf(pos!1)(n2)") (("" (grind) nil nil)) nil))
      nil))
    nil)
   nil nil
   (step subtype
         "cstopdown.good((number_fields.+)(real_defs.max(cstopdown.d1, cstopdown.d2), 1), cstopdown.sp)"
         "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (step_TCC84 0
  (step_TCC84-1 nil 3808434333
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack)
                (("2" (typepred "scaf(pos!1)(n1)")
                  (("2" (typepred "scaf(pos!1)(n2)")
                    (("2" (hide 2) (("2" (grind) nil nil)) nil)) nil))
                  nil))
                nil)
               ("3" (typepred lflag)
                (("3" (skeep*)
                  (("3" (ground)
                    (("1" (inst?) nil nil) ("2" (grind) nil nil)
                     ("3" (inst?) nil nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (hide -2 2)
              (("2" (typepred stack)
                (("2" (typepred "scaf(pos!1)(n1)")
                  (("2" (typepred "scaf(pos!1)(n2)")
                    (("2" (grind) nil nil)) nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good((number_fields.+)(real_defs.max(cstopdown.d1, cstopdown.d2), 1), cstopdown.sp)]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC85 0
  (step_TCC57-1 nil 3804455654
   ("" (skeep*)
    (("" (split +)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred depth) (("2" (grind) nil nil)) nil)
       ("3" (typepred depth)
        (("3" (typepred stack)
          (("3" (expand good_depth?)
            (("3" (expand pushcount)
              (("3" (expand scafcount)
                (("3" (use sigma_dec)
                  (("3" (ground)
                    (("1" (lift-if -1)
                      (("1" (ground)
                        (("1" (grind) nil nil)
                         ("2"
                          (case-replace "(LAMBDA (i: upto(len)):
                                                                                       count(num_non_terminals)(push?)
                                                                                            (St`scaf WITH [(pos!1)(cur) := good(1 + max(d1, d2), sp)](i))) = ((LAMBDA (i: upto(len)):
                                                                                       count(num_non_terminals)(push?)(St`scaf(i)))
                                                                                      WITH [(pos!1)
                                                                                              := count(num_non_terminals)(push?)(St`scaf(pos!1)) -
                                                                                                  1])")
                          (("1" (hide -1) (("1" (assert) nil nil)) nil)
                           ("2" (hide -1 3)
                            (("2" (apply-extensionality)
                              (("1"
                                (hide 2)
                                (("1"
                                  (expand count)
                                  (("1"
                                    (case "pos!1 = x!1")
                                    (("1"
                                      (assert)
                                      (("1"
                                        (case-replace
                                         "{i: below(num_non_terminals) |
                                                                                                                                            push?(St`scaf(x!1) WITH [(cur) := good(1 + max(d1, d2), sp)](i))} = remove(cur, {i_1: below(num_non_terminals) | push?(St`scaf(x!1)(i_1))})")
                                        (("1"
                                          (rewrite card_remove)
                                          (("1"
                                            (hide -1)
                                            (("1"
                                              (lift-if +)
                                              (("1"
                                                (ground)
                                                (("1" (grind) nil nil))
                                                nil))
                                              nil))
                                            nil)
                                           ("2"
                                            (hide -1 2)
                                            (("2"
                                              (rewrite "count_TCC1")
                                              nil
                                              nil))
                                            nil))
                                          nil)
                                         ("2"
                                          (hide 2)
                                          (("2"
                                            (apply-extensionality)
                                            (("1"
                                              (hide 2)
                                              (("1"
                                                (hide -3 -4 -6)
                                                (("1" (grind) nil nil))
                                                nil))
                                              nil)
                                             ("2"
                                              (hide 2)
                                              (("2"
                                                (typepred
                                                 "St`scaf(pos!1)(n1)")
                                                (("2"
                                                  (typepred
                                                   "scaf(pos!1)(n2)")
                                                  (("2"
                                                    (grind)
                                                    nil
                                                    nil))
                                                  nil))
                                                nil))
                                              nil)
                                             ("3"
                                              (skeep*)
                                              (("3"
                                                (use step_TCC82)
                                                (("3"
                                                  (ground)
                                                  (("3"
                                                    (inst?)
                                                    (("3"
                                                      (inst?)
                                                      (("3"
                                                        (inst?)
                                                        (("3"
                                                          (ground)
                                                          nil
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil)
                                         ("3"
                                          (hide -6 2)
                                          (("3"
                                            (typepred
                                             "St`scaf(pos!1)(n1)")
                                            (("3"
                                              (typepred
                                               "St`scaf(pos!1)(n2)")
                                              (("3"
                                                (skeep*)
                                                (("3"
                                                  (use step_TCC83)
                                                  (("3"
                                                    (ground)
                                                    (("3"
                                                      (inst?)
                                                      (("3"
                                                        (inst?)
                                                        (("3"
                                                          (inst?)
                                                          (("3"
                                                            (ground)
                                                            (("3"
                                                              (typepred
                                                               "St`scaf(pos!1)(n1)")
                                                              (("3"
                                                                (typepred
                                                                 "St`scaf(pos!1)(n2)")
                                                                (("3"
                                                                  (grind)
                                                                  nil
                                                                  nil))
                                                                nil))
                                                              nil))
                                                            nil))
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil)
                                         ("4"
                                          (skeep*)
                                          (("4"
                                            (use step_TCC82)
                                            (("4"
                                              (ground)
                                              (("4"
                                                (inst?)
                                                (("4"
                                                  (inst?)
                                                  (("4"
                                                    (inst?)
                                                    (("4"
                                                      (ground)
                                                      nil
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil)
                                     ("2" (assert) nil nil))
                                    nil))
                                  nil))
                                nil)
                               ("2"
                                (expand count)
                                (("2"
                                  (use
                                   "nonempty_card[below(num_non_terminals)]")
                                  (("1" (grind) nil nil)
                                   ("2" (rewrite count_TCC1) nil nil))
                                  nil))
                                nil)
                               ("3"
                                (hide 2)
                                (("3"
                                  (typepred "St`scaf(pos!1)(n1)")
                                  (("3"
                                    (typepred "St`scaf(pos!1)(n2)")
                                    (("3" (grind) nil nil))
                                    nil))
                                  nil))
                                nil)
                               ("4"
                                (hide 2)
                                (("4"
                                  (use step_TCC82)
                                  (("4"
                                    (ground)
                                    (("4"
                                      (inst?)
                                      (("4"
                                        (inst?)
                                        (("4"
                                          (inst?)
                                          (("4" (ground) nil nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil)
                           ("3" (expand count)
                            (("3"
                              (use "nonempty_card[below(num_non_terminals)]")
                              (("1" (grind) nil nil)
                               ("2" (rewrite count_TCC1) nil nil))
                              nil))
                            nil)
                           ("4" (use step_TCC83)
                            (("4" (ground)
                              (("4"
                                (inst?)
                                (("4"
                                  (inst?)
                                  (("4"
                                    (inst?)
                                    (("4" (ground) nil nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil)
                           ("5" (hide -1 3)
                            (("5" (use step_TCC82)
                              (("5"
                                (ground)
                                (("5"
                                  (inst?)
                                  (("5"
                                    (inst?)
                                    (("5"
                                      (inst?)
                                      (("5" (ground) nil nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil)
                     ("2" (expand count)
                      (("2"
                        (use "nonempty_card[below(num_non_terminals)]")
                        (("1" (grind) nil nil)
                         ("2" (rewrite count_TCC1) nil nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (arr type-eq-decl nil arrayCount nil)
    (count_TCC1 subtype-tcc nil arrayCount nil))
   nil
   (step subtype "(number_fields.-)(cstopdown.depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good((number_fields.+)(real_defs.max(cstopdown.d1, cstopdown.d2), 1), cstopdown.sp)]))")))
 (step_TCC86 0
  (step_TCC58-1 nil 3804455654
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred rest)
        (("1" (typepred stack)
          (("1" (expand good_stack?) (("1" (grind) nil nil)) nil))
          nil))
        nil)
       ("2" (lemma good_mem_stack)
        (("2"
          (inst - G "depth - 1" len scaf stack rest
           "good(1 + max(d1, d2), sp)")
          (("1" (ground)
            (("1" (hide 2)
              (("1" (typepred stack)
                (("1" (expand good_stack? -)
                  (("1" (ground) (("1" (grind) nil nil)) nil)) nil))
                nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil)
             ("3" (typepred stack)
              (("3" (expand fine_stack? -)
                (("3" (ground) (("3" (grind) nil nil)) nil)) nil))
              nil)
             ("4" (typepred stack) (("4" (grind) nil nil)) nil))
            nil)
           ("2" (hide 2)
            (("2" (typepred "stack")
              (("2" (typepred "St`scaf(pos!1)(n1)")
                (("2" (typepred "St`scaf(pos!1)(n2)")
                  (("2" (grind) nil nil)) nil))
                nil))
              nil))
            nil)
           ("3" (use step_TCC85)
            (("3" (ground)
              (("3" (inst?)
                (("3" (inst?)
                  (("3" (inst?) (("3" (ground) nil nil)) nil)) nil))
                nil))
              nil))
            nil))
          nil))
        nil)
       ("3" (typepred stack)
        (("3" (expand fine_stack? -)
          (("3" (ground)
            (("1" (grind) nil nil)
             ("2" (lemma fine_mem_stack)
              (("2" (ground)
                (("2" (expand good_stack? -)
                  (("2"
                    (inst - G "depth - 1" len scaf stack rest
                     "good(1 + max(d1, d2), sp)")
                    (("1" (ground)
                      (("1" (expand good_stack? -)
                        (("1" (propax) nil nil)) nil)
                       ("2" (grind) nil nil) ("3" (grind) nil nil)
                       ("4" (grind) nil nil) ("5" (grind) nil nil)
                       ("6" (grind) nil nil) ("7" (grind) nil nil)
                       ("8" (grind) nil nil) ("9" (grind) nil nil)
                       ("10" (grind) nil nil))
                      nil)
                     ("2" (typepred "St`scaf(pos!1)(n1)")
                      (("2" (typepred "St`scaf(pos!1)(n2)")
                        (("2" (grind) nil nil)) nil))
                      nil)
                     ("3" (grind) nil nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.rest"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good((number_fields.+)(real_defs.max(cstopdown.d1, cstopdown.d2), 1), cstopdown.sp)]))")))
 (step_TCC87 0
  (step_TCC99-1 nil 3804455654
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred lflag)
        (("1" (assert)
          (("1" (hide -2)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (typepred lflag)
        (("2" (assert)
          (("2" (hide -1) (("2" (lazy-grind) nil nil)) nil)) nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.St`lflag"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.nt(cstopdown.rest) = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good((number_fields.+)(1, real_defs.max(cstopdown.d1, cstopdown.d2)), cstopdown.sp)], cstopdown.pos(cstopdown.rest), cstopdown.nt(cstopdown.rest))) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good((number_fields.+)(1, real_defs.max(cstopdown.d1, cstopdown.d2)), cstopdown.sp)](i)(cstopdown.n))) ENDIF}")))
 (step_TCC88 0
  (step_TCC91-1 nil 3804706560 ("" (subtype-tcc) nil nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (count const-decl "upto(len)" arrayCount nil))
   nil
   (step subtype "cstopdown.stack"
         "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (step_TCC89 0
  (step_TCC111-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack)
                (("2" (hide 2)
                  (("2" (expand fine_entry?) (("2" (grind) nil nil))
                    nil))
                  nil))
                nil)
               ("3" (hide 2)
                (("3" (skeep*)
                  (("3" (typepred lflag)
                    (("3" (case lflag)
                      (("1" (assert)
                        (("1" (hide -3) (("1" (grind) nil nil)) nil))
                        nil)
                       ("2" (assert) (("2" (inst?) nil nil)) nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.n2) := cstopdown.stack]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC90 0
  (step_TCC112-1 nil 3804455654
   ("" (skeep*)
    (("" (split)
      (("1" (typepred stack)
        (("1" (typepred depth)
          (("1" (expand good_depth?)
            (("1" (expand pushcount)
              (("1" (use scafcount_max)
                (("1" (assert)
                  (("1" (use exp2_lt :subst (n 41 m 64))
                    (("1" (ground) (("1" (grind) nil nil)) nil)) nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (expand "good_depth?")
        (("2" (expand pushcount)
          (("2" (rewrite scafcount_update)
            (("1" (lift-if)
              (("1" (ground)
                (("1" (typepred stack) (("1" (grind) nil nil)) nil)
                 ("2" (typepred depth)
                  (("2" (grind :exclude scafcount) nil nil)) nil)
                 ("3" (typepred stack) (("3" (grind) nil nil)) nil))
                nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((count const-decl "upto(len)" arrayCount nil)
    (sigma def-decl "real" sigma reals)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype "(number_fields.+)(cstopdown.depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.n2) := cstopdown.stack]))")))
 (step_TCC91 0
  (step_TCC78-1 nil 3804706560
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred stack)
        (("2" (expand "good_stack?" +)
          (("2" (ground)
            (("1" (grind) nil nil)
             ("2" (lemma good_mem_stack)
              (("2"
                (inst - G "depth" len scaf "push(pos!1, n2)" "stack"
                 stack)
                (("1" (ground)
                  (("1" (grind) nil nil)
                   ("2" (use mem_stack_push) (("2" (ground) nil nil))
                    nil)
                   ("3" (grind) nil nil))
                  nil)
                 ("2" (grind) nil nil) ("3" (grind) nil nil))
                nil))
              nil))
            nil))
          nil))
        nil)
       ("3" (expand fine_stack? +)
        (("3" (ground)
          (("1" (lemma mem_mem_stack)
            (("1" (inst - G depth len scaf _ _ _ _)
              (("1"
                (inst - "push(pos!1, n2)" "push(pos!1, n2)" stack
                 stack)
                (("1" (ground)
                  (("1" (hide -2)
                    (("1" (use mem_stack_push) (("1" (ground) nil nil))
                      nil))
                    nil)
                   ("2" (typepred stack) (("2" (grind) nil nil)) nil)
                   ("3" (typepred stack) (("3" (grind) nil nil)) nil)
                   ("4" (use mem_stack_push) (("4" (ground) nil nil))
                    nil)
                   ("5" (typepred stack) (("5" (grind) nil nil)) nil))
                  nil)
                 ("2" (typepred stack) (("2" (grind) nil nil)) nil)
                 ("3" (typepred stack) (("3" (grind) nil nil)) nil))
                nil))
              nil))
            nil)
           ("2"
            (use fine_mem_stack :subst
                 (len len entry "push(pos!1, n2)" u stack stack stack))
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (use mem_stack_push) (("2" (ground) nil nil)) nil)
               ("3" (grind) nil nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil)
             ("3" (grind)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack) (("2" (grind) nil nil)) nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.push(cstopdown.pos, cstopdown.n2)"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.+)(cstopdown.depth, 1), cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.n2) := cstopdown.stack]))")))
 (step_TCC92 0
  (step_TCC119-1 nil 3804706560
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred lflag)
        (("1" (assert)
          (("1" (hide -2)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (typepred lflag)
        (("2" (assert)
          (("2" (hide -1)
            (("2" (skeep*)
              (("2" (lift-if)
                (("2" (ground)
                  (("1" (lift-if)
                    (("1" (ground)
                      (("1" (typepred stack) (("1" (grind) nil nil))
                        nil)
                       ("2" (inst?) nil nil))
                      nil))
                    nil)
                   ("2" (inst?) nil nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.St`lflag"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.n2 = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.n2) := cstopdown.stack], cstopdown.pos, cstopdown.n2)) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.n2) := cstopdown.stack](i)(cstopdown.n))) ENDIF}")))
 (step_TCC93 0
  (step_TCC59-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (step subtype "cstopdown.loop"
         "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (step_TCC94 0
  (step_TCC60-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack)
                (("2" (hide 2)
                  (("2" (expand fine_entry?) (("2" (grind) nil nil))
                    nil))
                  nil))
                nil)
               ("3" (hide 2)
                (("3" (skeep*)
                  (("3" (typepred lflag)
                    (("3" (case lflag)
                      (("1" (assert)
                        (("1" (hide -3) (("1" (grind) nil nil)) nil))
                        nil)
                       ("2" (assert) (("2" (inst?) nil nil)) nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC95 0
  (step_TCC69-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred stack)
      (("" (typepred depth)
        (("" (expand good_depth?)
          (("" (expand pushcount)
            (("" (use scafcount_max)
              (("" (assert)
                (("" (use exp2_lt :subst (n 41 m 64))
                  (("" (ground)
                    (("1" (grind) nil nil)
                     ("2" (rewrite scafcount_update)
                      (("1" (lift-if)
                        (("1" (ground)
                          (("1" (typepred stack)
                            (("1" (grind) nil nil)) nil)
                           ("2" (typepred depth)
                            (("2" (grind :exclude scafcount) nil nil))
                            nil))
                          nil))
                        nil)
                       ("2" (typepred stack) (("2" (grind) nil nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype "(number_fields.-)(cstopdown.depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop]))")))
 (step_TCC96 0
  (step_TCC70-1 nil 3804455654
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred stack)
        (("2" (lemma good_mem_stack)
          (("2"
            (inst - G "depth - 1" len scaf "push(pos!1, cur)" "rest"
             loop)
            (("1" (ground)
              (("1" (hide 2) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil)
               ("3" (hide 1)
                (("3" (expand "fine_stack?")
                  (("3" (ground)
                    (("1" (grind) nil nil)
                     ("2" (case-replace "push(pos!1, cur) = stack")
                      (("1" (assert) nil nil)
                       ("2" (apply-extensionality) nil nil))
                      nil))
                    nil))
                  nil))
                nil)
               ("4" (grind) nil nil))
              nil)
             ("2" (grind) nil nil) ("3" (grind) nil nil)
             ("4" (grind) nil nil))
            nil))
          nil))
        nil)
       ("3"
        (use fine_mem_stack :subst
             (len len entry "push(pos!1, cur)" u loop stack rest))
        (("1" (ground)
          (("1" (hide 2)
            (("1" (typepred stack) (("1" (grind) nil nil)) nil)) nil)
           ("2" (typepred stack) (("2" (grind) nil nil)) nil)
           ("3" (hide 2)
            (("3" (typepred stack) (("3" (grind) nil nil)) nil)) nil)
           ("4" (typepred stack)
            (("4" (hide 1)
              (("4" (expand fine_stack?)
                (("4" (ground)
                  (("1" (grind) nil nil)
                   ("2" (case-replace "push(pos!1, cur) = stack")
                    (("1" (assert) nil nil)
                     ("2" (apply-extensionality) nil nil))
                    nil))
                  nil))
                nil))
              nil))
            nil)
           ("5" (typepred stack) (("5" (grind) nil nil)) nil))
          nil)
         ("2" (typepred stack) (("2" (grind) nil nil)) nil)
         ("3" (grind) nil nil)
         ("4" (typepred stack) (("4" (grind) nil nil)) nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.rest"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop]))")))
 (step_TCC97 0
  (step_TCC118-1 nil 3804706560
   ("" (skeep*)
    (("" (typepred stack)
      (("" (expand good_stack?)
        (("" (ground)
          (("1" (grind) nil nil)
           ("2" (grind :exclude (good_stack? fine_stack? mem_stack?))
            nil nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "booleans.TRUE"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.nt(cstopdown.rest) = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop], cstopdown.pos(cstopdown.rest), cstopdown.nt(cstopdown.rest))) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop](i)(cstopdown.n))) ENDIF}")))
 (step_TCC98 0
  (step_TCC109-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred scaf)
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("" (expand "good_tscaffold?")
            (("" (inst - pos!1 n1)
              (("" (ground)
                (("1" (expand gfcount)
                  (("1" (use "sigma_max")
                    (("1" (ground)
                      (("1"
                        (case "len * num_non_terminals + num_non_terminals < exp2(64) - 2")
                        (("1" (assert)
                          (("1"
                            (name-replace lnn
                             "len * num_non_terminals + num_non_terminals")
                            (("1" (assert)
                              (("1"
                                (case-replace
                                 "dep(scaf(pos!1)(n1)) = d1")
                                (("1" (assert) nil nil)
                                 ("2" (grind) nil nil))
                                nil))
                              nil))
                            nil))
                          nil)
                         ("2" (assert)
                          (("2"
                            (case "len * num_non_terminals <= exp2(46)")
                            (("1" (assert) (("1" (grind) nil nil)) nil)
                             ("2"
                              (use "lt_times_lt_pos1" :subst
                                   (px
                                    len
                                    nnz
                                    num_non_terminals
                                    y
                                    "exp2(32)"
                                    w
                                    "exp2(8)"))
                              (("1"
                                (hide-all-but (-1 1))
                                (("1"
                                  (grind)
                                  (("1"
                                    (typepred len)
                                    (("1" (grind) nil nil))
                                    nil))
                                  nil))
                                nil)
                               ("2" (assert) nil nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil)
                 ("2" (grind) nil nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil (step subtype "(number_fields.+)(cstopdown.d1, 1)" "uint64")))
 (step_TCC99 0
  (step_TCC110-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred "St`scaf(pos!1)(n1)") (("" (grind) nil nil)) nil))
    nil)
   nil nil
   (step subtype
         "cstopdown.good((number_fields.+)(cstopdown.d1, 1), cstopdown.sp)"
         "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (step_TCC100 0
  (step_TCC99-1 nil 3804991042
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack)
                (("2" (hide 2)
                  (("2" (expand fine_entry?)
                    (("2" (ground)
                      (("1" (typepred "St`scaf(pos!1)(n1)")
                        (("1" (grind) nil nil)) nil)
                       ("2" (expand good_good?)
                        (("2" (grind :exclude (max gfcount)) nil nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil)
               ("3" (hide 2)
                (("3" (typepred lflag)
                  (("3" (skeep*)
                    (("3" (ground)
                      (("1" (inst?) nil nil) ("2" (grind) nil nil)
                       ("3" (inst?) nil nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (hide 2)
              (("2" (typepred "St`scaf(pos!1)(n1)")
                (("2" (grind) nil nil)) nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good((number_fields.+)(cstopdown.d1, 1), cstopdown.sp)]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC101 0
  (step_TCC61-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred stack)
      (("" (typepred depth)
        (("" (expand good_depth?)
          (("" (expand pushcount)
            (("" (use scafcount_max)
              (("" (assert)
                (("" (use exp2_lt :subst (n 41 m 64))
                  (("" (ground)
                    (("1" (grind) nil nil)
                     ("2" (rewrite scafcount_update)
                      (("1" (lift-if)
                        (("1" (ground)
                          (("1" (typepred stack)
                            (("1" (grind) nil nil)) nil)
                           ("2" (typepred depth)
                            (("2" (grind :exclude scafcount) nil nil))
                            nil))
                          nil))
                        nil)
                       ("2" (typepred "scaf(pos!1)(n1)")
                        (("2" (grind) nil nil)) nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype "(number_fields.-)(cstopdown.depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good((number_fields.+)(cstopdown.d1, 1), cstopdown.sp)]))")))
 (step_TCC102 0
  (step_TCC62-1 nil 3804455654
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred stack)
        (("2" (lemma good_mem_stack)
          (("2"
            (inst - G "depth - 1" len scaf "push(pos!1, cur)" "rest"
             "good(1 + d1, sp)")
            (("1" (ground)
              (("1" (hide 2) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil)
               ("3" (hide 1)
                (("3" (expand "fine_stack?")
                  (("3" (ground)
                    (("1" (grind) nil nil)
                     ("2" (case-replace "push(pos!1, cur) = stack")
                      (("1" (assert) nil nil)
                       ("2" (apply-extensionality) nil nil))
                      nil))
                    nil))
                  nil))
                nil)
               ("4" (grind) nil nil))
              nil)
             ("2" (typepred "St`scaf(pos(St`stack))(n1)")
              (("1" (grind) nil nil) ("2" (grind) nil nil)
               ("3" (grind) nil nil))
              nil)
             ("3" (grind) nil nil) ("4" (grind) nil nil))
            nil))
          nil))
        nil)
       ("3"
        (use fine_mem_stack :subst
             (len len entry "push(pos!1, cur)" u " good(1 + d1, sp)"
              stack rest))
        (("1" (ground)
          (("1" (hide 2)
            (("1" (typepred stack) (("1" (grind) nil nil)) nil)) nil)
           ("2" (typepred stack) (("2" (grind) nil nil)) nil)
           ("3" (hide 2)
            (("3" (typepred stack) (("3" (grind) nil nil)) nil)) nil)
           ("4" (typepred stack)
            (("4" (hide 1)
              (("4" (expand fine_stack?)
                (("4" (ground)
                  (("1" (grind) nil nil)
                   ("2" (case-replace "push(pos!1, cur) = stack")
                    (("1" (assert) nil nil)
                     ("2" (apply-extensionality) nil nil))
                    nil))
                  nil))
                nil))
              nil))
            nil)
           ("5" (typepred stack) (("5" (grind) nil nil)) nil))
          nil)
         ("2" (typepred stack) (("2" (grind) nil nil)) nil)
         ("3" (typepred "St`scaf(pos(St`stack))(n1)")
          (("1" (grind) nil nil)
           ("2" (typepred stack) (("2" (grind) nil nil)) nil)
           ("3" (typepred stack) (("3" (grind) nil nil)) nil))
          nil)
         ("4" (typepred stack) (("4" (grind) nil nil)) nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.rest"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good((number_fields.+)(cstopdown.d1, 1), cstopdown.sp)]))")))
 (step_TCC103 0
  (step_TCC116-1 nil 3804706560
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred lflag)
        (("1" (assert)
          (("1" (hide -2)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (typepred lflag)
        (("2" (assert)
          (("2" (hide -1) (("2" (lazy-grind) nil nil)) nil)) nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.St`lflag"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.nt(cstopdown.rest) = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good((number_fields.+)(1, cstopdown.d1), cstopdown.sp)], cstopdown.pos(cstopdown.rest), cstopdown.nt(cstopdown.rest))) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good((number_fields.+)(1, cstopdown.d1), cstopdown.sp)](i)(cstopdown.n))) ENDIF}")))
 (step_TCC104 0
  (step_TCC112-1 nil 3804706560 ("" (subtype-tcc) nil nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (count const-decl "upto(len)" arrayCount nil))
   nil
   (step subtype "cstopdown.stack"
         "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (step_TCC105 0
  (step_TCC92-1 nil 3804706560
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack)
                (("2" (hide 2)
                  (("2" (expand fine_entry?) (("2" (grind) nil nil))
                    nil))
                  nil))
                nil)
               ("3" (hide 2)
                (("3" (skeep*)
                  (("3" (typepred lflag)
                    (("3" (case lflag)
                      (("1" (assert)
                        (("1" (hide -3) (("1" (grind) nil nil)) nil))
                        nil)
                       ("2" (assert) (("2" (inst?) nil nil)) nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.n1) := cstopdown.stack]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC106 0
  (step_TCC93-1 nil 3804706560
   ("" (skeep*)
    (("" (split)
      (("1" (typepred stack)
        (("1" (typepred depth)
          (("1" (expand good_depth?)
            (("1" (expand pushcount)
              (("1" (use scafcount_max)
                (("1" (assert)
                  (("1" (use exp2_lt :subst (n 41 m 64))
                    (("1" (ground) (("1" (grind) nil nil)) nil)) nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (expand "good_depth?")
        (("2" (expand pushcount)
          (("2" (rewrite scafcount_update)
            (("1" (lift-if)
              (("1" (ground)
                (("1" (typepred stack) (("1" (grind) nil nil)) nil)
                 ("2" (typepred depth)
                  (("2" (grind :exclude scafcount) nil nil)) nil)
                 ("3" (typepred stack) (("3" (grind) nil nil)) nil))
                nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((count const-decl "upto(len)" arrayCount nil)
    (sigma def-decl "real" sigma reals)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype "(number_fields.+)(cstopdown.depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.n1) := cstopdown.stack]))")))
 (step_TCC107 0
  (step_TCC94-1 nil 3804706560
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred stack)
        (("2" (expand "good_stack?" +)
          (("2" (ground)
            (("1" (grind) nil nil)
             ("2" (lemma good_mem_stack)
              (("2"
                (inst - G "depth" len scaf "push(pos!1, n1)" "stack"
                 stack)
                (("1" (ground)
                  (("1" (grind) nil nil)
                   ("2" (use mem_stack_push) (("2" (ground) nil nil))
                    nil)
                   ("3" (grind) nil nil))
                  nil)
                 ("2" (grind) nil nil) ("3" (grind) nil nil))
                nil))
              nil))
            nil))
          nil))
        nil)
       ("3" (expand fine_stack? +)
        (("3" (ground)
          (("1" (lemma mem_mem_stack)
            (("1" (inst - G depth len scaf _ _ _ _)
              (("1"
                (inst - "push(pos!1, n1)" "push(pos!1, n1)" stack
                 stack)
                (("1" (ground)
                  (("1" (hide -2)
                    (("1" (use mem_stack_push) (("1" (ground) nil nil))
                      nil))
                    nil)
                   ("2" (typepred stack) (("2" (grind) nil nil)) nil)
                   ("3" (typepred stack) (("3" (grind) nil nil)) nil)
                   ("4" (use mem_stack_push) (("4" (ground) nil nil))
                    nil)
                   ("5" (typepred stack) (("5" (grind) nil nil)) nil))
                  nil)
                 ("2" (typepred stack) (("2" (grind) nil nil)) nil)
                 ("3" (typepred stack) (("3" (grind) nil nil)) nil))
                nil))
              nil))
            nil)
           ("2"
            (use fine_mem_stack :subst
                 (len len entry "push(pos!1, n1)" u stack stack stack))
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (use mem_stack_push) (("2" (ground) nil nil)) nil)
               ("3" (grind) nil nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil)
             ("3" (grind)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack) (("2" (grind) nil nil)) nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.push(cstopdown.pos, cstopdown.n1)"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.+)(cstopdown.depth, 1), cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.n1) := cstopdown.stack]))")))
 (step_TCC108 0
  (step_TCC125-1 nil 3804706560
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred lflag)
        (("1" (assert)
          (("1" (hide -2)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (typepred lflag)
        (("2" (assert)
          (("2" (hide -1)
            (("2" (skeep*)
              (("2" (lift-if)
                (("2" (ground)
                  (("1" (lift-if)
                    (("1" (ground)
                      (("1" (typepred stack) (("1" (grind) nil nil))
                        nil)
                       ("2" (inst?) nil nil))
                      nil))
                    nil)
                   ("2" (inst?) nil nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.St`lflag"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.n1 = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.n1) := cstopdown.stack], cstopdown.pos, cstopdown.n1)) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.n1) := cstopdown.stack](i)(cstopdown.n))) ENDIF}")))
 (step_TCC109 0
  (step_TCC71-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (step subtype "cstopdown.loop"
         "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (step_TCC110 0
  (step_TCC72-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack)
                (("2" (hide 2)
                  (("2" (expand fine_entry?) (("2" (grind) nil nil))
                    nil))
                  nil))
                nil)
               ("3" (hide 2)
                (("3" (skeep*)
                  (("3" (typepred lflag)
                    (("3" (case lflag)
                      (("1" (assert)
                        (("1" (hide -3) (("1" (grind) nil nil)) nil))
                        nil)
                       ("2" (assert) (("2" (inst?) nil nil)) nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC111 0
  (step_TCC85-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred stack)
      (("" (typepred depth)
        (("" (expand good_depth?)
          (("" (expand pushcount)
            (("" (use scafcount_max)
              (("" (assert)
                (("" (use exp2_lt :subst (n 41 m 64))
                  (("" (ground)
                    (("1" (grind) nil nil)
                     ("2" (rewrite scafcount_update)
                      (("1" (lift-if)
                        (("1" (ground)
                          (("1" (typepred stack)
                            (("1" (grind) nil nil)) nil)
                           ("2" (typepred depth)
                            (("2" (grind :exclude scafcount) nil nil))
                            nil))
                          nil))
                        nil)
                       ("2" (typepred stack) (("2" (grind) nil nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype "(number_fields.-)(cstopdown.depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop]))")))
 (step_TCC112 0
  (step_TCC86-1 nil 3804455654
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred stack)
        (("2" (lemma good_mem_stack)
          (("2"
            (inst - G "depth - 1" len scaf "push(pos!1, cur)" "rest"
             loop)
            (("1" (ground)
              (("1" (hide 2) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil)
               ("3" (hide 1)
                (("3" (expand "fine_stack?")
                  (("3" (ground)
                    (("1" (grind) nil nil)
                     ("2" (case-replace "push(pos!1, cur) = stack")
                      (("1" (assert) nil nil)
                       ("2" (apply-extensionality) nil nil))
                      nil))
                    nil))
                  nil))
                nil)
               ("4" (grind) nil nil))
              nil)
             ("2" (grind) nil nil) ("3" (grind) nil nil)
             ("4" (grind) nil nil))
            nil))
          nil))
        nil)
       ("3"
        (use fine_mem_stack :subst
             (len len entry "push(pos!1, cur)" u loop stack rest))
        (("1" (ground)
          (("1" (hide 2)
            (("1" (typepred stack) (("1" (grind) nil nil)) nil)) nil)
           ("2" (typepred stack) (("2" (grind) nil nil)) nil)
           ("3" (hide 2)
            (("3" (typepred stack) (("3" (grind) nil nil)) nil)) nil)
           ("4" (typepred stack)
            (("4" (hide 1)
              (("4" (expand fine_stack?)
                (("4" (ground)
                  (("1" (grind) nil nil)
                   ("2" (case-replace "push(pos!1, cur) = stack")
                    (("1" (assert) nil nil)
                     ("2" (apply-extensionality) nil nil))
                    nil))
                  nil))
                nil))
              nil))
            nil)
           ("5" (typepred stack) (("5" (grind) nil nil)) nil))
          nil)
         ("2" (typepred stack) (("2" (grind) nil nil)) nil)
         ("3" (grind) nil nil)
         ("4" (typepred stack) (("4" (grind) nil nil)) nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.rest"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop]))")))
 (step_TCC113 0
  (step_TCC126-1 nil 3804706560
   ("" (skeep*)
    (("" (typepred stack)
      (("" (expand good_stack?)
        (("" (ground)
          (("1" (grind) nil nil)
           ("2" (grind :exclude (good_stack? fine_stack? mem_stack?))
            nil nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "booleans.TRUE"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.nt(cstopdown.rest) = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop], cstopdown.pos(cstopdown.rest), cstopdown.nt(cstopdown.rest))) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop](i)(cstopdown.n))) ENDIF}")))
 (step_TCC114 0
  (step_TCC113-1 nil 3804991042
   ("" (skeep*)
    (("" (typepred scaf)
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("" (expand "good_tscaffold?")
            (("" (inst - pos!1 n1)
              (("" (ground)
                (("1" (expand gfcount)
                  (("1" (use "sigma_max")
                    (("1" (ground)
                      (("1"
                        (case "len * num_non_terminals + num_non_terminals < exp2(64) - 2")
                        (("1" (assert)
                          (("1"
                            (name-replace lnn
                             "len * num_non_terminals + num_non_terminals")
                            (("1" (assert)
                              (("1"
                                (case-replace
                                 "dep(scaf(pos!1)(n1)) = d1")
                                (("1" (assert) nil nil)
                                 ("2" (grind) nil nil))
                                nil))
                              nil))
                            nil))
                          nil)
                         ("2" (assert)
                          (("2"
                            (case "len * num_non_terminals <= exp2(46)")
                            (("1" (assert) (("1" (grind) nil nil)) nil)
                             ("2"
                              (use "lt_times_lt_pos1" :subst
                                   (px
                                    len
                                    nnz
                                    num_non_terminals
                                    y
                                    "exp2(32)"
                                    w
                                    "exp2(8)"))
                              (("1"
                                (hide-all-but (-1 1))
                                (("1"
                                  (grind)
                                  (("1"
                                    (typepred len)
                                    (("1" (grind) nil nil))
                                    nil))
                                  nil))
                                nil)
                               ("2" (assert) nil nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil)
                 ("2" (grind) nil nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil (step subtype "(number_fields.+)(cstopdown.d1, 1)" "uint64")))
 (step_TCC115 0
  (step_TCC114-1 nil 3804991042 ("" (subtype-tcc) nil nil) nil nil
   (step subtype "cstopdown.fail((number_fields.+)(cstopdown.d1, 1))"
         "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (step_TCC116 0
  (step_TCC115-1 nil 3804991042
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack) (("2" (grind) nil nil)) nil)
               ("3" (typepred lflag)
                (("3" (skeep*)
                  (("3" (ground)
                    (("1" (inst?) nil nil) ("2" (grind) nil nil)
                     ("3" (inst?) nil nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (hide -2 2)
              (("2" (typepred stack) (("2" (grind) nil nil)) nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail((number_fields.+)(cstopdown.d1, 1))]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC117 0
  (step_TCC73-1 nil 3804455654
   ("" (skeep*)
    (("" (split +)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred depth) (("2" (grind) nil nil)) nil)
       ("3" (typepred depth)
        (("3" (typepred stack)
          (("3" (expand good_depth?)
            (("3" (expand pushcount)
              (("3" (expand scafcount)
                (("3" (use sigma_dec)
                  (("3" (ground)
                    (("1" (lift-if -1)
                      (("1" (ground)
                        (("1" (grind) nil nil)
                         ("2"
                          (case-replace "(LAMBDA (i: upto(len)):
                                                                               count(num_non_terminals)(push?)
                                                                                    (St`scaf WITH [(pos!1)(cur) := fail(1 + d1)](i))) = ((LAMBDA (i: upto(len)):
                                                                               count(num_non_terminals)(push?)(St`scaf(i)))
                                                                              WITH [(pos!1)
                                                                                      := count(num_non_terminals)(push?)(St`scaf(pos!1)) -
                                                                                          1])")
                          (("1" (hide -1) (("1" (assert) nil nil)) nil)
                           ("2" (hide -1 3)
                            (("2" (apply-extensionality)
                              (("1"
                                (hide 2)
                                (("1"
                                  (expand count)
                                  (("1"
                                    (case "pos!1 = x!1")
                                    (("1"
                                      (assert)
                                      (("1"
                                        (case-replace
                                         "{i: below(num_non_terminals) |
                                                                                                                              push?(St`scaf(x!1) WITH [(cur) := fail(1 + d1)](i))} = remove(cur, {i_1: below(num_non_terminals) | push?(St`scaf(x!1)(i_1))})")
                                        (("1"
                                          (rewrite card_remove)
                                          (("1"
                                            (hide -1)
                                            (("1"
                                              (lift-if +)
                                              (("1"
                                                (ground)
                                                (("1" (grind) nil nil))
                                                nil))
                                              nil))
                                            nil)
                                           ("2"
                                            (hide -1 2)
                                            (("2"
                                              (rewrite "count_TCC1")
                                              nil
                                              nil))
                                            nil))
                                          nil)
                                         ("2"
                                          (hide 2)
                                          (("2"
                                            (apply-extensionality)
                                            (("1"
                                              (hide 2)
                                              (("1"
                                                (hide -3 -4 -6)
                                                (("1" (grind) nil nil))
                                                nil))
                                              nil)
                                             ("2" (grind) nil nil)
                                             ("3"
                                              (skeep*)
                                              (("3"
                                                (use step_TCC114)
                                                (("3"
                                                  (ground)
                                                  (("3"
                                                    (inst?)
                                                    (("3"
                                                      (inst?)
                                                      (("3"
                                                        (ground)
                                                        nil
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil)
                                         ("3"
                                          (hide -6 2)
                                          (("3" (grind) nil nil))
                                          nil)
                                         ("4"
                                          (hide 2)
                                          (("4"
                                            (skeep*)
                                            (("4"
                                              (use step_TCC114)
                                              (("4"
                                                (ground)
                                                (("4"
                                                  (inst?)
                                                  (("4"
                                                    (inst?)
                                                    (("4"
                                                      (ground)
                                                      nil
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil)
                                     ("2" (assert) nil nil))
                                    nil))
                                  nil))
                                nil)
                               ("2"
                                (hide 2)
                                (("2"
                                  (expand count +)
                                  (("2"
                                    (use
                                     "nonempty_card[below(num_non_terminals)]")
                                    (("1"
                                      (ground)
                                      (("1"
                                        (expand nonempty?)
                                        (("1"
                                          (expand empty?)
                                          (("1"
                                            (inst - "nt(stack)")
                                            (("1" (grind) nil nil)
                                             ("2"
                                              (assert)
                                              (("2"
                                                (typepred "nt(stack)")
                                                (("2"
                                                  (expand
                                                   "good_push_entry?")
                                                  (("2"
                                                    (propax)
                                                    nil
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil)
                                     ("2"
                                      (rewrite "count_TCC1")
                                      nil
                                      nil))
                                    nil))
                                  nil))
                                nil)
                               ("3"
                                (hide 2)
                                (("3" (grind) nil nil))
                                nil)
                               ("4"
                                (hide 2)
                                (("4"
                                  (use step_TCC114)
                                  (("4"
                                    (ground)
                                    (("4"
                                      (inst?)
                                      (("4"
                                        (inst?)
                                        (("4" (ground) nil nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil)
                           ("3" (hide -1)
                            (("3" (expand count)
                              (("3"
                                (use
                                 "nonempty_card[below(num_non_terminals)]")
                                (("1"
                                  (ground)
                                  (("1"
                                    (hide -5 5)
                                    (("1" (grind) nil nil))
                                    nil))
                                  nil)
                                 ("2" (rewrite "count_TCC1") nil nil))
                                nil))
                              nil))
                            nil)
                           ("4" (hide -1 3) (("4" (grind) nil nil))
                            nil)
                           ("5" (use step_TCC114)
                            (("5" (ground)
                              (("5"
                                (inst?)
                                (("5"
                                  (inst?)
                                  (("5" (ground) nil nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil)
                     ("2" (expand count)
                      (("2"
                        (use "nonempty_card[below(num_non_terminals)]")
                        (("1" (grind) nil nil)
                         ("2" (rewrite count_TCC1) nil nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (arr type-eq-decl nil arrayCount nil)
    (count_TCC1 subtype-tcc nil arrayCount nil))
   nil
   (step subtype "(number_fields.-)(cstopdown.depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail((number_fields.+)(cstopdown.d1, 1))]))")))
 (step_TCC118 0
  (step_TCC74-1 nil 3804455654
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred stack)
        (("2" (lemma good_mem_stack)
          (("2"
            (inst - G "depth - 1" len scaf "push(pos!1, cur)" "rest"
             "fail(1 + d1)")
            (("1" (ground)
              (("1" (hide 2) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil)
               ("3" (hide 1)
                (("3" (expand "fine_stack?")
                  (("3" (ground)
                    (("1" (grind) nil nil)
                     ("2" (case-replace "push(pos!1, cur) = stack")
                      (("1" (assert) nil nil)
                       ("2" (apply-extensionality) nil nil))
                      nil))
                    nil))
                  nil))
                nil)
               ("4" (grind) nil nil))
              nil)
             ("2" (typepred "St`scaf(pos(St`stack))(n1)")
              (("1" (grind) nil nil) ("2" (grind) nil nil)
               ("3" (grind) nil nil))
              nil)
             ("3" (grind) nil nil) ("4" (grind) nil nil))
            nil))
          nil))
        nil)
       ("3"
        (use fine_mem_stack :subst
             (len len entry "push(pos!1, cur)" u "fail(1 + d1)" stack
              rest))
        (("1" (ground)
          (("1" (hide 2)
            (("1" (typepred stack) (("1" (grind) nil nil)) nil)) nil)
           ("2" (typepred stack) (("2" (grind) nil nil)) nil)
           ("3" (hide 2)
            (("3" (typepred stack) (("3" (grind) nil nil)) nil)) nil)
           ("4" (typepred stack)
            (("4" (hide 1)
              (("4" (expand fine_stack?)
                (("4" (ground)
                  (("1" (grind) nil nil)
                   ("2" (case-replace "push(pos!1, cur) = stack")
                    (("1" (assert) nil nil)
                     ("2" (apply-extensionality) nil nil))
                    nil))
                  nil))
                nil))
              nil))
            nil)
           ("5" (typepred stack) (("5" (grind) nil nil)) nil))
          nil)
         ("2" (typepred stack) (("2" (grind) nil nil)) nil)
         ("3" (typepred "St`scaf(pos(St`stack))(n1)")
          (("1" (grind) nil nil)
           ("2" (typepred stack) (("2" (grind) nil nil)) nil)
           ("3" (typepred stack) (("3" (grind) nil nil)) nil))
          nil)
         ("4" (typepred stack) (("4" (grind) nil nil)) nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.rest"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail((number_fields.+)(cstopdown.d1, 1))]))")))
 (step_TCC119 0
  (step_TCC127-1 nil 3804706560
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred lflag)
        (("1" (assert)
          (("1" (hide -2)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (typepred lflag)
        (("2" (assert)
          (("2" (hide -1) (("2" (lazy-grind) nil nil)) nil)) nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.St`lflag"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.nt(cstopdown.rest) = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail((number_fields.+)(1, cstopdown.d1))], cstopdown.pos(cstopdown.rest), cstopdown.nt(cstopdown.rest))) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail((number_fields.+)(1, cstopdown.d1))](i)(cstopdown.n))) ENDIF}")))
 (step_TCC120 0
  (step_TCC119-1 nil 3804991042
   ("" (skeep*)
    (("" (typepred scaf)
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("" (expand "good_tscaffold?")
            (("" (inst - pos!1 n1)
              (("" (ground)
                (("1" (expand gfcount)
                  (("1" (use "sigma_max")
                    (("1" (ground)
                      (("1"
                        (case "len * num_non_terminals + num_non_terminals < exp2(64) - 2")
                        (("1" (assert)
                          (("1"
                            (name-replace lnn
                             "len * num_non_terminals + num_non_terminals")
                            (("1" (assert)
                              (("1"
                                (case-replace
                                 "dep(scaf(pos!1)(n1)) = d1")
                                (("1" (assert) nil nil)
                                 ("2" (grind) nil nil))
                                nil))
                              nil))
                            nil))
                          nil)
                         ("2" (assert)
                          (("2"
                            (case "len * num_non_terminals <= exp2(46)")
                            (("1" (assert) (("1" (grind) nil nil)) nil)
                             ("2"
                              (use "lt_times_lt_pos1" :subst
                                   (px
                                    len
                                    nnz
                                    num_non_terminals
                                    y
                                    "exp2(32)"
                                    w
                                    "exp2(8)"))
                              (("1"
                                (hide-all-but (-1 1))
                                (("1"
                                  (grind)
                                  (("1"
                                    (typepred len)
                                    (("1" (grind) nil nil))
                                    nil))
                                  nil))
                                nil)
                               ("2" (assert) nil nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil)
                 ("2" (grind) nil nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil (step subtype "(number_fields.+)(cstopdown.d1, 1)" "uint64")))
 (step_TCC121 0
  (step_TCC120-1 nil 3804991042 ("" (subtype-tcc) nil nil) nil nil
   (step subtype "0" "uint32")))
 (step_TCC122 0
  (step_TCC121-1 nil 3804991042 ("" (subtype-tcc) nil nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (count const-decl "upto(len)" arrayCount nil))
   nil
   (step subtype
         "cstopdown.good((number_fields.+)(cstopdown.d1, 1), 0)"
         "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (step_TCC123 0
  (step_TCC122-1 nil 3804991042
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack)
                (("2" (hide 2)
                  (("2" (expand fine_entry?)
                    (("2" (ground)
                      (("1" (typepred "St`scaf(pos!1)(n1)")
                        (("1" (grind) nil nil)) nil)
                       ("2" (expand good_good?)
                        (("2" (grind :exclude (max gfcount)) nil nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil)
               ("3" (hide 2)
                (("3" (typepred lflag)
                  (("3" (skeep*)
                    (("3" (ground)
                      (("1" (inst?) nil nil) ("2" (grind) nil nil)
                       ("3" (inst?) nil nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (hide 2)
              (("2" (typepred "St`scaf(pos!1)(n1)")
                (("2" (grind) nil nil)) nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good((number_fields.+)(cstopdown.d1, 1), 0)]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC124 0
  (step_TCC107-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred stack)
      (("" (typepred depth)
        (("" (expand good_depth?)
          (("" (expand pushcount)
            (("" (use scafcount_max)
              (("" (assert)
                (("" (use exp2_lt :subst (n 41 m 64))
                  (("" (ground)
                    (("1" (grind) nil nil)
                     ("2" (rewrite scafcount_update)
                      (("1" (lift-if)
                        (("1" (ground)
                          (("1" (typepred stack)
                            (("1" (grind) nil nil)) nil)
                           ("2" (typepred depth)
                            (("2" (grind :exclude scafcount) nil nil))
                            nil))
                          nil))
                        nil)
                       ("2" (typepred "scaf(pos!1)(n1)")
                        (("2" (grind) nil nil)) nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype "(number_fields.-)(cstopdown.depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good((number_fields.+)(cstopdown.d1, 1), 0)]))")))
 (step_TCC125 0
  (step_TCC108-1 nil 3804455654
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred stack)
        (("2" (lemma good_mem_stack)
          (("2"
            (inst - G "depth - 1" len scaf "push(pos!1, cur)" "rest"
             "good(1 + d1, 0)")
            (("1" (ground)
              (("1" (hide 2) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil)
               ("3" (hide 1)
                (("3" (expand "fine_stack?")
                  (("3" (ground)
                    (("1" (grind) nil nil)
                     ("2" (case-replace "push(pos!1, cur) = stack")
                      (("1" (assert) nil nil)
                       ("2" (apply-extensionality) nil nil))
                      nil))
                    nil))
                  nil))
                nil)
               ("4" (grind) nil nil))
              nil)
             ("2" (typepred "St`scaf(pos(St`stack))(n1)")
              (("1" (grind) nil nil) ("2" (grind) nil nil)
               ("3" (grind) nil nil))
              nil)
             ("3" (grind) nil nil) ("4" (grind) nil nil))
            nil))
          nil))
        nil)
       ("3"
        (use fine_mem_stack :subst
             (len len entry "push(pos!1, cur)" u " good(1 + d1, 0)"
              stack rest))
        (("1" (ground)
          (("1" (hide 2)
            (("1" (typepred stack) (("1" (grind) nil nil)) nil)) nil)
           ("2" (typepred stack) (("2" (grind) nil nil)) nil)
           ("3" (hide 2)
            (("3" (typepred stack) (("3" (grind) nil nil)) nil)) nil)
           ("4" (typepred stack)
            (("4" (hide 1)
              (("4" (expand fine_stack?)
                (("4" (ground)
                  (("1" (grind) nil nil)
                   ("2" (case-replace "push(pos!1, cur) = stack")
                    (("1" (assert) nil nil)
                     ("2" (apply-extensionality) nil nil))
                    nil))
                  nil))
                nil))
              nil))
            nil)
           ("5" (typepred stack) (("5" (grind) nil nil)) nil))
          nil)
         ("2" (typepred stack) (("2" (grind) nil nil)) nil)
         ("3" (typepred "St`scaf(pos(St`stack))(n1)")
          (("1" (grind) nil nil)
           ("2" (typepred stack) (("2" (grind) nil nil)) nil)
           ("3" (typepred stack) (("3" (grind) nil nil)) nil))
          nil)
         ("4" (typepred stack) (("4" (grind) nil nil)) nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.rest"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good((number_fields.+)(cstopdown.d1, 1), 0)]))")))
 (step_TCC126 0
  (step_TCC128-1 nil 3804706560
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred lflag)
        (("1" (assert)
          (("1" (hide -2)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (typepred lflag)
        (("2" (assert)
          (("2" (hide -1) (("2" (lazy-grind) nil nil)) nil)) nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.St`lflag"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.nt(cstopdown.rest) = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good((number_fields.+)(1, cstopdown.d1), 0)], cstopdown.pos(cstopdown.rest), cstopdown.nt(cstopdown.rest))) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good((number_fields.+)(1, cstopdown.d1), 0)](i)(cstopdown.n))) ENDIF}")))
 (step_TCC127 0
  (step_TCC133-1 nil 3804706560 ("" (subtype-tcc) nil nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (count const-decl "upto(len)" arrayCount nil))
   nil
   (step subtype "cstopdown.stack"
         "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (step_TCC128 0
  (step_TCC113-1 nil 3804706560
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack)
                (("2" (hide 2)
                  (("2" (expand fine_entry?) (("2" (grind) nil nil))
                    nil))
                  nil))
                nil)
               ("3" (hide 2)
                (("3" (skeep*)
                  (("3" (typepred lflag)
                    (("3" (case lflag)
                      (("1" (assert)
                        (("1" (hide -3) (("1" (grind) nil nil)) nil))
                        nil)
                       ("2" (assert) (("2" (inst?) nil nil)) nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.n1) := cstopdown.stack]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC129 0
  (step_TCC114-1 nil 3804706560
   ("" (skeep*)
    (("" (split)
      (("1" (typepred stack)
        (("1" (typepred depth)
          (("1" (expand good_depth?)
            (("1" (expand pushcount)
              (("1" (use scafcount_max)
                (("1" (assert)
                  (("1" (use exp2_lt :subst (n 41 m 64))
                    (("1" (ground) (("1" (grind) nil nil)) nil)) nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (expand "good_depth?")
        (("2" (expand pushcount)
          (("2" (rewrite scafcount_update)
            (("1" (lift-if)
              (("1" (ground)
                (("1" (typepred stack) (("1" (grind) nil nil)) nil)
                 ("2" (typepred depth)
                  (("2" (grind :exclude scafcount) nil nil)) nil)
                 ("3" (typepred stack) (("3" (grind) nil nil)) nil))
                nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((count const-decl "upto(len)" arrayCount nil)
    (sigma def-decl "real" sigma reals)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype "(number_fields.+)(cstopdown.depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.n1) := cstopdown.stack]))")))
 (step_TCC130 0
  (step_TCC115-1 nil 3804706560
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred stack)
        (("2" (expand "good_stack?" +)
          (("2" (ground)
            (("1" (grind) nil nil)
             ("2" (lemma good_mem_stack)
              (("2"
                (inst - G "depth" len scaf "push(pos!1, n1)" "stack"
                 stack)
                (("1" (ground)
                  (("1" (grind) nil nil)
                   ("2" (use mem_stack_push) (("2" (ground) nil nil))
                    nil)
                   ("3" (grind) nil nil))
                  nil)
                 ("2" (grind) nil nil) ("3" (grind) nil nil))
                nil))
              nil))
            nil))
          nil))
        nil)
       ("3" (expand fine_stack? +)
        (("3" (ground)
          (("1" (lemma mem_mem_stack)
            (("1" (inst - G depth len scaf _ _ _ _)
              (("1"
                (inst - "push(pos!1, n1)" "push(pos!1, n1)" stack
                 stack)
                (("1" (ground)
                  (("1" (hide -2)
                    (("1" (use mem_stack_push) (("1" (ground) nil nil))
                      nil))
                    nil)
                   ("2" (typepred stack) (("2" (grind) nil nil)) nil)
                   ("3" (typepred stack) (("3" (grind) nil nil)) nil)
                   ("4" (use mem_stack_push) (("4" (ground) nil nil))
                    nil)
                   ("5" (typepred stack) (("5" (grind) nil nil)) nil))
                  nil)
                 ("2" (typepred stack) (("2" (grind) nil nil)) nil)
                 ("3" (typepred stack) (("3" (grind) nil nil)) nil))
                nil))
              nil))
            nil)
           ("2"
            (use fine_mem_stack :subst
                 (len len entry "push(pos!1, n1)" u stack stack stack))
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (use mem_stack_push) (("2" (ground) nil nil)) nil)
               ("3" (grind) nil nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil)
             ("3" (grind)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack) (("2" (grind) nil nil)) nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.push(cstopdown.pos, cstopdown.n1)"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.+)(cstopdown.depth, 1), cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.n1) := cstopdown.stack]))")))
 (step_TCC131 0
  (step_TCC137-1 nil 3804706560
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred lflag)
        (("1" (assert)
          (("1" (hide -2)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (typepred lflag)
        (("2" (assert)
          (("2" (hide -1)
            (("2" (skeep*)
              (("2" (lift-if)
                (("2" (ground)
                  (("1" (lift-if)
                    (("1" (ground)
                      (("1" (typepred stack) (("1" (grind) nil nil))
                        nil)
                       ("2" (inst?) nil nil))
                      nil))
                    nil)
                   ("2" (inst?) nil nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.St`lflag"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.n1 = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.n1) := cstopdown.stack], cstopdown.pos, cstopdown.n1)) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.n1) := cstopdown.stack](i)(cstopdown.n))) ENDIF}")))
 (step_TCC132 0
  (step_TCC87-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (step subtype "cstopdown.loop"
         "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (step_TCC133 0
  (step_TCC88-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack)
                (("2" (hide 2)
                  (("2" (expand fine_entry?) (("2" (grind) nil nil))
                    nil))
                  nil))
                nil)
               ("3" (hide 2)
                (("3" (skeep*)
                  (("3" (typepred lflag)
                    (("3" (case lflag)
                      (("1" (assert)
                        (("1" (hide -3) (("1" (grind) nil nil)) nil))
                        nil)
                       ("2" (assert) (("2" (inst?) nil nil)) nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC134 0
  (step_TCC103-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred stack)
      (("" (typepred depth)
        (("" (expand good_depth?)
          (("" (expand pushcount)
            (("" (use scafcount_max)
              (("" (assert)
                (("" (use exp2_lt :subst (n 41 m 64))
                  (("" (ground)
                    (("1" (grind) nil nil)
                     ("2" (rewrite scafcount_update)
                      (("1" (lift-if)
                        (("1" (ground)
                          (("1" (typepred stack)
                            (("1" (grind) nil nil)) nil)
                           ("2" (typepred depth)
                            (("2" (grind :exclude scafcount) nil nil))
                            nil))
                          nil))
                        nil)
                       ("2" (typepred stack) (("2" (grind) nil nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype "(number_fields.-)(cstopdown.depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop]))")))
 (step_TCC135 0
  (step_TCC104-1 nil 3804455654
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred stack)
        (("2" (lemma good_mem_stack)
          (("2"
            (inst - G "depth - 1" len scaf "push(pos!1, cur)" "rest"
             loop)
            (("1" (ground)
              (("1" (hide 2) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil)
               ("3" (hide 1)
                (("3" (expand "fine_stack?")
                  (("3" (ground)
                    (("1" (grind) nil nil)
                     ("2" (case-replace "push(pos!1, cur) = stack")
                      (("1" (assert) nil nil)
                       ("2" (apply-extensionality) nil nil))
                      nil))
                    nil))
                  nil))
                nil)
               ("4" (grind) nil nil))
              nil)
             ("2" (grind) nil nil) ("3" (grind) nil nil)
             ("4" (grind) nil nil))
            nil))
          nil))
        nil)
       ("3"
        (use fine_mem_stack :subst
             (len len entry "push(pos!1, cur)" u loop stack rest))
        (("1" (ground)
          (("1" (hide 2)
            (("1" (typepred stack) (("1" (grind) nil nil)) nil)) nil)
           ("2" (typepred stack) (("2" (grind) nil nil)) nil)
           ("3" (hide 2)
            (("3" (typepred stack) (("3" (grind) nil nil)) nil)) nil)
           ("4" (typepred stack)
            (("4" (hide 1)
              (("4" (expand fine_stack?)
                (("4" (ground)
                  (("1" (grind) nil nil)
                   ("2" (case-replace "push(pos!1, cur) = stack")
                    (("1" (assert) nil nil)
                     ("2" (apply-extensionality) nil nil))
                    nil))
                  nil))
                nil))
              nil))
            nil)
           ("5" (typepred stack) (("5" (grind) nil nil)) nil))
          nil)
         ("2" (typepred stack) (("2" (grind) nil nil)) nil)
         ("3" (grind) nil nil)
         ("4" (typepred stack) (("4" (grind) nil nil)) nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.rest"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop]))")))
 (step_TCC136 0
  (step_TCC138-1 nil 3804706560
   ("" (skeep*)
    (("" (typepred stack)
      (("" (expand good_stack?)
        (("" (ground)
          (("1" (grind) nil nil)
           ("2" (grind :exclude (good_stack? fine_stack? mem_stack?))
            nil nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "booleans.TRUE"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.nt(cstopdown.rest) = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop], cstopdown.pos(cstopdown.rest), cstopdown.nt(cstopdown.rest))) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop](i)(cstopdown.n))) ENDIF}")))
 (step_TCC137 0
  (step_TCC136-1 nil 3804991042
   ("" (skeep*)
    (("" (typepred scaf)
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("" (expand "good_tscaffold?")
            (("" (inst - pos!1 n1)
              (("" (ground)
                (("1" (expand gfcount)
                  (("1" (use "sigma_max")
                    (("1" (ground)
                      (("1"
                        (case "len * num_non_terminals + num_non_terminals < exp2(64) - 2")
                        (("1" (assert)
                          (("1"
                            (name-replace lnn
                             "len * num_non_terminals + num_non_terminals")
                            (("1" (assert)
                              (("1"
                                (case-replace
                                 "dep(scaf(pos!1)(n1)) = d1")
                                (("1" (assert) nil nil)
                                 ("2" (grind) nil nil))
                                nil))
                              nil))
                            nil))
                          nil)
                         ("2" (assert)
                          (("2"
                            (case "len * num_non_terminals <= exp2(46)")
                            (("1" (assert) (("1" (grind) nil nil)) nil)
                             ("2"
                              (use "lt_times_lt_pos1" :subst
                                   (px
                                    len
                                    nnz
                                    num_non_terminals
                                    y
                                    "exp2(32)"
                                    w
                                    "exp2(8)"))
                              (("1"
                                (hide-all-but (-1 1))
                                (("1"
                                  (grind)
                                  (("1"
                                    (typepred len)
                                    (("1" (grind) nil nil))
                                    nil))
                                  nil))
                                nil)
                               ("2" (assert) nil nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil)
                 ("2" (grind) nil nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil (step subtype "(number_fields.+)(cstopdown.d1, 1)" "uint64")))
 (step_TCC138 0
  (step_TCC137-1 nil 3804991042 ("" (subtype-tcc) nil nil) nil nil
   (step subtype "0" "uint32")))
 (step_TCC139 0
  (step_TCC138-1 nil 3804991042 ("" (subtype-tcc) nil nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (count const-decl "upto(len)" arrayCount nil))
   nil
   (step subtype
         "cstopdown.good((number_fields.+)(cstopdown.d1, 1), 0)"
         "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (step_TCC140 0
  (step_TCC139-1 nil 3804991042
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack)
                (("2" (hide 2)
                  (("2" (expand fine_entry?)
                    (("2" (ground)
                      (("1" (typepred "St`scaf(pos!1)(n1)")
                        (("1" (grind) nil nil)) nil)
                       ("2" (expand good_good?)
                        (("2" (grind :exclude (max gfcount)) nil nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil)
               ("3" (hide 2)
                (("3" (typepred lflag)
                  (("3" (skeep*)
                    (("3" (ground)
                      (("1" (inst?) nil nil) ("2" (grind) nil nil)
                       ("3" (inst?) nil nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (hide 2)
              (("2" (expand nice_entry?)
                (("2" (expand good_good_entry?)
                  (("2" (typepred stack) (("2" (grind) nil nil)) nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good((number_fields.+)(cstopdown.d1, 1), 0)]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC141 0
  (step_TCC110-1 nil 3804706560
   ("" (skeep*)
    (("" (typepred stack)
      (("" (typepred depth)
        (("" (expand good_depth?)
          (("" (expand pushcount)
            (("" (use scafcount_max)
              (("" (assert)
                (("" (use exp2_lt :subst (n 41 m 64))
                  (("" (ground)
                    (("1" (grind) nil nil)
                     ("2" (rewrite scafcount_update)
                      (("1" (lift-if)
                        (("1" (ground)
                          (("1" (typepred stack)
                            (("1" (grind) nil nil)) nil)
                           ("2" (typepred depth)
                            (("2" (grind :exclude scafcount) nil nil))
                            nil))
                          nil))
                        nil)
                       ("2" (typepred "scaf(pos!1)(n1)")
                        (("2" (grind) nil nil)) nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype "(number_fields.-)(cstopdown.depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good((number_fields.+)(cstopdown.d1, 1), 0)]))")))
 (step_TCC142 0
  (step_TCC111-1 nil 3804706560
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred stack)
        (("2" (lemma good_mem_stack)
          (("2"
            (inst - G "depth - 1" len scaf "push(pos!1, cur)" "rest"
             "good(1 + d1, 0)")
            (("1" (ground)
              (("1" (hide 2) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil)
               ("3" (hide 1)
                (("3" (expand "fine_stack?")
                  (("3" (ground)
                    (("1" (grind) nil nil)
                     ("2" (case-replace "push(pos!1, cur) = stack")
                      (("1" (assert) nil nil)
                       ("2" (apply-extensionality) nil nil))
                      nil))
                    nil))
                  nil))
                nil)
               ("4" (grind) nil nil))
              nil)
             ("2" (typepred "St`scaf(pos(St`stack))(n1)")
              (("1" (grind) nil nil) ("2" (grind) nil nil)
               ("3" (grind) nil nil))
              nil)
             ("3" (grind) nil nil) ("4" (grind) nil nil))
            nil))
          nil))
        nil)
       ("3"
        (use fine_mem_stack :subst
             (len len entry "push(pos!1, cur)" u " good(1 + d1, 0)"
              stack rest))
        (("1" (ground)
          (("1" (hide 2)
            (("1" (typepred stack) (("1" (grind) nil nil)) nil)) nil)
           ("2" (typepred stack) (("2" (grind) nil nil)) nil)
           ("3" (hide 2)
            (("3" (typepred stack) (("3" (grind) nil nil)) nil)) nil)
           ("4" (typepred stack)
            (("4" (hide 1)
              (("4" (expand fine_stack?)
                (("4" (ground)
                  (("1" (grind) nil nil)
                   ("2" (case-replace "push(pos!1, cur) = stack")
                    (("1" (assert) nil nil)
                     ("2" (apply-extensionality) nil nil))
                    nil))
                  nil))
                nil))
              nil))
            nil)
           ("5" (typepred stack) (("5" (grind) nil nil)) nil))
          nil)
         ("2" (typepred stack) (("2" (grind) nil nil)) nil)
         ("3" (typepred "St`scaf(pos(St`stack))(n1)")
          (("1" (grind)
            (("1" (typepred stack) (("1" (grind) nil nil)) nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil))
            nil)
           ("2" (typepred stack) (("2" (grind) nil nil)) nil)
           ("3" (typepred stack) (("3" (grind) nil nil)) nil))
          nil)
         ("4" (typepred stack) (("4" (grind) nil nil)) nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.rest"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good((number_fields.+)(cstopdown.d1, 1), 0)]))")))
 (step_TCC143 0
  (step_TCC139-1 nil 3804706560
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred lflag)
        (("1" (assert)
          (("1" (hide -2)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (typepred lflag)
        (("2" (assert)
          (("2" (hide -1) (("2" (lazy-grind) nil nil)) nil)) nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.St`lflag"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.nt(cstopdown.rest) = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good((number_fields.+)(1, cstopdown.d1), 0)], cstopdown.pos(cstopdown.rest), cstopdown.nt(cstopdown.rest))) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.good((number_fields.+)(1, cstopdown.d1), 0)](i)(cstopdown.n))) ENDIF}")))
 (step_TCC144 0
  (step_TCC143-1 nil 3804991042
   ("" (skeep*)
    (("" (typepred scaf)
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("" (expand "good_tscaffold?")
            (("" (inst - pos!1 n1)
              (("" (ground)
                (("1" (expand gfcount)
                  (("1" (use "sigma_max")
                    (("1" (ground)
                      (("1"
                        (case "len * num_non_terminals + num_non_terminals < exp2(64) - 2")
                        (("1" (assert)
                          (("1"
                            (name-replace lnn
                             "len * num_non_terminals + num_non_terminals")
                            (("1" (assert)
                              (("1"
                                (case-replace
                                 "dep(scaf(pos!1)(n1)) = d1")
                                (("1" (assert) nil nil)
                                 ("2" (grind) nil nil))
                                nil))
                              nil))
                            nil))
                          nil)
                         ("2" (assert)
                          (("2"
                            (case "len * num_non_terminals <= exp2(46)")
                            (("1" (assert) (("1" (grind) nil nil)) nil)
                             ("2"
                              (use "lt_times_lt_pos1" :subst
                                   (px
                                    len
                                    nnz
                                    num_non_terminals
                                    y
                                    "exp2(32)"
                                    w
                                    "exp2(8)"))
                              (("1"
                                (hide-all-but (-1 1))
                                (("1"
                                  (grind)
                                  (("1"
                                    (typepred len)
                                    (("1" (grind) nil nil))
                                    nil))
                                  nil))
                                nil)
                               ("2" (assert) nil nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil)
                 ("2" (grind) nil nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil (step subtype "(number_fields.+)(cstopdown.d1, 1)" "uint64")))
 (step_TCC145 0
  (step_TCC144-1 nil 3804991042 ("" (subtype-tcc) nil nil) nil nil
   (step subtype "cstopdown.fail((number_fields.+)(cstopdown.d1, 1))"
         "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (step_TCC146 0
  (step_TCC145-1 nil 3804991042
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack) (("2" (grind) nil nil)) nil)
               ("3" (typepred lflag)
                (("3" (skeep*)
                  (("3" (ground)
                    (("1" (inst?) nil nil) ("2" (grind) nil nil)
                     ("3" (inst?) nil nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (hide -2 2)
              (("2" (typepred stack) (("2" (grind) nil nil)) nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail((number_fields.+)(cstopdown.d1, 1))]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC147 0
  (step_TCC123-1 nil 3804706560
   ("" (skeep*)
    (("" (split +)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred depth) (("2" (grind) nil nil)) nil)
       ("3" (typepred depth)
        (("3" (typepred stack)
          (("3" (expand good_depth?)
            (("3" (expand pushcount)
              (("3" (expand scafcount)
                (("3" (use sigma_dec)
                  (("3" (ground)
                    (("1" (lift-if -1)
                      (("1" (ground)
                        (("1" (grind) nil nil)
                         ("2"
                          (case-replace "(LAMBDA (i: upto(len)):
                                                                                       count(num_non_terminals)(push?)
                                                                                            (St`scaf WITH [(pos!1)(cur) := fail(1 + d1)](i))) = ((LAMBDA (i: upto(len)):
                                                                                       count(num_non_terminals)(push?)(St`scaf(i)))
                                                                                      WITH [(pos!1)
                                                                                              := count(num_non_terminals)(push?)(St`scaf(pos!1)) -
                                                                                                  1])")
                          (("1" (hide -1) (("1" (assert) nil nil)) nil)
                           ("2" (hide -1 3)
                            (("2" (apply-extensionality)
                              (("1"
                                (hide 2)
                                (("1"
                                  (expand count)
                                  (("1"
                                    (case "pos!1 = x!1")
                                    (("1"
                                      (assert)
                                      (("1"
                                        (case-replace
                                         "{i: below(num_non_terminals) |
                                                                                                                                            push?(St`scaf(x!1) WITH [(cur) := fail(1 + d1)](i))} = remove(cur, {i_1: below(num_non_terminals) | push?(St`scaf(x!1)(i_1))})")
                                        (("1"
                                          (rewrite card_remove)
                                          (("1"
                                            (hide -1)
                                            (("1"
                                              (lift-if +)
                                              (("1"
                                                (ground)
                                                (("1" (grind) nil nil))
                                                nil))
                                              nil))
                                            nil)
                                           ("2"
                                            (hide -1 2)
                                            (("2"
                                              (rewrite "count_TCC1")
                                              nil
                                              nil))
                                            nil))
                                          nil)
                                         ("2"
                                          (hide 2)
                                          (("2"
                                            (apply-extensionality)
                                            (("1"
                                              (hide 2)
                                              (("1"
                                                (hide -3 -4 -6)
                                                (("1" (grind) nil nil))
                                                nil))
                                              nil)
                                             ("2" (grind) nil nil)
                                             ("3"
                                              (skeep*)
                                              (("3"
                                                (use step_TCC144)
                                                (("3"
                                                  (ground)
                                                  (("3"
                                                    (inst?)
                                                    (("3"
                                                      (inst?)
                                                      (("3"
                                                        (ground)
                                                        nil
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil)
                                         ("3"
                                          (hide -6 2)
                                          (("3" (grind) nil nil))
                                          nil)
                                         ("4"
                                          (hide 2)
                                          (("4"
                                            (skeep*)
                                            (("4"
                                              (use step_TCC144)
                                              (("4"
                                                (ground)
                                                (("4"
                                                  (inst?)
                                                  (("4"
                                                    (inst?)
                                                    (("4"
                                                      (ground)
                                                      nil
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil)
                                     ("2" (assert) nil nil))
                                    nil))
                                  nil))
                                nil)
                               ("2"
                                (hide 2)
                                (("2"
                                  (expand count +)
                                  (("2"
                                    (use
                                     "nonempty_card[below(num_non_terminals)]")
                                    (("1"
                                      (ground)
                                      (("1"
                                        (expand nonempty?)
                                        (("1"
                                          (expand empty?)
                                          (("1"
                                            (inst - "nt(stack)")
                                            (("1" (grind) nil nil)
                                             ("2"
                                              (assert)
                                              (("2"
                                                (typepred "nt(stack)")
                                                (("2"
                                                  (expand
                                                   "good_push_entry?")
                                                  (("2"
                                                    (propax)
                                                    nil
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil)
                                     ("2"
                                      (rewrite "count_TCC1")
                                      nil
                                      nil))
                                    nil))
                                  nil))
                                nil)
                               ("3"
                                (hide 2)
                                (("3" (grind) nil nil))
                                nil)
                               ("4"
                                (hide 2)
                                (("4"
                                  (use step_TCC144)
                                  (("4"
                                    (ground)
                                    (("4"
                                      (inst?)
                                      (("4"
                                        (inst?)
                                        (("4" (ground) nil nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil)
                           ("3" (hide -1)
                            (("3" (expand count)
                              (("3"
                                (use
                                 "nonempty_card[below(num_non_terminals)]")
                                (("1"
                                  (ground)
                                  (("1"
                                    (hide -5 5)
                                    (("1" (grind) nil nil))
                                    nil))
                                  nil)
                                 ("2" (rewrite "count_TCC1") nil nil))
                                nil))
                              nil))
                            nil)
                           ("4" (hide -1 3) (("4" (grind) nil nil))
                            nil)
                           ("5" (use step_TCC144)
                            (("5" (ground)
                              (("5"
                                (inst?)
                                (("5"
                                  (inst?)
                                  (("5" (ground) nil nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil)
                     ("2" (expand count)
                      (("2"
                        (use "nonempty_card[below(num_non_terminals)]")
                        (("1" (grind) nil nil)
                         ("2" (rewrite count_TCC1) nil nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (arr type-eq-decl nil arrayCount nil)
    (count_TCC1 subtype-tcc nil arrayCount nil))
   nil
   (step subtype "(number_fields.-)(cstopdown.depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail((number_fields.+)(cstopdown.d1, 1))]))")))
 (step_TCC148 0
  (step_TCC124-1 nil 3804706560
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred stack)
        (("2" (lemma good_mem_stack)
          (("2"
            (inst - G "depth - 1" len scaf "push(pos!1, cur)" "rest"
             "fail(1 + d1)")
            (("1" (ground)
              (("1" (hide 2) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil)
               ("3" (hide 1)
                (("3" (expand "fine_stack?")
                  (("3" (ground)
                    (("1" (grind) nil nil)
                     ("2" (case-replace "push(pos!1, cur) = stack")
                      (("1" (assert) nil nil)
                       ("2" (apply-extensionality) nil nil))
                      nil))
                    nil))
                  nil))
                nil)
               ("4" (grind) nil nil))
              nil)
             ("2" (typepred "St`scaf(pos(St`stack))(n1)")
              (("1" (grind) nil nil) ("2" (grind) nil nil)
               ("3" (grind) nil nil))
              nil)
             ("3" (grind) nil nil) ("4" (grind) nil nil))
            nil))
          nil))
        nil)
       ("3"
        (use fine_mem_stack :subst
             (len len entry "push(pos!1, cur)" u "fail(1 + d1)" stack
              rest))
        (("1" (ground)
          (("1" (hide 2)
            (("1" (typepred stack) (("1" (grind) nil nil)) nil)) nil)
           ("2" (typepred stack) (("2" (grind) nil nil)) nil)
           ("3" (hide 2)
            (("3" (typepred stack) (("3" (grind) nil nil)) nil)) nil)
           ("4" (typepred stack)
            (("4" (hide 1)
              (("4" (expand fine_stack?)
                (("4" (ground)
                  (("1" (grind) nil nil)
                   ("2" (case-replace "push(pos!1, cur) = stack")
                    (("1" (assert) nil nil)
                     ("2" (apply-extensionality) nil nil))
                    nil))
                  nil))
                nil))
              nil))
            nil)
           ("5" (typepred stack) (("5" (grind) nil nil)) nil))
          nil)
         ("2" (typepred stack) (("2" (grind) nil nil)) nil)
         ("3" (typepred "St`scaf(pos(St`stack))(n1)")
          (("1" (grind) nil nil)
           ("2" (typepred stack) (("2" (grind) nil nil)) nil)
           ("3" (typepred stack) (("3" (grind) nil nil)) nil))
          nil)
         ("4" (typepred stack) (("4" (grind) nil nil)) nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.rest"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail((number_fields.+)(cstopdown.d1, 1))]))")))
 (step_TCC149 0
  (step_TCC140-1 nil 3804706560
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred lflag)
        (("1" (assert)
          (("1" (hide -2)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (typepred lflag)
        (("2" (assert)
          (("2" (hide -1) (("2" (lazy-grind) nil nil)) nil)) nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.St`lflag"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.nt(cstopdown.rest) = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail((number_fields.+)(1, cstopdown.d1))], cstopdown.pos(cstopdown.rest), cstopdown.nt(cstopdown.rest))) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.fail((number_fields.+)(1, cstopdown.d1))](i)(cstopdown.n))) ENDIF}")))
 (step_TCC150 0
  (step_TCC134-1 nil 3804904050 ("" (subtype-tcc) nil nil)
   ((sigma_nat application-judgement "nat" sigma reals)
    (count const-decl "upto(len)" arrayCount nil))
   nil
   (step subtype "cstopdown.stack"
         "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (step_TCC151 0
  (step_TCC134-1 nil 3804706560
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack)
                (("2" (hide 2)
                  (("2" (expand fine_entry?) (("2" (grind) nil nil))
                    nil))
                  nil))
                nil)
               ("3" (hide 2)
                (("3" (skeep*)
                  (("3" (typepred lflag)
                    (("3" (case lflag)
                      (("1" (assert)
                        (("1" (hide -3) (("1" (grind) nil nil)) nil))
                        nil)
                       ("2" (assert) (("2" (inst?) nil nil)) nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.n1) := cstopdown.stack]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC152 0
  (step_TCC135-1 nil 3804706560
   ("" (skeep*)
    (("" (split)
      (("1" (typepred stack)
        (("1" (typepred depth)
          (("1" (expand good_depth?)
            (("1" (expand pushcount)
              (("1" (use scafcount_max)
                (("1" (assert)
                  (("1" (use exp2_lt :subst (n 41 m 64))
                    (("1" (ground) (("1" (grind) nil nil)) nil)) nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (expand "good_depth?")
        (("2" (expand pushcount)
          (("2" (rewrite scafcount_update)
            (("1" (lift-if)
              (("1" (ground)
                (("1" (typepred stack) (("1" (grind) nil nil)) nil)
                 ("2" (typepred depth)
                  (("2" (grind :exclude scafcount) nil nil)) nil)
                 ("3" (typepred stack) (("3" (grind) nil nil)) nil))
                nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((count const-decl "upto(len)" arrayCount nil)
    (sigma def-decl "real" sigma reals)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype "(number_fields.+)(cstopdown.depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.n1) := cstopdown.stack]))")))
 (step_TCC153 0
  (step_TCC136-1 nil 3804706560
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred stack)
        (("2" (expand "good_stack?" +)
          (("2" (ground)
            (("1" (grind) nil nil)
             ("2" (lemma good_mem_stack)
              (("2"
                (inst - G "depth" len scaf "push(pos!1, n1)" "stack"
                 stack)
                (("1" (ground)
                  (("1" (grind) nil nil)
                   ("2" (use mem_stack_push) (("2" (ground) nil nil))
                    nil)
                   ("3" (grind) nil nil))
                  nil)
                 ("2" (grind) nil nil) ("3" (grind) nil nil))
                nil))
              nil))
            nil))
          nil))
        nil)
       ("3" (expand fine_stack? +)
        (("3" (ground)
          (("1" (lemma mem_mem_stack)
            (("1" (inst - G depth len scaf _ _ _ _)
              (("1"
                (inst - "push(pos!1, n1)" "push(pos!1, n1)" stack
                 stack)
                (("1" (ground)
                  (("1" (hide -2)
                    (("1" (use mem_stack_push) (("1" (ground) nil nil))
                      nil))
                    nil)
                   ("2" (typepred stack) (("2" (grind) nil nil)) nil)
                   ("3" (typepred stack) (("3" (grind) nil nil)) nil)
                   ("4" (use mem_stack_push) (("4" (ground) nil nil))
                    nil)
                   ("5" (typepred stack) (("5" (grind) nil nil)) nil))
                  nil)
                 ("2" (typepred stack) (("2" (grind) nil nil)) nil)
                 ("3" (typepred stack) (("3" (grind) nil nil)) nil))
                nil))
              nil))
            nil)
           ("2"
            (use fine_mem_stack :subst
                 (len len entry "push(pos!1, n1)" u stack stack stack))
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (use mem_stack_push) (("2" (ground) nil nil)) nil)
               ("3" (grind) nil nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil)
             ("3" (grind)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack) (("2" (grind) nil nil)) nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.push(cstopdown.pos, cstopdown.n1)"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.+)(cstopdown.depth, 1), cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.n1) := cstopdown.stack]))")))
 (step_TCC154 0
  (step_TCC137-1 nil 3804730988
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred lflag)
        (("1" (assert)
          (("1" (hide -2)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (typepred lflag)
        (("2" (assert)
          (("2" (hide -1)
            (("2" (skeep*)
              (("2" (lift-if)
                (("2" (ground)
                  (("1" (lift-if)
                    (("1" (ground)
                      (("1" (typepred stack) (("1" (grind) nil nil))
                        nil)
                       ("2" (inst?) nil nil))
                      nil))
                    nil)
                   ("2" (inst?) nil nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.St`lflag"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.n1 = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.n1) := cstopdown.stack], cstopdown.pos, cstopdown.n1)) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.n1) := cstopdown.stack](i)(cstopdown.n))) ENDIF}")))
 (step_TCC155 0
  (step_TCC105-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (step subtype "cstopdown.loop"
         "(cstopdown.nice_entry?(cstopdown.len, cstopdown.pos))")))
 (step_TCC156 0
  (step_TCC106-1 nil 3804455654
   ("" (skeep*)
    (("" (typepred "scaf")
      (("" (expand "fine_scaffold?")
        (("" (ground)
          (("1" (hide -2) (("1" (grind) nil nil)) nil)
           ("2" (use good_good_tscaffold)
            (("1" (ground)
              (("1" (typepred stack) (("1" (grind) nil nil)) nil)
               ("2" (typepred stack)
                (("2" (hide 2)
                  (("2" (expand fine_entry?) (("2" (grind) nil nil))
                    nil))
                  nil))
                nil)
               ("3" (hide 2)
                (("3" (skeep*)
                  (("3" (typepred lflag)
                    (("3" (case lflag)
                      (("1" (assert)
                        (("1" (hide -3) (("1" (grind) nil nil)) nil))
                        nil)
                       ("2" (assert) (("2" (inst?) nil nil)) nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (typepred stack) (("2" (grind) nil nil)) nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype
         "cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop]"
         "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(cstopdown.start, cstopdown.rootnt))")))
 (step_TCC157 0
  (step_TCC131-1 nil 3804706560
   ("" (skeep*)
    (("" (typepred stack)
      (("" (typepred depth)
        (("" (expand good_depth?)
          (("" (expand pushcount)
            (("" (use scafcount_max)
              (("" (assert)
                (("" (use exp2_lt :subst (n 41 m 64))
                  (("" (ground)
                    (("1" (grind) nil nil)
                     ("2" (rewrite scafcount_update)
                      (("1" (lift-if)
                        (("1" (ground)
                          (("1" (typepred stack)
                            (("1" (grind) nil nil)) nil)
                           ("2" (typepred depth)
                            (("2" (grind :exclude scafcount) nil nil))
                            nil))
                          nil))
                        nil)
                       ("2" (typepred stack) (("2" (grind) nil nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (step subtype "(number_fields.-)(cstopdown.depth, 1)"
         "(cstopdown.good_depth?(cstopdown.len, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop]))")))
 (step_TCC158 0
  (step_TCC132-1 nil 3804706560
   ("" (skeep*)
    (("" (ground)
      (("1" (typepred stack) (("1" (grind) nil nil)) nil)
       ("2" (typepred stack)
        (("2" (lemma good_mem_stack)
          (("2"
            (inst - G "depth - 1" len scaf "push(pos!1, cur)" "rest"
             loop)
            (("1" (ground)
              (("1" (hide 2) (("1" (grind) nil nil)) nil)
               ("2" (grind) nil nil)
               ("3" (hide 1)
                (("3" (expand "fine_stack?")
                  (("3" (ground)
                    (("1" (grind) nil nil)
                     ("2" (case-replace "push(pos!1, cur) = stack")
                      (("1" (assert) nil nil)
                       ("2" (apply-extensionality) nil nil))
                      nil))
                    nil))
                  nil))
                nil)
               ("4" (grind) nil nil))
              nil)
             ("2" (grind) nil nil) ("3" (grind) nil nil)
             ("4" (grind) nil nil))
            nil))
          nil))
        nil)
       ("3"
        (use fine_mem_stack :subst
             (len len entry "push(pos!1, cur)" u loop stack rest))
        (("1" (ground)
          (("1" (hide 2)
            (("1" (typepred stack) (("1" (grind) nil nil)) nil)) nil)
           ("2" (typepred stack) (("2" (grind) nil nil)) nil)
           ("3" (hide 2)
            (("3" (typepred stack) (("3" (grind) nil nil)) nil)) nil)
           ("4" (typepred stack)
            (("4" (hide 1)
              (("4" (expand fine_stack?)
                (("4" (ground)
                  (("1" (grind) nil nil)
                   ("2" (case-replace "push(pos!1, cur) = stack")
                    (("1" (assert) nil nil)
                     ("2" (apply-extensionality) nil nil))
                    nil))
                  nil))
                nil))
              nil))
            nil)
           ("5" (typepred stack) (("5" (grind) nil nil)) nil))
          nil)
         ("2" (typepred stack) (("2" (grind) nil nil)) nil)
         ("3" (grind) nil nil)
         ("4" (typepred stack) (("4" (grind) nil nil)) nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "cstopdown.rest"
         "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, (number_fields.-)(cstopdown.depth, 1), cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop]))")))
 (step_TCC159 0
  (step_TCC142-1 nil 3804730988
   ("" (skeep*)
    (("" (typepred stack)
      (("" (expand good_stack?)
        (("" (ground)
          (("1" (grind) nil nil)
           ("2" (grind :exclude (good_stack? fine_stack? mem_stack?))
            nil nil))
          nil))
        nil))
      nil))
    nil)
   nil nil
   (step subtype "booleans.TRUE"
         "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.nt(cstopdown.rest) = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop], cstopdown.pos(cstopdown.rest), cstopdown.nt(cstopdown.rest))) ELSE FORALL (i: naturalnumbers.upto(cstopdown.len)), n: (booleans.NOT)(cstopdown.loop?(cstopdown.St`scaf WITH [(cstopdown.pos)(cstopdown.cur) := cstopdown.loop](i)(cstopdown.n))) ENDIF}")))
 (size_TCC1 0
  (size_TCC1-1 nil 3808434333 ("" (subtype-tcc) nil nil) nil nil
   (size subtype "cstopdown.len"
         "naturalnumbers.upto(cstopdown.len)")))
 (size_TCC2 0
  (size_TCC2-1 nil 3808434333
   ("" (skeep*)
    (("" (typepred "St`depth")
      (("" (expand good_depth?)
        (("" (expand pushcount)
          (("" (use sigma_max) (("" (grind :exclude exp2) nil nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((count const-decl "upto(len)" arrayCount nil)
    (sigma def-decl "real" sigma reals)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (size subtype
         "(number_fields.-)((number_fields.*(((number_fields.+)(cstopdown.len, 1)), cstopdown.num_non_terminals)), cstopdown.St`depth)"
         "nat")))
 (endstate_TCC1 0
  (endstate_TCC1-1 nil 3804455654
   ("" (skeep*) (("" (typepred "st`stack") (("" (grind) nil nil)) nil))
    nil)
   nil nil
   (endstate subtype "cstopdown.st`stack" "(cstopdown.push?)")))
 (parse_TCC1 0
  (parse_TCC2-1 nil 3804455654
   ("" (use well_founded_le) (("" (grind :exclude <) nil nil)) nil) nil
   nil
   (parse well-founded
          "restrict[[ordstruct_adt.ordstruct, ordstruct_adt.ordstruct], [ordinal, ordinal], booleans.bool].restrict(ordinals.<)"
          "nil")))
 (parse_TCC2 0
  (parse_TCC3-1 nil 3804455654
   ("" (skeep*) (("" (typepred "St`stack") (("" (grind) nil nil)) nil))
    nil)
   nil nil
   (parse subtype "cstopdown.St"
          "cstopdown.endstate(cstopdown.len, cstopdown.G, cstopdown.s, cstopdown.start, cstopdown.root)")))
 (parse_TCC3 0
  (parse_TCC4-1 nil 3804455654
   ("" (skeep*)
    (("" (expand restrict)
      (("" (expand size)
        (("" (rewrite lex2_lt)
          (("1" (flatten)
            (("1" (hide 3)
              (("1" (typepred "St`stack")
                (("1" (apply (then (expand step) (lift-if) (ground)))
                  (("1" (hide 1) (("1" (grind) nil nil)) nil)
                   ("2" (rewrite scafcount_update)
                    (("1" (grind :defs nil)
                      (("1" (grind) nil nil) ("2" (grind) nil nil)
                       ("3" (grind) nil nil))
                      nil)
                     ("2" (grind) nil nil) ("3" (grind) nil nil))
                    nil)
                   ("3" (rewrite scafcount_update)
                    (("1" (grind :defs nil)
                      (("1" (grind) nil nil) ("2" (grind) nil nil)
                       ("3" (grind) nil nil))
                      nil)
                     ("2" (grind) nil nil) ("3" (grind) nil nil))
                    nil)
                   ("4" (rewrite scafcount_update)
                    (("1" (grind :defs nil)
                      (("1" (grind) nil nil) ("2" (grind) nil nil))
                      nil)
                     ("2" (grind) nil nil))
                    nil)
                   ("5" (rewrite scafcount_update)
                    (("1" (grind :defs nil)
                      (("1" (grind) nil nil) ("2" (grind) nil nil)
                       ("3" (grind) nil nil))
                      nil)
                     ("2" (grind) nil nil) ("3" (grind) nil nil))
                    nil)
                   ("6" (rewrite scafcount_update)
                    (("1" (grind :defs nil)
                      (("1" (grind) nil nil) ("2" (grind) nil nil)
                       ("3" (grind) nil nil))
                      nil)
                     ("2" (grind) nil nil) ("3" (grind) nil nil))
                    nil)
                   ("7" (rewrite scafcount_update)
                    (("1" (grind :defs nil)
                      (("1" (grind) nil nil) ("2" (grind) nil nil))
                      nil)
                     ("2" (grind) nil nil))
                    nil)
                   ("8" (grind :defs nil)
                    (("8" (rewrite scafcount_update)
                      (("1" (grind :defs nil)
                        (("1" (grind) nil nil) ("2" (grind) nil nil)
                         ("3" (grind) nil nil))
                        nil)
                       ("2" (grind) nil nil) ("3" (grind) nil nil))
                      nil))
                    nil)
                   ("9" (rewrite scafcount_update)
                    (("1" (grind :defs nil)
                      (("1" (grind) nil nil) ("2" (grind) nil nil)
                       ("3" (grind) nil nil))
                      nil)
                     ("2" (grind) nil nil) ("3" (grind) nil nil))
                    nil)
                   ("10" (rewrite scafcount_update)
                    (("1" (grind :defs nil)
                      (("1" (grind) nil nil) ("2" (grind) nil nil)
                       ("3" (grind) nil nil))
                      nil)
                     ("2" (grind) nil nil))
                    nil)
                   ("11" (rewrite scafcount_update)
                    (("1" (grind :defs nil)
                      (("1" (grind) nil nil) ("2" (grind) nil nil)
                       ("3" (grind) nil nil))
                      nil)
                     ("2" (grind) nil nil))
                    nil)
                   ("12" (rewrite scafcount_update)
                    (("1" (grind :defs nil)
                      (("1" (grind) nil nil) ("2" (grind) nil nil)
                       ("3" (grind) nil nil))
                      nil)
                     ("2" (hide 2)
                      (("2" (expand nice_entry?)
                        (("2" (expand "good_good_entry?")
                          (("2"
                            (typepred
                             "step(len, G, s, start, root)(St)`scaf")
                            (("2" (expand step)
                              (("2"
                                (expand fine_scaffold?)
                                (("2"
                                  (ground)
                                  (("2"
                                    (hide -1)
                                    (("2"
                                      (expand good_tscaffold?)
                                      (("2"
                                        (inst
                                         -
                                         "pos(St`stack)"
                                         "nt(St`stack)")
                                        (("2" (grind) nil nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil)
                   ("13" (reveal 1)
                    (("13" (hide 2)
                      (("13" (ground)
                        (("1" (expand step)
                          (("1" (rewrite scafcount_update)
                            (("1" (grind :defs nil)
                              (("1" (grind) nil nil)
                               ("2" (grind) nil nil))
                              nil)
                             ("2" (grind) nil nil))
                            nil))
                          nil)
                         ("2" (expand step) (("2" (assert) nil nil))
                          nil))
                        nil))
                      nil))
                    nil)
                   ("14" (rewrite scafcount_update)
                    (("1" (grind :defs nil)
                      (("1" (grind) nil nil) ("2" (grind) nil nil)
                       ("3" (grind) nil nil))
                      nil)
                     ("2" (grind) nil nil))
                    nil)
                   ("15" (reveal 1)
                    (("15" (hide 2)
                      (("15" (ground)
                        (("1" (expand step)
                          (("1" (rewrite scafcount_update)
                            (("1" (grind :defs nil)
                              (("1" (grind) nil nil)
                               ("2" (grind) nil nil))
                              nil)
                             ("2" (grind) nil nil))
                            nil))
                          nil)
                         ("2" (expand step) (("2" (assert) nil nil))
                          nil))
                        nil))
                      nil))
                    nil)
                   ("16" (rewrite scafcount_update)
                    (("1" (grind :defs nil)
                      (("1" (grind) nil nil) ("2" (grind) nil nil)
                       ("3" (grind) nil nil))
                      nil)
                     ("2" (grind) nil nil))
                    nil)
                   ("17" (rewrite scafcount_update)
                    (("1" (grind :defs nil)
                      (("1" (grind) nil nil) ("2" (grind) nil nil)
                       ("3" (grind) nil nil))
                      nil)
                     ("2" (grind) nil nil))
                    nil)
                   ("18" (rewrite scafcount_update)
                    (("1" (grind :defs nil)
                      (("1" (grind) nil nil) ("2" (grind) nil nil)
                       ("3" (grind) nil nil))
                      nil)
                     ("2" (hide 2)
                      (("2"
                        (typepred
                         "step(len, G, s, start, root)(St)`scaf")
                        (("2" (expand fine_scaffold?)
                          (("2" (ground)
                            (("2" (hide -1)
                              (("2"
                                (expand good_tscaffold?)
                                (("2"
                                  (inst
                                   -
                                   "pos(St`stack)"
                                   "nt(St`stack)")
                                  (("2" (grind) nil nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil)
                   ("19" (reveal 1)
                    (("19" (hide 2)
                      (("19" (ground)
                        (("1" (expand step)
                          (("1" (rewrite scafcount_update)
                            (("1" (grind :defs nil)
                              (("1" (grind) nil nil)
                               ("2" (grind) nil nil))
                              nil)
                             ("2" (grind) nil nil))
                            nil))
                          nil)
                         ("2" (expand step) (("2" (assert) nil nil))
                          nil))
                        nil))
                      nil))
                    nil)
                   ("20" (rewrite scafcount_update)
                    (("1" (grind :defs nil)
                      (("1" (grind) nil nil) ("2" (grind) nil nil)
                       ("3" (grind) nil nil))
                      nil)
                     ("2" (grind) nil nil))
                    nil)
                   ("21" (rewrite scafcount_update)
                    (("1" (grind :defs nil)
                      (("1" (grind) nil nil) ("2" (grind) nil nil)
                       ("3" (grind) nil nil))
                      nil)
                     ("2"
                      (typepred
                       "step(len, G, s, start, root)(St)`scaf")
                      (("2" (expand fine_scaffold?)
                        (("2" (ground)
                          (("2" (hide -1)
                            (("2" (expand good_tscaffold?)
                              (("2"
                                (inst - "pos(St`stack)" "nt(St`stack)")
                                (("2" (grind) nil nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil)
                   ("22" (reveal 1)
                    (("22" (hide 2)
                      (("22" (expand step)
                        (("22" (rewrite scafcount_update)
                          (("1" (grind :defs nil)
                            (("1" (grind) nil nil)
                             ("2" (grind) nil nil))
                            nil)
                           ("2" (grind) nil nil))
                          nil))
                        nil))
                      nil))
                    nil)
                   ("23" (rewrite scafcount_update)
                    (("1" (grind :defs nil)
                      (("1" (grind) nil nil) ("2" (grind) nil nil)
                       ("3" (grind) nil nil))
                      nil)
                     ("2" (grind) nil nil))
                    nil)
                   ("24" (rewrite scafcount_update)
                    (("1" (grind :defs nil)
                      (("1" (grind) nil nil) ("2" (grind) nil nil)
                       ("3" (grind) nil nil))
                      nil)
                     ("2" (grind) nil nil))
                    nil)
                   ("25" (rewrite scafcount_update)
                    (("1" (grind :defs nil)
                      (("1" (grind) nil nil) ("2" (grind) nil nil)
                       ("3" (grind) nil nil))
                      nil)
                     ("2" (grind) nil nil))
                    nil)
                   ("26" (reveal 1)
                    (("26" (hide 2)
                      (("26" (expand step)
                        (("26" (rewrite scafcount_update)
                          (("1" (grind :defs nil)
                            (("1" (grind) nil nil)
                             ("2" (grind) nil nil))
                            nil)
                           ("2" (grind) nil nil))
                          nil))
                        nil))
                      nil))
                    nil)
                   ("27" (rewrite scafcount_update)
                    (("1" (grind :defs nil)
                      (("1" (grind) nil nil) ("2" (grind) nil nil)
                       ("3" (grind) nil nil))
                      nil)
                     ("2" (grind) nil nil))
                    nil)
                   ("28" (rewrite scafcount_update)
                    (("1" (grind :defs nil)
                      (("1" (grind) nil nil) ("2" (grind) nil nil)
                       ("3" (grind) nil nil))
                      nil)
                     ("2" (grind) nil nil))
                    nil)
                   ("29" (rewrite scafcount_update)
                    (("1" (grind :defs nil)
                      (("1" (grind) nil nil) ("2" (grind) nil nil)
                       ("3" (grind) nil nil))
                      nil)
                     ("2" (grind) nil nil))
                    nil)
                   ("30" (reveal 1)
                    (("30" (hide 2)
                      (("30" (expand step)
                        (("30" (rewrite scafcount_update)
                          (("1" (grind :defs nil)
                            (("1" (grind) nil nil)
                             ("2" (grind) nil nil))
                            nil)
                           ("2" (grind) nil nil))
                          nil))
                        nil))
                      nil))
                    nil)
                   ("31" (grind :defs nil)
                    (("31" (rewrite scafcount_update)
                      (("1" (grind :defs nil)
                        (("1" (grind) nil nil) ("2" (grind) nil nil)
                         ("3" (grind) nil nil))
                        nil)
                       ("2" (grind) nil nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil)
           ("2" (typepred "St`depth")
            (("2" (expand good_depth?)
              (("2" (expand pushcount)
                (("2" (use sigma_max) (("2" (ground) nil nil)) nil))
                nil))
              nil))
            nil)
           ("3" (typepred "step(len, G, s, start, root)(St)`depth")
            (("3" (expand good_depth?)
              (("3" (expand pushcount)
                (("3" (use sigma_max) (("3" (ground) nil nil)) nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((count const-decl "upto(len)" arrayCount nil)
    (sigma def-decl "real" sigma reals)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (parse termination
          "cstopdown.parse(cstopdown.len, cstopdown.G, cstopdown.s, cstopdown.start, cstopdown.root)(cstopdown.step(cstopdown.len, cstopdown.G, cstopdown.s, cstopdown.start, cstopdown.root)(cstopdown.St))"
          "nil")))
 (doparse_TCC1 0
  (doparse_TCC3-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (doparse subtype "cstopdown.pend"
    "[non_terminal -> (cstopdown.nice_entry?(cstopdown.len, cstopdown.i))]")))
 (doparse_TCC2 0
  (doparse_TCC2-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (doparse subtype "0" "naturalnumbers.upto(cstopdown.len)")))
 (doparse_TCC3 0
  (doparse_TCC3-1 nil 3808434333 ("" (subtype-tcc) nil nil) nil nil
   (doparse subtype "0" "uint32")))
 (doparse_TCC4 0
  (doparse_TCC4-1 nil 3804547853 ("" (grind) nil nil) nil nil
   (doparse subtype "cstopdown.num_non_terminals" "uint8")))
 (doparse_TCC5 0
  (doparse_TCC4-1 nil 3804455654 ("" (subtype-tcc) nil nil) nil nil
   (doparse subtype "cstopdown.push(0, cstopdown.num_non_terminals)"
    "(cstopdown.nice_entry?(cstopdown.len, 0))")))
 (doparse_TCC6 0
  (doparse_TCC5-1 nil 3804455654 ("" (subtype-tcc) nil nil)
   ((count const-decl "upto(len)" arrayCount nil)) nil
   (doparse subtype
    "(LAMBDA (i: naturalnumbers.upto(cstopdown.len)): cstopdown.pend) WITH [(0)(cstopdown.n) := cstopdown.push(0, cstopdown.num_non_terminals)]"
    "(cstopdown.fine_scaffold?(cstopdown.len, cstopdown.G, cstopdown.s)(0, cstopdown.n))")))
 (doparse_TCC7 0
  (doparse_TCC1-1 nil 3804455654
   ("" (skeep*)
    (("" (grind :exclude good_depth?)
      (("" (expand good_depth?)
        (("" (expand pushcount)
          (("" (rewrite scafcount_update)
            (("" (use "empty_card[below(255)]")
              (("1" (ground)
                (("1" (replace -2 :hide? t)
                  (("1" (rewrite "reals@sigma[upto(len)].sigma_zero")
                    nil nil))
                  nil))
                nil)
               ("2" (hide 2)
                (("2" (inst + 255 "id[below(255)]")
                  (("2" (grind) nil nil)) nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   ((sigma_zero formula-decl nil sigma reals)
    (T_high type-eq-decl nil sigma reals)
    (T_low type-eq-decl nil sigma reals)
    (sigma def-decl "real" sigma reals)
    (count const-decl "upto(len)" arrayCount nil)
    (sigma_nat application-judgement "nat" sigma reals))
   nil
   (doparse subtype "1"
    "(cstopdown.good_depth?(cstopdown.len, (LAMBDA (i: naturalnumbers.upto(cstopdown.len)): cstopdown.pend) WITH [(0)(cstopdown.n) := cstopdown.push(0, cstopdown.num_non_terminals)]))")))
 (doparse_TCC8 0
  (doparse_TCC6-1 nil 3804534082 ("" (grind) nil nil) nil nil
   (doparse subtype "cstopdown.push(0, cstopdown.n)"
    "(cstopdown.fine_stack?(cstopdown.len, cstopdown.G, 1, (LAMBDA (i: naturalnumbers.upto(cstopdown.len)): cstopdown.pend) WITH [(0)(cstopdown.n) := cstopdown.push(0, cstopdown.num_non_terminals)]))")))
 (doparse_TCC9 0
  (doparse_TCC8-1 nil 3804730988 ("" (subtype-tcc) nil nil) nil nil
   (doparse subtype "booleans.FALSE"
    "{b: booleans.bool | IF b THEN booleans.OR(cstopdown.n = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdown.len, cstopdown.G, (LAMBDA (i: naturalnumbers.upto(cstopdown.len)): cstopdown.pend) WITH [(0)(cstopdown.n) := cstopdown.push(0, cstopdown.num_non_terminals)], 0, cstopdown.n)) ELSE FORALL (i_1: naturalnumbers.upto(cstopdown.len)), (n_1: cstopdown.non_terminal): (booleans.NOT)(cstopdown.loop?((LAMBDA (i: naturalnumbers.upto(cstopdown.len)): cstopdown.pend) WITH [(0)(cstopdown.n) := cstopdown.push(0, cstopdown.num_non_terminals)](i_1)(n_1))) ENDIF}"))))


$$$cstopdowntest.pvs
cstopdowntest 	: THEORY

  BEGIN
   IMPORTING cstopdown

   digit(x: byte): bool = (x >= 48 AND x <= 57)
   any(x: byte): bool = TRUE
   

   pyaml(n: non_terminal): peg =
   COND 
    n = 0 -> choice(1, 3),  %data -> numeral / adata
    n = 1 ->  concat(2, 1),  %numeral -> any(48-57) o numeral
    n = 2 -> any(digit),
    n = 3 -> choice(4, 35),  %adata -> dict / array
    n = 4 -> concat(5, 11),  %dict -> obrace o dictail
    n = 5 -> concat(6, 7),  %obrace -> { o wspace
    n = 6 -> terminal(123), %{
    n = 7 -> choice(8, 10), %wspace ->  wspace$ / epsilon
    n = 8 -> concat(9, 7),  %wspace$ -> terminal(32) o wspace
    n = 9 -> terminal(32),  %space
    n = 10 -> epsilon,
    n = 11 -> choice(12, 14), %dictail -> cbrace / dictail$
    n = 12 -> concat(13, 7), %cbrace -> terminal(125) o wspace
    n = 13 -> terminal(125),
    n = 14 -> concat(15, 31), % dictail$ -> dictentry o dictailc
    n = 15 -> concat(16, 28), %dictentry -> lhs o seprhs
    n = 16 -> choice(1, 17),  %lhs -> numeral / token
    n = 17 -> concat(18, 7), %token -> token$ o wspace
    n = 18 -> concat(19, 25), %token$ -> terminal(39) o tokentail
    n = 19 -> terminal(39),
    n = 20 -> choice(21, 25), %tokentail-> esctail / qtail
    n = 21 -> concat(22, 20), %esctail -> esquote o tokentail
    n = 22 -> concat(23, 19), %esquote -> terminal(92) o terminal(39)
    n = 23 -> terminal(92),
    n = 24 -> concat(19, 7), %quote -> terminal(39) o wspace
    n = 25 -> choice(24, 26), %qtail -> quote / tktail
    n = 26 -> concat(27, 20), %tktail -> any o tokentail
    n = 27 -> any(any),
    n = 28 -> concat(29, 0), %seprhs -> separator o data
    n = 29 -> concat(30, 7), %separator -> terminal(58) o wspace
    n = 30 -> terminal(58),
    n = 31 -> choice(32, 12),  %dictailc -> cdictailc / cbrace
    n = 32 -> concat(33, 14),   %cdictailc -> comma o dictail$
    n = 33 -> concat(34, 7),  %comma -> terminal(44) o wspace 
    n = 34 -> terminal(44),
    n = 35 -> concat(36, 38), %array -> obrack o aentries
    n = 36 -> concat(37, 7), %obrack -> terminal(91) o wspace 
    n = 37 -> terminal(91),
    n = 38 -> choice(39, 43), %aentries -> aentries* o cbrack
    n = 39 -> choice(40, 10), %aentries* -> aentries$ / epsilon
    n = 40 -> concat(0, 41), %aentries$ -> data o aentriestail
    n = 41 -> choice(42, 10), %aentriestail -> centries / epsilon
    n = 42 -> concat(33, 40), %centries -> comma o aentries$
    n = 43 -> concat(44, 7),  %cbrack -> terminal(93) o wspace
    n = 44 -> terminal(93),
    ELSE -> epsilon
    ENDCOND

    len, l1, l2 : VAR uint8
    
    empty(len)(i:below(len)): byte = 32

    cat(l1, (l2 : below(exp2(8) - l1)))(s1: strings(l1), s2: strings(l2)): strings(l1 + l2) = 
     LAMBDA (i:below(l1 + l2)): IF i < l1 THEN s1(i) ELSE s2(i - l1) ENDIF

    tok0(i : below(7)): byte =
     COND i = 0 -> 39, i = 1 -> 116, i = 2 -> 111, i = 3 -> 107, i = 4 -> 101, i = 5 -> 110, i = 6 -> 39 ENDCOND
    
    tok1(i : below(9)): byte =
     COND i = 0 -> 39, i = 1 -> 116, i = 2 -> 111, i = 3 -> 107, i = 4 -> 101, i = 5 -> 110, i = 6 -> 92, i = 7 -> 39, i = 8 -> 39 ENDCOND

    emptydict(i: below(9)): byte = 
         COND i = 0 -> 123, i = 1 -> 32, i = 2 -> 32, i = 3 -> 32, i = 4 -> 32, i = 5 -> 32, i = 6 -> 32, i = 7 -> 125, i = 8 -> 32 ENDCOND

    obrace(i: below(3)): byte = COND i = 0 -> 123, i = 1 -> 32, i = 2 -> 32 ENDCOND
    cbrace(i: below(3)): byte = COND i = 0 -> 125, i = 1 -> 32, i = 2 -> 32 ENDCOND
    colon(i: below(3)): byte = COND i = 0 -> 58, i = 1 -> 32, i = 2 -> 32 ENDCOND
    emptydict2: strings(6) =
      cat(3, 3)(obrace, cbrace)

    dict1: strings(22) =
      cat(3, 19)(obrace, cat(7, 12)(tok0, cat(3, 9)(colon, cat(6, 3)(emptydict2, cbrace))))

    test0: ent = doparse(2, pyaml, empty(2), 7)
    test0eval: LEMMA good?(test0)
     
    test1: ent = doparse(7, pyaml, tok0, 17)
    test11: ent = doparse(9, pyaml, tok1, 17)
    test2: ent = doparse(22, pyaml, dict1, 0)

%    test2eval: LEMMA good?(test2)

    G: VAR lang_spec
    n: VAR non_terminal

    iparse(len, G, (s: strings(len)), (start: upto(len)), (root: non_terminal)): ent
    = (LET pend = (LAMBDA n: pending),
          St: state(len, G, s, start, root) = (# 
 		 stack := push(start, root),
		 depth := 1,
		 lflag := FALSE, 
 		 scaf := (LAMBDA (i: upto(len)): pend) WITH [(start)(root) := push(0, num_non_terminals)] #)
      IN parse(len, G, s, start, root)(St)`scaf(start)(root))
    
  END cstopdowntest

$$$cstopdowntest.prf
(cstopdowntest
 (pyaml_TCC1 0
  (pyaml_TCC1-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "1" "non_terminal")))
 (pyaml_TCC2 0
  (pyaml_TCC2-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "3" "non_terminal")))
 (pyaml_TCC3 0
  (pyaml_TCC3-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "2" "non_terminal")))
 (pyaml_TCC4 0
  (pyaml_TCC4-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "1" "non_terminal")))
 (pyaml_TCC5 0
  (pyaml_TCC5-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "4" "non_terminal")))
 (pyaml_TCC6 0
  (pyaml_TCC6-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "35" "non_terminal")))
 (pyaml_TCC7 0
  (pyaml_TCC7-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "5" "non_terminal")))
 (pyaml_TCC8 0
  (pyaml_TCC8-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "11" "non_terminal")))
 (pyaml_TCC9 0
  (pyaml_TCC9-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "6" "non_terminal")))
 (pyaml_TCC10 0
  (pyaml_TCC10-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "7" "non_terminal")))
 (pyaml_TCC11 0
  (pyaml_TCC11-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "8" "non_terminal")))
 (pyaml_TCC12 0
  (pyaml_TCC12-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "10" "non_terminal")))
 (pyaml_TCC13 0
  (pyaml_TCC13-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "9" "non_terminal")))
 (pyaml_TCC14 0
  (pyaml_TCC14-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "7" "non_terminal")))
 (pyaml_TCC15 0
  (pyaml_TCC15-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "12" "non_terminal")))
 (pyaml_TCC16 0
  (pyaml_TCC16-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "14" "non_terminal")))
 (pyaml_TCC17 0
  (pyaml_TCC17-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "13" "non_terminal")))
 (pyaml_TCC18 0
  (pyaml_TCC18-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "7" "non_terminal")))
 (pyaml_TCC19 0
  (pyaml_TCC19-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "15" "non_terminal")))
 (pyaml_TCC20 0
  (pyaml_TCC20-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "31" "non_terminal")))
 (pyaml_TCC21 0
  (pyaml_TCC21-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "16" "non_terminal")))
 (pyaml_TCC22 0
  (pyaml_TCC22-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "28" "non_terminal")))
 (pyaml_TCC23 0
  (pyaml_TCC23-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "1" "non_terminal")))
 (pyaml_TCC24 0
  (pyaml_TCC24-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "17" "non_terminal")))
 (pyaml_TCC25 0
  (pyaml_TCC25-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "18" "non_terminal")))
 (pyaml_TCC26 0
  (pyaml_TCC26-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "7" "non_terminal")))
 (pyaml_TCC27 0
  (pyaml_TCC27-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "19" "non_terminal")))
 (pyaml_TCC28 0
  (pyaml_TCC28-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "25" "non_terminal")))
 (pyaml_TCC29 0
  (pyaml_TCC29-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "21" "non_terminal")))
 (pyaml_TCC30 0
  (pyaml_TCC30-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "25" "non_terminal")))
 (pyaml_TCC31 0
  (pyaml_TCC31-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "22" "non_terminal")))
 (pyaml_TCC32 0
  (pyaml_TCC32-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "20" "non_terminal")))
 (pyaml_TCC33 0
  (pyaml_TCC33-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "23" "non_terminal")))
 (pyaml_TCC34 0
  (pyaml_TCC34-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "19" "non_terminal")))
 (pyaml_TCC35 0
  (pyaml_TCC35-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "19" "non_terminal")))
 (pyaml_TCC36 0
  (pyaml_TCC36-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "7" "non_terminal")))
 (pyaml_TCC37 0
  (pyaml_TCC37-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "24" "non_terminal")))
 (pyaml_TCC38 0
  (pyaml_TCC38-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "26" "non_terminal")))
 (pyaml_TCC39 0
  (pyaml_TCC39-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "27" "non_terminal")))
 (pyaml_TCC40 0
  (pyaml_TCC40-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "20" "non_terminal")))
 (pyaml_TCC41 0
  (pyaml_TCC41-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "29" "non_terminal")))
 (pyaml_TCC42 0
  (pyaml_TCC42-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "0" "non_terminal")))
 (pyaml_TCC43 0
  (pyaml_TCC43-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "30" "non_terminal")))
 (pyaml_TCC44 0
  (pyaml_TCC44-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "7" "non_terminal")))
 (pyaml_TCC45 0
  (pyaml_TCC45-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "32" "non_terminal")))
 (pyaml_TCC46 0
  (pyaml_TCC46-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "12" "non_terminal")))
 (pyaml_TCC47 0
  (pyaml_TCC47-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "33" "non_terminal")))
 (pyaml_TCC48 0
  (pyaml_TCC48-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "14" "non_terminal")))
 (pyaml_TCC49 0
  (pyaml_TCC49-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "34" "non_terminal")))
 (pyaml_TCC50 0
  (pyaml_TCC50-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "7" "non_terminal")))
 (pyaml_TCC51 0
  (pyaml_TCC51-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "36" "non_terminal")))
 (pyaml_TCC52 0
  (pyaml_TCC52-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "38" "non_terminal")))
 (pyaml_TCC53 0
  (pyaml_TCC53-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "37" "non_terminal")))
 (pyaml_TCC54 0
  (pyaml_TCC54-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "7" "non_terminal")))
 (pyaml_TCC55 0
  (pyaml_TCC55-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "39" "non_terminal")))
 (pyaml_TCC56 0
  (pyaml_TCC56-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "43" "non_terminal")))
 (pyaml_TCC57 0
  (pyaml_TCC57-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "40" "non_terminal")))
 (pyaml_TCC58 0
  (pyaml_TCC58-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "10" "non_terminal")))
 (pyaml_TCC59 0
  (pyaml_TCC59-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "0" "non_terminal")))
 (pyaml_TCC60 0
  (pyaml_TCC60-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "41" "non_terminal")))
 (pyaml_TCC61 0
  (pyaml_TCC61-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "42" "non_terminal")))
 (pyaml_TCC62 0
  (pyaml_TCC62-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "10" "non_terminal")))
 (pyaml_TCC63 0
  (pyaml_TCC63-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "33" "non_terminal")))
 (pyaml_TCC64 0
  (pyaml_TCC64-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "40" "non_terminal")))
 (pyaml_TCC65 0
  (pyaml_TCC65-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "44" "non_terminal")))
 (pyaml_TCC66 0
  (pyaml_TCC66-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)) nil
   (pyaml subtype "7" "non_terminal")))
 (cat_TCC1 0
  (cat_TCC1-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((nil application-judgement "above(n)" exp2 nil)) nil
   (cat subtype "(number_fields.-)(exp2.exp2(8), cstopdowntest.l1)"
    "nat")))
 (cat_TCC2 0
  (cat_TCC2-1 nil 3805067364 ("" (grind) nil nil)
   ((boolean nonempty-type-decl nil booleans nil)
    (bool nonempty-type-eq-decl nil booleans nil)
    (NOT const-decl "[bool -> bool]" booleans nil)
    (number nonempty-type-decl nil numbers nil)
    (number_field_pred const-decl "[number -> boolean]" number_fields
     nil)
    (number_field nonempty-type-from-decl nil number_fields nil)
    (real_pred const-decl "[number_field -> boolean]" reals nil)
    (real nonempty-type-from-decl nil reals nil)
    (< const-decl "bool" reals nil)
    (rational_pred const-decl "[real -> boolean]" rationals nil)
    (rational nonempty-type-from-decl nil rationals nil)
    (integer_pred const-decl "[rational -> boolean]" integers nil)
    (int nonempty-type-eq-decl nil integers nil)
    (>= const-decl "bool" reals nil)
    (nat nonempty-type-eq-decl nil naturalnumbers nil)
    (nonneg_int nonempty-type-eq-decl nil integers nil)
    (> const-decl "bool" reals nil)
    (posnat nonempty-type-eq-decl nil integers nil)
    (uint8 type-eq-decl nil integertypes nil)
    (real_lt_is_strict_total_order name-judgement
     "(strict_total_order?[real])" real_props nil)
    (nil application-judgement "above(n)" exp2 nil)
    (real_le_is_total_order name-judgement "(total_order?[real])"
     real_props nil)
    (exp2 def-decl "posnat" exp2 nil))
   nil (cat subtype "cstopdowntest.l1" "uint32")))
 (cat_TCC3 0
  (cat_TCC3-1 nil 3805067364 ("" (grind) nil nil)
   ((boolean nonempty-type-decl nil booleans nil)
    (bool nonempty-type-eq-decl nil booleans nil)
    (NOT const-decl "[bool -> bool]" booleans nil)
    (number nonempty-type-decl nil numbers nil)
    (number_field_pred const-decl "[number -> boolean]" number_fields
     nil)
    (number_field nonempty-type-from-decl nil number_fields nil)
    (real_pred const-decl "[number_field -> boolean]" reals nil)
    (real nonempty-type-from-decl nil reals nil)
    (< const-decl "bool" reals nil)
    (rational_pred const-decl "[real -> boolean]" rationals nil)
    (rational nonempty-type-from-decl nil rationals nil)
    (integer_pred const-decl "[rational -> boolean]" integers nil)
    (int nonempty-type-eq-decl nil integers nil)
    (>= const-decl "bool" reals nil)
    (nat nonempty-type-eq-decl nil naturalnumbers nil)
    (nonneg_int nonempty-type-eq-decl nil integers nil)
    (> const-decl "bool" reals nil)
    (posnat nonempty-type-eq-decl nil integers nil)
    (uint8 type-eq-decl nil integertypes nil)
    (numfield nonempty-type-eq-decl nil number_fields nil)
    (- const-decl "[numfield, numfield -> numfield]" number_fields nil)
    (below type-eq-decl nil naturalnumbers nil)
    (real_lt_is_strict_total_order name-judgement
     "(strict_total_order?[real])" real_props nil)
    (int_minus_int_is_int application-judgement "int" integers nil)
    (real_le_is_total_order name-judgement "(total_order?[real])"
     real_props nil)
    (exp2 def-decl "posnat" exp2 nil)
    (nil application-judgement "above(n)" exp2 nil))
   nil (cat subtype "cstopdowntest.l2" "uint32")))
 (cat_TCC4 0
  (cat_TCC4-1 nil 3805067364 ("" (grind) nil nil)
   ((boolean nonempty-type-decl nil booleans nil)
    (bool nonempty-type-eq-decl nil booleans nil)
    (NOT const-decl "[bool -> bool]" booleans nil)
    (number nonempty-type-decl nil numbers nil)
    (number_field_pred const-decl "[number -> boolean]" number_fields
     nil)
    (number_field nonempty-type-from-decl nil number_fields nil)
    (real_pred const-decl "[number_field -> boolean]" reals nil)
    (real nonempty-type-from-decl nil reals nil)
    (< const-decl "bool" reals nil)
    (rational_pred const-decl "[real -> boolean]" rationals nil)
    (rational nonempty-type-from-decl nil rationals nil)
    (integer_pred const-decl "[rational -> boolean]" integers nil)
    (int nonempty-type-eq-decl nil integers nil)
    (>= const-decl "bool" reals nil)
    (nat nonempty-type-eq-decl nil naturalnumbers nil)
    (nonneg_int nonempty-type-eq-decl nil integers nil)
    (> const-decl "bool" reals nil)
    (posnat nonempty-type-eq-decl nil integers nil)
    (uint8 type-eq-decl nil integertypes nil)
    (numfield nonempty-type-eq-decl nil number_fields nil)
    (- const-decl "[numfield, numfield -> numfield]" number_fields nil)
    (below type-eq-decl nil naturalnumbers nil)
    (real_lt_is_strict_total_order name-judgement
     "(strict_total_order?[real])" real_props nil)
    (int_minus_int_is_int application-judgement "int" integers nil)
    (real_le_is_total_order name-judgement "(total_order?[real])"
     real_props nil)
    (nnint_plus_nnint_is_nnint application-judgement "nonneg_int"
     integers nil)
    (exp2 def-decl "posnat" exp2 nil)
    (nil application-judgement "above(n)" exp2 nil))
   nil
   (cat subtype "(number_fields.+)(cstopdowntest.l1, cstopdowntest.l2)"
    "uint32")))
 (cat_TCC5 0
  (cat_TCC5-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((boolean nonempty-type-decl nil booleans nil)
    (bool nonempty-type-eq-decl nil booleans nil)
    (NOT const-decl "[bool -> bool]" booleans nil)
    (number nonempty-type-decl nil numbers nil)
    (number_field_pred const-decl "[number -> boolean]" number_fields
     nil)
    (number_field nonempty-type-from-decl nil number_fields nil)
    (real_pred const-decl "[number_field -> boolean]" reals nil)
    (real nonempty-type-from-decl nil reals nil)
    (< const-decl "bool" reals nil)
    (rational_pred const-decl "[real -> boolean]" rationals nil)
    (rational nonempty-type-from-decl nil rationals nil)
    (integer_pred const-decl "[rational -> boolean]" integers nil)
    (int nonempty-type-eq-decl nil integers nil)
    (>= const-decl "bool" reals nil)
    (nat nonempty-type-eq-decl nil naturalnumbers nil)
    (nonneg_int nonempty-type-eq-decl nil integers nil)
    (> const-decl "bool" reals nil)
    (posnat nonempty-type-eq-decl nil integers nil)
    (exp2 def-decl "posnat" exp2 nil)
    (uint8 type-eq-decl nil integertypes nil)
    (numfield nonempty-type-eq-decl nil number_fields nil)
    (- const-decl "[numfield, numfield -> numfield]" number_fields nil)
    (below type-eq-decl nil naturalnumbers nil)
    (+ const-decl "[numfield, numfield -> numfield]" number_fields nil)
    (real_ge_is_total_order name-judgement "(total_order?[real])"
     real_props nil)
    (nnint_plus_nnint_is_nnint application-judgement "nonneg_int"
     integers nil)
    (int_minus_int_is_int application-judgement "int" integers nil)
    (real_lt_is_strict_total_order name-judgement
     "(strict_total_order?[real])" real_props nil)
    (nil application-judgement "above(n)" exp2 nil))
   nil
   (cat subtype "(number_fields.-)(cstopdowntest.i, cstopdowntest.l1)"
    "naturalnumbers.below(cstopdowntest.l2)")))
 (tok0_TCC1 0
  (tok0_TCC1-1 nil 3805067364 ("" (cond-coverage-tcc) nil nil)
   ((boolean nonempty-type-decl nil booleans nil)
    (bool nonempty-type-eq-decl nil booleans nil)
    (NOT const-decl "[bool -> bool]" booleans nil)
    (number nonempty-type-decl nil numbers nil)
    (number_field_pred const-decl "[number -> boolean]" number_fields
     nil)
    (number_field nonempty-type-from-decl nil number_fields nil)
    (real_pred const-decl "[number_field -> boolean]" reals nil)
    (real nonempty-type-from-decl nil reals nil)
    (< const-decl "bool" reals nil)
    (rational_pred const-decl "[real -> boolean]" rationals nil)
    (rational nonempty-type-from-decl nil rationals nil)
    (integer_pred const-decl "[rational -> boolean]" integers nil)
    (int nonempty-type-eq-decl nil integers nil)
    (>= const-decl "bool" reals nil)
    (nat nonempty-type-eq-decl nil naturalnumbers nil)
    (below type-eq-decl nil naturalnumbers nil)
    (real_lt_is_strict_total_order name-judgement
     "(strict_total_order?[real])" real_props nil))
   nil
   (tok0 coverage
    "COND cstopdowntest.i = 0 -> 39, cstopdowntest.i = 1 -> 116, cstopdowntest.i = 2 -> 111, cstopdowntest.i = 3 -> 107, cstopdowntest.i = 4 -> 101, cstopdowntest.i = 5 -> 110, cstopdowntest.i = 6 -> 39 ENDCOND"
    "nil")))
 (tok1_TCC1 0
  (tok1_TCC1-1 nil 3805067364 ("" (cond-coverage-tcc) nil nil)
   ((boolean nonempty-type-decl nil booleans nil)
    (bool nonempty-type-eq-decl nil booleans nil)
    (NOT const-decl "[bool -> bool]" booleans nil)
    (number nonempty-type-decl nil numbers nil)
    (number_field_pred const-decl "[number -> boolean]" number_fields
     nil)
    (number_field nonempty-type-from-decl nil number_fields nil)
    (real_pred const-decl "[number_field -> boolean]" reals nil)
    (real nonempty-type-from-decl nil reals nil)
    (< const-decl "bool" reals nil)
    (rational_pred const-decl "[real -> boolean]" rationals nil)
    (rational nonempty-type-from-decl nil rationals nil)
    (integer_pred const-decl "[rational -> boolean]" integers nil)
    (int nonempty-type-eq-decl nil integers nil)
    (>= const-decl "bool" reals nil)
    (nat nonempty-type-eq-decl nil naturalnumbers nil)
    (below type-eq-decl nil naturalnumbers nil)
    (real_lt_is_strict_total_order name-judgement
     "(strict_total_order?[real])" real_props nil))
   nil
   (tok1 coverage
    "COND cstopdowntest.i = 0 -> 39, cstopdowntest.i = 1 -> 116, cstopdowntest.i = 2 -> 111, cstopdowntest.i = 3 -> 107, cstopdowntest.i = 4 -> 101, cstopdowntest.i = 5 -> 110, cstopdowntest.i = 6 -> 92, cstopdowntest.i = 7 -> 39, cstopdowntest.i = 8 -> 39 ENDCOND"
    "nil")))
 (obrace_TCC1 0
  (obrace_TCC1-1 nil 3805067364 ("" (cond-coverage-tcc) nil nil)
   ((boolean nonempty-type-decl nil booleans nil)
    (bool nonempty-type-eq-decl nil booleans nil)
    (NOT const-decl "[bool -> bool]" booleans nil)
    (number nonempty-type-decl nil numbers nil)
    (number_field_pred const-decl "[number -> boolean]" number_fields
     nil)
    (number_field nonempty-type-from-decl nil number_fields nil)
    (real_pred const-decl "[number_field -> boolean]" reals nil)
    (real nonempty-type-from-decl nil reals nil)
    (< const-decl "bool" reals nil)
    (rational_pred const-decl "[real -> boolean]" rationals nil)
    (rational nonempty-type-from-decl nil rationals nil)
    (integer_pred const-decl "[rational -> boolean]" integers nil)
    (int nonempty-type-eq-decl nil integers nil)
    (>= const-decl "bool" reals nil)
    (nat nonempty-type-eq-decl nil naturalnumbers nil)
    (below type-eq-decl nil naturalnumbers nil)
    (real_lt_is_strict_total_order name-judgement
     "(strict_total_order?[real])" real_props nil))
   nil
   (obrace coverage
    "COND cstopdowntest.i = 0 -> 123, cstopdowntest.i = 1 -> 32, cstopdowntest.i = 2 -> 32 ENDCOND"
    "nil")))
 (emptydict2_TCC1 0
  (emptydict2_TCC1-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((real_le_is_total_order name-judgement "(total_order?[real])"
     real_props nil)
    (int_minus_int_is_int application-judgement "int" integers nil)
    (nil application-judgement "above(n)" exp2 nil))
   nil (emptydict2 subtype "6" "uint32")))
 (emptydict2_TCC2 0
  (emptydict2_TCC3-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((real_lt_is_strict_total_order name-judgement
     "(strict_total_order?[real])" real_props nil)
    (int_minus_int_is_int application-judgement "int" integers nil)
    (nil application-judgement "above(n)" exp2 nil))
   nil
   (emptydict2 subtype "3"
    "naturalnumbers.below((number_fields.-)(exp2.exp2(8), 3))")))
 (dict1_TCC1 0
  (dict1_TCC1-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((real_le_is_total_order name-judgement "(total_order?[real])"
     real_props nil)
    (int_minus_int_is_int application-judgement "int" integers nil)
    (nil application-judgement "above(n)" exp2 nil))
   nil (dict1 subtype "22" "uint32")))
 (dict1_TCC2 0
  (dict1_TCC3-1 nil 3805067364 ("" (grind) nil nil)
   ((real_lt_is_strict_total_order name-judgement
     "(strict_total_order?[real])" real_props nil)
    (int_minus_int_is_int application-judgement "int" integers nil)
    (nil application-judgement "above(n)" exp2 nil)
    (even_times_int_is_even application-judgement "even_int" integers
     nil)
    (posint_times_posint_is_posint application-judgement "posint"
     integers nil)
    (exp2 def-decl "posnat" exp2 nil))
   nil
   (dict1 subtype "3"
    "naturalnumbers.below((number_fields.-)(exp2.exp2(8), 6))")))
 (dict1_TCC3 0
  (dict1_TCC4-1 nil 3805067364 ("" (grind) nil nil)
   ((real_lt_is_strict_total_order name-judgement
     "(strict_total_order?[real])" real_props nil)
    (int_minus_int_is_int application-judgement "int" integers nil)
    (nil application-judgement "above(n)" exp2 nil)
    (even_times_int_is_even application-judgement "even_int" integers
     nil)
    (posint_times_posint_is_posint application-judgement "posint"
     integers nil)
    (exp2 def-decl "posnat" exp2 nil))
   nil
   (dict1 subtype "9"
    "naturalnumbers.below((number_fields.-)(exp2.exp2(8), 3))")))
 (dict1_TCC4 0
  (dict1_TCC6-1 nil 3805067364 ("" (grind) nil nil)
   ((real_lt_is_strict_total_order name-judgement
     "(strict_total_order?[real])" real_props nil)
    (int_minus_int_is_int application-judgement "int" integers nil)
    (nil application-judgement "above(n)" exp2 nil)
    (even_times_int_is_even application-judgement "even_int" integers
     nil)
    (posint_times_posint_is_posint application-judgement "posint"
     integers nil)
    (exp2 def-decl "posnat" exp2 nil))
   nil
   (dict1 subtype "12"
    "naturalnumbers.below((number_fields.-)(exp2.exp2(8), 7))")))
 (dict1_TCC5 0
  (dict1_TCC7-1 nil 3805067364 ("" (grind) nil nil)
   ((real_lt_is_strict_total_order name-judgement
     "(strict_total_order?[real])" real_props nil)
    (int_minus_int_is_int application-judgement "int" integers nil)
    (nil application-judgement "above(n)" exp2 nil)
    (even_times_int_is_even application-judgement "even_int" integers
     nil)
    (posint_times_posint_is_posint application-judgement "posint"
     integers nil)
    (exp2 def-decl "posnat" exp2 nil))
   nil
   (dict1 subtype "19"
    "naturalnumbers.below((number_fields.-)(exp2.exp2(8), 3))")))
 (test0_TCC1 0
  (test0_TCC1-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((real_le_is_total_order name-judgement "(total_order?[real])"
     real_props nil)
    (int_minus_int_is_int application-judgement "int" integers nil)
    (nil application-judgement "above(n)" exp2 nil))
   nil (test0 subtype "2" "uint32")))
 (test0_TCC2 0
  (test0_TCC3-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)
    (real_lt_is_strict_total_order name-judgement
     "(strict_total_order?[real])" real_props nil))
   nil (test0 subtype "7" "non_terminal")))
 (test0eval 0
  (test0eval-1 nil 3805071593
   ("" (auto-rewrite-theory "cstopdown")
    (("" (auto-rewrite-theory "cstopdowntest")
      (("" (assert) (("" (postpone) nil nil)) nil)) nil))
    nil)
   nil shostak))
 (test1_TCC1 0
  (test1_TCC1-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((real_le_is_total_order name-judgement "(total_order?[real])"
     real_props nil)
    (int_minus_int_is_int application-judgement "int" integers nil)
    (nil application-judgement "above(n)" exp2 nil))
   nil (test1 subtype "7" "uint32")))
 (test1_TCC2 0
  (test1_TCC2-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)
    (real_lt_is_strict_total_order name-judgement
     "(strict_total_order?[real])" real_props nil))
   nil (test1 subtype "17" "non_terminal")))
 (test11_TCC1 0
  (test11_TCC1-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((real_le_is_total_order name-judgement "(total_order?[real])"
     real_props nil)
    (int_minus_int_is_int application-judgement "int" integers nil)
    (nil application-judgement "above(n)" exp2 nil))
   nil (test11 subtype "9" "uint32")))
 (test2_TCC1 0
  (test2_TCC1-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)
    (real_lt_is_strict_total_order name-judgement
     "(strict_total_order?[real])" real_props nil))
   nil (test2 subtype "0" "non_terminal")))
 (iparse_TCC1 0
  (iparse_TCC1-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((boolean nonempty-type-decl nil booleans nil)
    (bool nonempty-type-eq-decl nil booleans nil)
    (NOT const-decl "[bool -> bool]" booleans nil)
    (number nonempty-type-decl nil numbers nil)
    (number_field_pred const-decl "[number -> boolean]" number_fields
     nil)
    (number_field nonempty-type-from-decl nil number_fields nil)
    (real_pred const-decl "[number_field -> boolean]" reals nil)
    (real nonempty-type-from-decl nil reals nil)
    (< const-decl "bool" reals nil)
    (rational_pred const-decl "[real -> boolean]" rationals nil)
    (rational nonempty-type-from-decl nil rationals nil)
    (integer_pred const-decl "[rational -> boolean]" integers nil)
    (int nonempty-type-eq-decl nil integers nil)
    (>= const-decl "bool" reals nil)
    (nat nonempty-type-eq-decl nil naturalnumbers nil)
    (nonneg_int nonempty-type-eq-decl nil integers nil)
    (> const-decl "bool" reals nil)
    (posnat nonempty-type-eq-decl nil integers nil)
    (exp2 def-decl "posnat" exp2 nil)
    (uint8 type-eq-decl nil integertypes nil)
    (byte type-eq-decl nil cstopdown nil)
    (non_terminal type-eq-decl nil cstopdown nil)
    (real_lt_is_strict_total_order name-judgement
     "(strict_total_order?[real])" real_props nil)
    (nil application-judgement "above(n)" exp2 nil)
    (real_le_is_total_order name-judgement "(total_order?[real])"
     real_props nil)
    (int_minus_int_is_int application-judgement "int" integers nil)
    (nnint_plus_nnint_is_nnint application-judgement "nonneg_int"
     integers nil)
    (<= const-decl "bool" reals nil)
    (upto nonempty-type-eq-decl nil naturalnumbers nil)
    (good_good_entry? const-decl "bool" cstopdown nil)
    (num_non_terminals const-decl "byte" cstopdown nil)
    (good_push_entry? const-decl "bool" cstopdown nil)
    (nice_entry? const-decl "bool" cstopdown nil))
   nil
   (iparse subtype "cstopdowntest.pend"
    "[non_terminal -> (cstopdown.nice_entry?(cstopdowntest.len, cstopdowntest.i))]")))
 (iparse_TCC2 0
  (iparse_TCC2-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((boolean nonempty-type-decl nil booleans nil)
    (bool nonempty-type-eq-decl nil booleans nil)
    (NOT const-decl "[bool -> bool]" booleans nil)
    (number nonempty-type-decl nil numbers nil)
    (number_field_pred const-decl "[number -> boolean]" number_fields
     nil)
    (number_field nonempty-type-from-decl nil number_fields nil)
    (real_pred const-decl "[number_field -> boolean]" reals nil)
    (real nonempty-type-from-decl nil reals nil)
    (< const-decl "bool" reals nil)
    (rational_pred const-decl "[real -> boolean]" rationals nil)
    (rational nonempty-type-from-decl nil rationals nil)
    (integer_pred const-decl "[rational -> boolean]" integers nil)
    (int nonempty-type-eq-decl nil integers nil)
    (>= const-decl "bool" reals nil)
    (nat nonempty-type-eq-decl nil naturalnumbers nil)
    (nonneg_int nonempty-type-eq-decl nil integers nil)
    (> const-decl "bool" reals nil)
    (posnat nonempty-type-eq-decl nil integers nil)
    (exp2 def-decl "posnat" exp2 nil)
    (uint8 type-eq-decl nil integertypes nil)
    (byte type-eq-decl nil cstopdown nil)
    (num_non_terminals const-decl "byte" cstopdown nil)
    (non_terminal type-eq-decl nil cstopdown nil)
    (int_minus_int_is_int application-judgement "int" integers nil)
    (real_le_is_total_order name-judgement "(total_order?[real])"
     real_props nil)
    (real_lt_is_strict_total_order name-judgement
     "(strict_total_order?[real])" real_props nil)
    (nil application-judgement "above(n)" exp2 nil))
   nil (iparse subtype "0" "uint32")))
 (iparse_TCC3 0
  (iparse_TCC3-1 nil 3805067364 ("" (grind) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)
    (exp2 def-decl "posnat" exp2 nil))
   nil (iparse subtype "cstopdown.num_non_terminals" "uint8")))
 (iparse_TCC4 0
  (iparse_TCC4-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((num_non_terminals const-decl "byte" cstopdown nil)
    (good_good_entry? const-decl "bool" cstopdown nil)
    (good_push_entry? const-decl "bool" cstopdown nil)
    (nice_entry? const-decl "bool" cstopdown nil))
   nil
   (iparse subtype "cstopdown.push(0, cstopdown.num_non_terminals)"
    "(cstopdown.nice_entry?(cstopdowntest.len, cstopdowntest.start))")))
 (iparse_TCC5 0
  (iparse_TCC5-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((boolean nonempty-type-decl nil booleans nil)
    (bool nonempty-type-eq-decl nil booleans nil)
    (NOT const-decl "[bool -> bool]" booleans nil)
    (number nonempty-type-decl nil numbers nil)
    (number_field_pred const-decl "[number -> boolean]" number_fields
     nil)
    (number_field nonempty-type-from-decl nil number_fields nil)
    (real_pred const-decl "[number_field -> boolean]" reals nil)
    (real nonempty-type-from-decl nil reals nil)
    (< const-decl "bool" reals nil)
    (rational_pred const-decl "[real -> boolean]" rationals nil)
    (rational nonempty-type-from-decl nil rationals nil)
    (integer_pred const-decl "[rational -> boolean]" integers nil)
    (int nonempty-type-eq-decl nil integers nil)
    (>= const-decl "bool" reals nil)
    (nat nonempty-type-eq-decl nil naturalnumbers nil)
    (nonneg_int nonempty-type-eq-decl nil integers nil)
    (> const-decl "bool" reals nil)
    (posnat nonempty-type-eq-decl nil integers nil)
    (exp2 def-decl "posnat" exp2 nil)
    (uint8 type-eq-decl nil integertypes nil)
    (<= const-decl "bool" reals nil)
    (upto nonempty-type-eq-decl nil naturalnumbers nil)
    (byte type-eq-decl nil cstopdown nil)
    (non_terminal type-eq-decl nil cstopdown nil)
    (good_entry? const-decl "bool" cstopdown nil)
    (real_lt_is_strict_total_order name-judgement
     "(strict_total_order?[real])" real_props nil)
    (nil application-judgement "above(n)" exp2 nil)
    (real_le_is_total_order name-judgement "(total_order?[real])"
     real_props nil)
    (num_non_terminals const-decl "byte" cstopdown nil)
    (good_good_entry? const-decl "bool" cstopdown nil)
    (good_push_entry? const-decl "bool" cstopdown nil)
    (nice_entry? const-decl "bool" cstopdown nil)
    (good_root? const-decl "bool" cstopdown nil)
    (good_or_fail? const-decl "bool" cstopdown nil)
    (count const-decl "upto(len)" arrayCount nil)
    (scafcount const-decl "uint64" cstopdown nil)
    (gfcount const-decl "uint64" cstopdown nil)
    (good_tscaffold? const-decl "bool" cstopdown nil)
    (fine_scaffold? const-decl "bool" cstopdown nil))
   nil
   (iparse subtype
    "(LAMBDA (i: naturalnumbers.upto(cstopdowntest.len)): cstopdowntest.pend) WITH [(cstopdowntest.start)(cstopdowntest.root) := cstopdown.push(0, cstopdown.num_non_terminals)]"
    "(cstopdown.fine_scaffold?(cstopdowntest.len, cstopdowntest.G, cstopdowntest.s)(cstopdowntest.start, cstopdowntest.root))")))
 (iparse_TCC6 0
  (iparse_TCC6-1 nil 3805067364 ("" (subtype-tcc) nil nil) nil nil
   (iparse subtype "1"
    "(cstopdown.good_depth?(cstopdowntest.len, (LAMBDA (i: naturalnumbers.upto(cstopdowntest.len)): cstopdowntest.pend) WITH [(cstopdowntest.start)(cstopdowntest.root) := cstopdown.push(0, cstopdown.num_non_terminals)]))")))
 (iparse_TCC7 0
  (iparse_TCC7-1 nil 3805067364 ("" (subtype-tcc) nil nil) nil nil
   (iparse subtype "cstopdowntest.start" "uint32")))
 (iparse_TCC8 0
  (iparse_TCC8-1 nil 3805067364 ("" (subtype-tcc) nil nil) nil nil
   (iparse subtype
    "cstopdown.push(cstopdowntest.start, cstopdowntest.root)"
    "(cstopdown.fine_stack?(cstopdowntest.len, cstopdowntest.G, 1, (LAMBDA (i: naturalnumbers.upto(cstopdowntest.len)): cstopdowntest.pend) WITH [(cstopdowntest.start)(cstopdowntest.root) := cstopdown.push(0, cstopdown.num_non_terminals)]))")))
 (iparse_TCC9 0
  (iparse_TCC9-1 nil 3805067364 ("" (subtype-tcc) nil nil)
   ((boolean nonempty-type-decl nil booleans nil)
    (bool nonempty-type-eq-decl nil booleans nil)
    (NOT const-decl "[bool -> bool]" booleans nil)
    (number nonempty-type-decl nil numbers nil)
    (number_field_pred const-decl "[number -> boolean]" number_fields
     nil)
    (number_field nonempty-type-from-decl nil number_fields nil)
    (real_pred const-decl "[number_field -> boolean]" reals nil)
    (real nonempty-type-from-decl nil reals nil)
    (< const-decl "bool" reals nil)
    (rational_pred const-decl "[real -> boolean]" rationals nil)
    (rational nonempty-type-from-decl nil rationals nil)
    (integer_pred const-decl "[rational -> boolean]" integers nil)
    (int nonempty-type-eq-decl nil integers nil)
    (>= const-decl "bool" reals nil)
    (nat nonempty-type-eq-decl nil naturalnumbers nil)
    (nonneg_int nonempty-type-eq-decl nil integers nil)
    (> const-decl "bool" reals nil)
    (posnat nonempty-type-eq-decl nil integers nil)
    (exp2 def-decl "posnat" exp2 nil)
    (uint8 type-eq-decl nil integertypes nil)
    (<= const-decl "bool" reals nil)
    (upto nonempty-type-eq-decl nil naturalnumbers nil)
    (byte type-eq-decl nil cstopdown nil)
    (non_terminal type-eq-decl nil cstopdown nil)
    (nil application-judgement "above(n)" exp2 nil)
    (real_lt_is_strict_total_order name-judgement
     "(strict_total_order?[real])" real_props nil)
    (real_le_is_total_order name-judgement "(total_order?[real])"
     real_props nil)
    (num_non_terminals const-decl "byte" cstopdown nil))
   nil
   (iparse subtype "booleans.FALSE"
    "{b: booleans.bool | IF b THEN booleans.OR(cstopdowntest.root = cstopdown.num_non_terminals, cstopdown.loop_ready?(cstopdowntest.len, cstopdowntest.G, (LAMBDA (i: naturalnumbers.upto(cstopdowntest.len)): cstopdowntest.pend) WITH [(cstopdowntest.start)(cstopdowntest.root) := cstopdown.push(0, cstopdown.num_non_terminals)], cstopdowntest.start, cstopdowntest.root)) ELSE FORALL (i_1: naturalnumbers.upto(cstopdowntest.len)), n: (booleans.NOT)(cstopdown.loop?((LAMBDA (i: naturalnumbers.upto(cstopdowntest.len)): cstopdowntest.pend) WITH [(cstopdowntest.start)(cstopdowntest.root) := cstopdown.push(0, cstopdown.num_non_terminals)](i_1)(cstopdown.n))) ENDIF}"))))

